SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[MRI_CR_FOLDER]') IS NULL EXEC('CREATE VIEW [dbo].[MRI_CR_FOLDER] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[MRI_CR_FOLDER]
( FROM_PID, FROM_NSID, FROM_EID, TO_PID, TO_TYPE, PROP_NAME ) as (select a6.PSF_OPID, a6.PSF_NSID, a6.PSF_EXTERNID, a8.PRR_OID, a8.PRR_TYPENAME, 'com.informatica.metadata.common.folder.Folder.contents' from "dbo".PO_FOLDER a6  left join "dbo".PR_RESOURCE a7 on a6.PSF_CONTAINER = a7.PRR_ID left join "dbo".PR_RESOURCE a8 on a7.PRR_ID = a8.PRR_PARENTCONTAINER join "dbo".PR_ATTRIBUTE a9 on (a8.PRR_ID = a9.PRA_RESOURCE and a9.PRD_ATTR_NAME = 'REPO.SYSTEM.PRS_AGGREGATOR_PROP_NAME_ATTR' and a9.PRD_ATTR_VALUE = 'contents')  where a6.PSF_PRSID = 0 AND (a6.PSF_DISCRIMINATOR = 'com.informatica.metadata.common.folder.impl.FolderImpl' OR a6.PSF_DISCRIMINATOR = 'MPROOTFOLDERMARKER')  ) UNION ALL (select a10.POC_GENERIC_REF_PAR_ENTITY, a11.PSF_NSID, a11.PSF_EXTERNID, a10.POC_GENERIC_REF_ENTITY, '', 'com.informatica.metadata.common.core.NamedElement.annotations' from "dbo".PO_COLLECTIONENTRY_0 a10 join "dbo".PO_FOLDER a11 on a10.POC_GENERIC_REF_PAR_ENTITY = a11.PSF_OPID  where a11.PSF_PRSID = 0 AND ((a11.PSF_DISCRIMINATOR = 'com.informatica.metadata.common.folder.impl.FolderImpl' AND a10.POC_GENERIC_REF_PAR_TYPE = 383)  OR (a11.PSF_DISCRIMINATOR = 'MPROOTFOLDERMARKER' AND a10.POC_GENERIC_REF_PAR_TYPE = 512) )  AND a10.POC_PROPERTYNAME = 1204 ) UNION ALL (select a12.POC_GENERIC_REF_PAR_ENTITY, a13.PSF_NSID, a13.PSF_EXTERNID, a12.POC_GENERIC_REF_ENTITY, '', 'com.informatica.metadata.common.core.NamedElement.annotations' from "dbo".PO_COLLECTIONENTRY_1 a12 join "dbo".PO_FOLDER a13 on a12.POC_GENERIC_REF_PAR_ENTITY = a13.PSF_OPID  where a13.PSF_PRSID = 0 AND ((a13.PSF_DISCRIMINATOR = 'com.informatica.metadata.common.folder.impl.FolderImpl' AND a12.POC_GENERIC_REF_PAR_TYPE = 383)  OR (a13.PSF_DISCRIMINATOR = 'MPROOTFOLDERMARKER' AND a12.POC_GENERIC_REF_PAR_TYPE = 512) )  AND a12.POC_PROPERTYNAME = 1204 ) UNION ALL (select a14.POC_GENERIC_REF_PAR_ENTITY, a15.PSF_NSID, a15.PSF_EXTERNID, a14.POC_GENERIC_REF_ENTITY, '', 'com.informatica.metadata.common.core.NamedElement.annotations' from "dbo".PO_COLLECTIONENTRY_2 a14 join "dbo".PO_FOLDER a15 on a14.POC_GENERIC_REF_PAR_ENTITY = a15.PSF_OPID  where a15.PSF_PRSID = 0 AND ((a15.PSF_DISCRIMINATOR = 'com.informatica.metadata.common.folder.impl.FolderImpl' AND a14.POC_GENERIC_REF_PAR_TYPE = 383)  OR (a15.PSF_DISCRIMINATOR = 'MPROOTFOLDERMARKER' AND a14.POC_GENERIC_REF_PAR_TYPE = 512) )  AND a14.POC_PROPERTYNAME = 1204 ) UNION ALL (select a16.POC_GENERIC_REF_PAR_ENTITY, a17.PSF_NSID, a17.PSF_EXTERNID, a16.POC_GENERIC_REF_ENTITY, '', 'com.informatica.metadata.common.core.NamedElement.annotations' from "dbo".PO_COLLECTIONENTRY_3 a16 join "dbo".PO_FOLDER a17 on a16.POC_GENERIC_REF_PAR_ENTITY = a17.PSF_OPID  where a17.PSF_PRSID = 0 AND ((a17.PSF_DISCRIMINATOR = 'com.informatica.metadata.common.folder.impl.FolderImpl' AND a16.POC_GENERIC_REF_PAR_TYPE = 383)  OR (a17.PSF_DISCRIMINATOR = 'MPROOTFOLDERMARKER' AND a16.POC_GENERIC_REF_PAR_TYPE = 512) )  AND a16.POC_PROPERTYNAME = 1204 ) UNION ALL (select a18.POC_GENERIC_REF_PAR_ENTITY, a19.PSF_NSID, a19.PSF_EXTERNID, a18.POC_GENERIC_REF_ENTITY, '', 'com.informatica.metadata.common.core.NamedElement.annotations' from "dbo".PO_COLLECTIONENTRY_4 a18 join "dbo".PO_FOLDER a19 on a18.POC_GENERIC_REF_PAR_ENTITY = a19.PSF_OPID  where a19.PSF_PRSID = 0 AND ((a19.PSF_DISCRIMINATOR = 'com.informatica.metadata.common.folder.impl.FolderImpl' AND a18.POC_GENERIC_REF_PAR_TYPE = 383)  OR (a19.PSF_DISCRIMINATOR = 'MPROOTFOLDERMARKER' AND a18.POC_GENERIC_REF_PAR_TYPE = 512) )  AND a18.POC_PROPERTYNAME = 1204 ) UNION ALL (select a20.POC_GENERIC_REF_PAR_ENTITY, a21.PSF_NSID, a21.PSF_EXTERNID, a20.POC_GENERIC_REF_ENTITY, '', 'com.informatica.metadata.common.core.NamedElement.annotations' from "dbo".PO_COLLECTIONENTRY_5 a20 join "dbo".PO_FOLDER a21 on a20.POC_GENERIC_REF_PAR_ENTITY = a21.PSF_OPID  where a21.PSF_PRSID = 0 AND ((a21.PSF_DISCRIMINATOR = 'com.informatica.metadata.common.folder.impl.FolderImpl' AND a20.POC_GENERIC_REF_PAR_TYPE = 383)  OR (a21.PSF_DISCRIMINATOR = 'MPROOTFOLDERMARKER' AND a20.POC_GENERIC_REF_PAR_TYPE = 512) )  AND a20.POC_PROPERTYNAME = 1204 ) UNION ALL (select a22.POC_GENERIC_REF_PAR_ENTITY, a23.PSF_NSID, a23.PSF_EXTERNID, a22.POC_GENERIC_REF_ENTITY, '', 'com.informatica.metadata.common.core.NamedElement.annotations' from "dbo".PO_COLLECTIONENTRY_6 a22 join "dbo".PO_FOLDER a23 on a22.POC_GENERIC_REF_PAR_ENTITY = a23.PSF_OPID  where a23.PSF_PRSID = 0 AND ((a23.PSF_DISCRIMINATOR = 'com.informatica.metadata.common.folder.impl.FolderImpl' AND a22.POC_GENERIC_REF_PAR_TYPE = 383)  OR (a23.PSF_DISCRIMINATOR = 'MPROOTFOLDERMARKER' AND a22.POC_GENERIC_REF_PAR_TYPE = 512) )  AND a22.POC_PROPERTYNAME = 1204 ) UNION ALL (select a24.POC_GENERIC_REF_PAR_ENTITY, a25.PSF_NSID, a25.PSF_EXTERNID, a24.POC_GENERIC_REF_ENTITY, '', 'com.informatica.metadata.common.core.NamedElement.annotations' from "dbo".PO_COLLECTIONENTRY_7 a24 join "dbo".PO_FOLDER a25 on a24.POC_GENERIC_REF_PAR_ENTITY = a25.PSF_OPID  where a25.PSF_PRSID = 0 AND ((a25.PSF_DISCRIMINATOR = 'com.informatica.metadata.common.folder.impl.FolderImpl' AND a24.POC_GENERIC_REF_PAR_TYPE = 383)  OR (a25.PSF_DISCRIMINATOR = 'MPROOTFOLDERMARKER' AND a24.POC_GENERIC_REF_PAR_TYPE = 512) )  AND a24.POC_PROPERTYNAME = 1204 ) UNION ALL (select a26.POC_GENERIC_REF_PAR_ENTITY, a27.PSF_NSID, a27.PSF_EXTERNID, a26.POC_GENERIC_REF_ENTITY, '', 'com.informatica.metadata.common.core.NamedElement.annotations' from "dbo".PO_COLLECTIONENTRY_8 a26 join "dbo".PO_FOLDER a27 on a26.POC_GENERIC_REF_PAR_ENTITY = a27.PSF_OPID  where a27.PSF_PRSID = 0 AND ((a27.PSF_DISCRIMINATOR = 'com.informatica.metadata.common.folder.impl.FolderImpl' AND a26.POC_GENERIC_REF_PAR_TYPE = 383)  OR (a27.PSF_DISCRIMINATOR = 'MPROOTFOLDERMARKER' AND a26.POC_GENERIC_REF_PAR_TYPE = 512) )  AND a26.POC_PROPERTYNAME = 1204 ) UNION ALL (select a28.POC_GENERIC_REF_PAR_ENTITY, a29.PSF_NSID, a29.PSF_EXTERNID, a28.POC_GENERIC_REF_ENTITY, '', 'com.informatica.metadata.common.core.NamedElement.annotations' from "dbo".PO_COLLECTIONENTRY_9 a28 join "dbo".PO_FOLDER a29 on a28.POC_GENERIC_REF_PAR_ENTITY = a29.PSF_OPID  where a29.PSF_PRSID = 0 AND ((a29.PSF_DISCRIMINATOR = 'com.informatica.metadata.common.folder.impl.FolderImpl' AND a28.POC_GENERIC_REF_PAR_TYPE = 383)  OR (a29.PSF_DISCRIMINATOR = 'MPROOTFOLDERMARKER' AND a28.POC_GENERIC_REF_PAR_TYPE = 512) )  AND a28.POC_PROPERTYNAME = 1204 )
GO
