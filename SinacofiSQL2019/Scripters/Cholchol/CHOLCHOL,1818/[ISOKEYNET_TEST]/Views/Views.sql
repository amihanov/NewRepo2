
GO
--SqlScripter----[dbo].[ARCHIVOSASUNTOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[ARCHIVOSASUNTOS]') IS NULL EXEC('CREATE VIEW [dbo].[ARCHIVOSASUNTOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[ARCHIVOSASUNTOS]
AS
SELECT     CODIGO, CODIGONC, DESCRIPCION, NOMBRESOLO, CONTENTTYPE, USUARIO, FASE, FECHA, CODIGOALMACEN, CODIGO_REEMPLAZA,
CATEGORY
FROM         dbo.NC_FILES
WHERE     (L_OBSOLETO = 0) AND (L_ISSUBCLASSFILE = 0)
GO

GO
--SqlScripter----[dbo].[ARCHIVOSSUBCLASESASUNTOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[ARCHIVOSSUBCLASESASUNTOS]') IS NULL EXEC('CREATE VIEW [dbo].[ARCHIVOSSUBCLASESASUNTOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[ARCHIVOSSUBCLASESASUNTOS]
AS
SELECT     CODIGO, CODIGONC, DESCRIPCION, NOMBRESOLO, CONTENTTYPE, USUARIO, FASE, FECHA, CODIGOALMACEN, CODIGO_REEMPLAZA, CATEGORY,
SUBCLASS_UNIQUEID, SUBCLASS_RECORDID
FROM         dbo.NC_FILES
WHERE     (L_OBSOLETO = 0) AND (L_ISSUBCLASSFILE = 1)
GO

GO
--SqlScripter----[dbo].[ARCHIVOSTAREAS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[ARCHIVOSTAREAS]') IS NULL EXEC('CREATE VIEW [dbo].[ARCHIVOSTAREAS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[ARCHIVOSTAREAS]
AS
SELECT     CODIGO, CODIGOTAREA, DESCRIPCION, NOMBRESOLO, CONTENTTYPE, USUARIO, FECHA, FASE, CODIGOALMACEN, CODIGO_REEMPLAZA,
CATEGORY
FROM         dbo.NC_TASKFILES
WHERE     (L_OBSOLETO = 0)
GO

GO
--SqlScripter----[dbo].[FILTER_ACP].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[FILTER_ACP]') IS NULL EXEC('CREATE VIEW [dbo].[FILTER_ACP] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[FILTER_ACP]
AS
SELECT	dbo.CONCAT4('NCPCODE=', LTRIM(STR(T1.V_CODIGO)), '&MODULEID=', LTRIM(STR(T1.TIPONC))) as MODULE_CODE
		, E1.FECHA_VENCIMIENTO as FECHA_ACCIONES		, U1.CODIGOUSUARIO as USUARIO_ACC
		, E2.FECHA_VENCIMIENTO as FECHA_IMPLEMENTACION	, U2.CODIGOUSUARIO as USUARIO_IMP
		, E3.FECHA_VENCIMIENTO as FECHA_EFICACIA		, U3.CODIGOUSUARIO as USUARIO_EFI
		, T1.*
FROM	dbo.VAR_ACCIONESCORRECTIVAS_VIEW T1
			INNER JOIN NC_WF_ETAPAS E1
				ON T1.CODIGONC = E1.CODIGO_NC
			INNER JOIN NCETAPAS A1
				ON E1.CODIGO_NCETAPAS = A1.CODIGO AND A1.ETAPA = 1
			LEFT OUTER JOIN VISTA_CARGOSUSUARIOS U1
				ON E1.CODIGO_CARGO_RESPONSABLE = U1.CODIGOCARGO
			INNER JOIN NC_WF_ETAPAS E2
				ON T1.CODIGONC = E2.CODIGO_NC
			INNER JOIN NCETAPAS A2
				ON E2.CODIGO_NCETAPAS = A2.CODIGO AND A2.ETAPA = 2
			LEFT OUTER JOIN VISTA_CARGOSUSUARIOS U2
				ON E2.CODIGO_CARGO_RESPONSABLE = U2.CODIGOCARGO
			INNER JOIN NC_WF_ETAPAS E3
				ON T1.CODIGONC = E3.CODIGO_NC
			INNER JOIN NCETAPAS A3
				ON E3.CODIGO_NCETAPAS = A3.CODIGO AND A3.ETAPA = 3
			LEFT OUTER JOIN VISTA_CARGOSUSUARIOS U3
				ON E3.CODIGO_CARGO_RESPONSABLE = U3.CODIGOCARGO
GO

GO
--SqlScripter----[dbo].[FILTER_ADM].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[FILTER_ADM]') IS NULL EXEC('CREATE VIEW [dbo].[FILTER_ADM] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[FILTER_ADM]
AS
SELECT	dbo.CONCAT4('NCPCODE=', LTRIM(STR(T1.V_CODIGO)), '&MODULEID=', LTRIM(STR(T1.TIPONC))) as MODULE_CODE
		, E1.FECHA_VENCIMIENTO as FECHA_ACCIONES		, U1.CODIGOUSUARIO as USUARIO_ACC
		, E2.FECHA_VENCIMIENTO as FECHA_IMPLEMENTACION	, U2.CODIGOUSUARIO as USUARIO_IMP
		, E3.FECHA_VENCIMIENTO as FECHA_EFICACIA		, U3.CODIGOUSUARIO as USUARIO_EFI
		, T1.*
FROM	dbo.VAR_ACCIONESMEJORA_VIEW T1
			INNER JOIN NC_WF_ETAPAS E1
				ON T1.CODIGONC = E1.CODIGO_NC
			INNER JOIN NCETAPAS A1
				ON E1.CODIGO_NCETAPAS = A1.CODIGO AND A1.ETAPA = 1
			LEFT OUTER JOIN VISTA_CARGOSUSUARIOS U1
				ON E1.CODIGO_CARGO_RESPONSABLE = U1.CODIGOCARGO
			INNER JOIN NC_WF_ETAPAS E2
				ON T1.CODIGONC = E2.CODIGO_NC
			INNER JOIN NCETAPAS A2
				ON E2.CODIGO_NCETAPAS = A2.CODIGO AND A2.ETAPA = 2
			LEFT OUTER JOIN VISTA_CARGOSUSUARIOS U2
				ON E2.CODIGO_CARGO_RESPONSABLE = U2.CODIGOCARGO
			INNER JOIN NC_WF_ETAPAS E3
				ON T1.CODIGONC = E3.CODIGO_NC
			INNER JOIN NCETAPAS A3
				ON E3.CODIGO_NCETAPAS = A3.CODIGO AND A3.ETAPA = 3
			LEFT OUTER JOIN VISTA_CARGOSUSUARIOS U3
				ON E3.CODIGO_CARGO_RESPONSABLE = U3.CODIGOCARGO
GO

GO
--SqlScripter----[dbo].[FILTER_INCIDENTES_AUDITORIA].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[FILTER_INCIDENTES_AUDITORIA]') IS NULL EXEC('CREATE VIEW [dbo].[FILTER_INCIDENTES_AUDITORIA] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[FILTER_INCIDENTES_AUDITORIA]
AS
SELECT	dbo.CONCAT4('NCPCODE=', LTRIM(STR(T1.V_CODIGO)), '&MODULEID=', LTRIM(STR(T1.TIPONC))) as MODULE_CODE
		, E1.FECHA_VENCIMIENTO as FECHA_ACCIONES, U1.CODIGOUSUARIO as USUARIO_ACC
		, T1.*
FROM	dbo.VAR_INCIDENTES_AUD_VIEW T1
			INNER JOIN NC_WF_ETAPAS E1
				ON T1.CODIGONC = E1.CODIGO_NC
			INNER JOIN NCETAPAS A1
				ON E1.CODIGO_NCETAPAS = A1.CODIGO AND A1.ETAPA = 1
			LEFT OUTER JOIN VISTA_CARGOSUSUARIOS U1
				ON E1.CODIGO_CARGO_RESPONSABLE = U1.CODIGOCARGO
GO

GO
--SqlScripter----[dbo].[FILTER_INCIDENTES_GENERALES].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[FILTER_INCIDENTES_GENERALES]') IS NULL EXEC('CREATE VIEW [dbo].[FILTER_INCIDENTES_GENERALES] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[FILTER_INCIDENTES_GENERALES]
AS
SELECT	dbo.CONCAT4('NCPCODE=', LTRIM(STR(T1.V_CODIGO)), '&MODULEID=', LTRIM(STR(T1.TIPONC))) as MODULE_CODE
		, E1.FECHA_VENCIMIENTO as FECHA_ACCIONES, U1.CODIGOUSUARIO as USUARIO_ACC
		, T1.*
FROM	dbo.VAR_INCIDENTESINT_VIEW T1
			INNER JOIN NC_WF_ETAPAS E1
				ON T1.CODIGONC = E1.CODIGO_NC
			INNER JOIN NCETAPAS A1
				ON E1.CODIGO_NCETAPAS = A1.CODIGO AND A1.ETAPA = 1
			LEFT OUTER JOIN VISTA_CARGOSUSUARIOS U1
				ON E1.CODIGO_CARGO_RESPONSABLE = U1.CODIGOCARGO
GO

GO
--SqlScripter----[dbo].[FILTER_NCA].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[FILTER_NCA]') IS NULL EXEC('CREATE VIEW [dbo].[FILTER_NCA] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[FILTER_NCA]
AS
SELECT	dbo.CONCAT4('NCPCODE=', LTRIM(STR(T1.V_CODIGO)), '&MODULEID=', LTRIM(STR(T1.TIPONC))) as MODULE_CODE
		, E1.FECHA_VENCIMIENTO as FECHA_ACCIONES_INMEDIATAS	, U1.CODIGOUSUARIO as USUARIO_AI
		, E2.FECHA_VENCIMIENTO as FECHA_ANALISIS_DE_CAUSAS	, U2.CODIGOUSUARIO as USUARIO_EN
		, E3.FECHA_VENCIMIENTO as FECHA_ACCIONES_CORRECTIVAS, U3.CODIGOUSUARIO as USUARIO_AC
		, E4.FECHA_VENCIMIENTO as FECHA_EVALUACION_EFICACIA	, U4.CODIGOUSUARIO as USUARIO_EE
		, T1.*
FROM	dbo.VAR_NCAUD_VIEW T1
			INNER JOIN NC_WF_ETAPAS E1
				ON T1.CODIGONC = E1.CODIGO_NC
			INNER JOIN NCETAPAS A1
				ON E1.CODIGO_NCETAPAS = A1.CODIGO AND A1.ETAPA = 1
			LEFT OUTER JOIN VISTA_CARGOSUSUARIOS U1
				ON E1.CODIGO_CARGO_RESPONSABLE = U1.CODIGOCARGO
			INNER JOIN NC_WF_ETAPAS E2
				ON T1.CODIGONC = E2.CODIGO_NC
			INNER JOIN NCETAPAS A2
				ON E2.CODIGO_NCETAPAS = A2.CODIGO AND A2.ETAPA = 2
			LEFT OUTER JOIN VISTA_CARGOSUSUARIOS U2
				ON E2.CODIGO_CARGO_RESPONSABLE = U2.CODIGOCARGO
			INNER JOIN NC_WF_ETAPAS E3
				ON T1.CODIGONC = E3.CODIGO_NC
			INNER JOIN NCETAPAS A3
				ON E3.CODIGO_NCETAPAS = A3.CODIGO AND A3.ETAPA = 3
			LEFT OUTER JOIN VISTA_CARGOSUSUARIOS U3
				ON E3.CODIGO_CARGO_RESPONSABLE = U3.CODIGOCARGO
			INNER JOIN NC_WF_ETAPAS E4
				ON T1.CODIGONC = E4.CODIGO_NC
			INNER JOIN NCETAPAS A4
				ON E4.CODIGO_NCETAPAS = A4.CODIGO AND A4.ETAPA = 4
			LEFT OUTER JOIN VISTA_CARGOSUSUARIOS U4
				ON E4.CODIGO_CARGO_RESPONSABLE = U4.CODIGOCARGO
GO

GO
--SqlScripter----[dbo].[FILTER_NCI].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[FILTER_NCI]') IS NULL EXEC('CREATE VIEW [dbo].[FILTER_NCI] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[FILTER_NCI]
AS
SELECT	dbo.CONCAT4('NCPCODE=', LTRIM(STR(T1.V_CODIGO)), '&MODULEID=', LTRIM(STR(T1.TIPONC))) as MODULE_CODE
		, E1.FECHA_VENCIMIENTO as FECHA_ACCIONES_INMEDIATAS	, U1.CODIGOUSUARIO as USUARIO_AI
		, E2.FECHA_VENCIMIENTO as FECHA_ANALISIS_DE_CAUSAS	, U2.CODIGOUSUARIO as USUARIO_EN
		, E3.FECHA_VENCIMIENTO as FECHA_ACCIONES_CORRECTIVAS, U3.CODIGOUSUARIO as USUARIO_AC
		, E4.FECHA_VENCIMIENTO as FECHA_EVALUACION_EFICACIA	, U4.CODIGOUSUARIO as USUARIO_EE
		, T1.*
FROM	dbo.VAR_NOCONFORMIDADES_VIEW T1
			INNER JOIN NC_WF_ETAPAS E1
				ON T1.CODIGONC = E1.CODIGO_NC
			INNER JOIN NCETAPAS A1
				ON E1.CODIGO_NCETAPAS = A1.CODIGO AND A1.ETAPA = 1
			LEFT OUTER JOIN VISTA_CARGOSUSUARIOS U1
				ON E1.CODIGO_CARGO_RESPONSABLE = U1.CODIGOCARGO
			INNER JOIN NC_WF_ETAPAS E2
				ON T1.CODIGONC = E2.CODIGO_NC
			INNER JOIN NCETAPAS A2
				ON E2.CODIGO_NCETAPAS = A2.CODIGO AND A2.ETAPA = 2
			LEFT OUTER JOIN VISTA_CARGOSUSUARIOS U2
				ON E2.CODIGO_CARGO_RESPONSABLE = U2.CODIGOCARGO
			INNER JOIN NC_WF_ETAPAS E3
				ON T1.CODIGONC = E3.CODIGO_NC
			INNER JOIN NCETAPAS A3
				ON E3.CODIGO_NCETAPAS = A3.CODIGO AND A3.ETAPA = 3
			LEFT OUTER JOIN VISTA_CARGOSUSUARIOS U3
				ON E3.CODIGO_CARGO_RESPONSABLE = U3.CODIGOCARGO
			INNER JOIN NC_WF_ETAPAS E4
				ON T1.CODIGONC = E4.CODIGO_NC
			INNER JOIN NCETAPAS A4
				ON E4.CODIGO_NCETAPAS = A4.CODIGO AND A4.ETAPA = 4
			LEFT OUTER JOIN VISTA_CARGOSUSUARIOS U4
				ON E4.CODIGO_CARGO_RESPONSABLE = U4.CODIGOCARGO
GO

GO
--SqlScripter----[dbo].[FILTER_QUEJAS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[FILTER_QUEJAS]') IS NULL EXEC('CREATE VIEW [dbo].[FILTER_QUEJAS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[FILTER_QUEJAS]
AS
SELECT	dbo.CONCAT4('NCPCODE=', LTRIM(STR(T1.V_CODIGO)), '&MODULEID=', LTRIM(STR(T1.TIPONC))) as MODULE_CODE
		, E1.FECHA_VENCIMIENTO as FECHA_ACCIONES_INMEDIATAS	, U1.CODIGOUSUARIO as USUARIO_AI
		, E2.FECHA_VENCIMIENTO as FECHA_ANALISIS_DE_CAUSAS	, U2.CODIGOUSUARIO as USUARIO_EN
		, E3.FECHA_VENCIMIENTO as FECHA_ACCIONES_CORRECTIVAS, U3.CODIGOUSUARIO as USUARIO_AC
		, E4.FECHA_VENCIMIENTO as FECHA_EVALUACION_EFICACIA	, U4.CODIGOUSUARIO as USUARIO_EE
		, TD.USUARIO as DESCRIPCION_DETECTANTE
		, TC.DESCRIPCION as DESCRIPCION_CLIENTE
		, T1.*
FROM	dbo.VAR_QUEJAS_VIEW T1
			INNER JOIN NC_WF_ETAPAS E1
				ON T1.CODIGONC = E1.CODIGO_NC
			INNER JOIN NCETAPAS A1
				ON E1.CODIGO_NCETAPAS = A1.CODIGO AND A1.ETAPA = 1
			LEFT OUTER JOIN VISTA_CARGOSUSUARIOS U1
				ON E1.CODIGO_CARGO_RESPONSABLE = U1.CODIGOCARGO
			INNER JOIN NC_WF_ETAPAS E2
				ON T1.CODIGONC = E2.CODIGO_NC
			INNER JOIN NCETAPAS A2
				ON E2.CODIGO_NCETAPAS = A2.CODIGO AND A2.ETAPA = 2
			LEFT OUTER JOIN VISTA_CARGOSUSUARIOS U2
				ON E2.CODIGO_CARGO_RESPONSABLE = U2.CODIGOCARGO
			INNER JOIN NC_WF_ETAPAS E3
				ON T1.CODIGONC = E3.CODIGO_NC
			INNER JOIN NCETAPAS A3
				ON E3.CODIGO_NCETAPAS = A3.CODIGO AND A3.ETAPA = 3
			LEFT OUTER JOIN VISTA_CARGOSUSUARIOS U3
				ON E3.CODIGO_CARGO_RESPONSABLE = U3.CODIGOCARGO
			INNER JOIN NC_WF_ETAPAS E4
				ON T1.CODIGONC = E4.CODIGO_NC
			INNER JOIN NCETAPAS A4
				ON E4.CODIGO_NCETAPAS = A4.CODIGO AND A4.ETAPA = 4
			LEFT OUTER JOIN VISTA_CARGOSUSUARIOS U4
				ON E4.CODIGO_CARGO_RESPONSABLE = U4.CODIGOCARGO
			LEFT OUTER JOIN TBL_CLIENTES TC
				ON T1.CLIENTE = TC.CODIGO
			LEFT OUTER JOIN VIEW_NCCC_DETECTEDBY TD
				ON T1.DESCDETECCION = TD.CODIGO
GO

GO
--SqlScripter----[dbo].[NC_WF_ETAPAS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[NC_WF_ETAPAS]') IS NULL EXEC('CREATE VIEW [dbo].[NC_WF_ETAPAS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[NC_WF_ETAPAS]
AS
SELECT     CODIGO AS CODIGO_NCETAPAS, CODIGONC AS CODIGO_NC, SYSTEM_CUMPLIDA, L_NOAPLICA AS L_EXCLUIDA, SYSTEM_INICIADA, 
                      FECHAVENCIMIENTO AS FECHA_VENCIMIENTO, CODIGO_CARGO_RESPONSABLE
FROM         dbo.NCETAPAS
GO

GO
--SqlScripter----[dbo].[ORGANIGRAMAREL].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[ORGANIGRAMAREL]') IS NULL EXEC('CREATE VIEW [dbo].[ORGANIGRAMAREL] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[ORGANIGRAMAREL]
AS
 SELECT 
IKI_ORGCHART.IKI_ORGCHARTID AS CODIGO,
DOCUMENTOS.CODIGO AS CODIGODOCUMENTO,
IKI_ORGCHART.O_ID AS CODIGORELACIONADO
 FROM IKI_ORGCHART
 JOIN DOCUMENTOS ON IKI_ORGCHART.IKI_MASTERID=DOCUMENTOS.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[PERSONAS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[PERSONAS]') IS NULL EXEC('CREATE VIEW [dbo].[PERSONAS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[PERSONAS]
AS
SELECT     P.CODIGO, CASE WHEN P.L_DELETED = 0 THEN P.USUARIO ELSE 'N/A - ' + P.USUARIO END AS USUARIO, P.EMAIL, P.FECHAALTA, 
                      P.FECHACADUCIDAD, P.L_IS_IKUSER, P.L_DELETED, P.USUARIOALTA, D.CODIGO AS DATOS_CODIGO, CASE WHEN D .APELLIDOS IS NULL AND 
                      P.L_DELETED = 0 THEN P.USUARIO WHEN D .APELLIDOS IS NULL AND 
                      P.L_DELETED = 1 THEN 'N/A - ' + P.USUARIO WHEN L_IS_IKPERSON_DELETED = 1 THEN 'N/A - ' + D .APELLIDOS + ' ' + ISNULL(D .NOMBRES, '') 
                      ELSE D .APELLIDOS + ' ' + ISNULL(D .NOMBRES, '') END AS PERSONA, CASE WHEN D .CODIGO IS NULL 
                      THEN 0 ELSE 1 END AS L_DATOS_DISPONIBLES, D.FECHANACIMIENTO, D.TELEFONOS, D.MOVIL, D.DOMICILIO, D.FOTO, D.CV, 
                      D.CODIGOCATEGORIAUSUARIO, D.COMENTARIOS, P.IKI_MASTERID, P.IKPERSON_HTMLREPORTS_OPTS_ID, P.GUID, P.DN, 
                      CASE WHEN GUID IS NULL THEN 0 ELSE 1 END AS L_IS_SYNCHRONIZED, D.APELLIDOS, D.NOMBRES, D.CODIGOALMACEN_FOTO, 
                      D.CODIGOALMACEN_CV, P.L_IS_IKPERSON_DELETED, P.IKPERSON_ARCHIVE_DATE, 
                      dbo.TBL_CATEGORIASUSUARIOS.DESCRIPCION AS CATEGORIAUSUARIO
FROM         dbo.TBL_CATEGORIASUSUARIOS RIGHT OUTER JOIN
                      dbo.DATOSUSUARIOS AS D ON dbo.TBL_CATEGORIASUSUARIOS.CODIGO = D.CODIGOCATEGORIAUSUARIO RIGHT OUTER JOIN
                      dbo.IK_PEOPLE AS P ON D.CODIGOUSUARIO = P.CODIGO
WHERE     (P.L_WEBGROUP = 0) AND (P.L_GRUPO = 0)
GO

GO
--SqlScripter----[dbo].[REPORTE_AUD_VARCHILD_PROCESOS_APROBACION_AP].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[REPORTE_AUD_VARCHILD_PROCESOS_APROBACION_AP]') IS NULL EXEC('CREATE VIEW [dbo].[REPORTE_AUD_VARCHILD_PROCESOS_APROBACION_AP] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[REPORTE_AUD_VARCHILD_PROCESOS_APROBACION_AP]
AS
SELECT     CODIGO, CODIGONC, FECHA_INICIO, FECHA_FIN, CASE WHEN TERMINADO = 1 THEN 'Finalizada' ELSE 'En curso' END AS ESTADO_PROCESO
FROM         dbo.VARCHILD_PROCESOS_APROBACION_AP
WHERE     (CODIGO IN
                          (SELECT     MAX(CODIGO) AS CODIGO
                            FROM          dbo.VARCHILD_PROCESOS_APROBACION_AP AS VARCHILD_PROCESOS_APROBACION_AP_1
                            GROUP BY CODIGONC))
GO

GO
--SqlScripter----[dbo].[SINACOFI_NCETAPAS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[SINACOFI_NCETAPAS]') IS NULL EXEC('CREATE VIEW [dbo].[SINACOFI_NCETAPAS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[SINACOFI_NCETAPAS]
AS
SELECT     CODIGO, dbo.GET_proxima_tarea_Sinacofi(CODIGONC, ETAPA) AS TAREA
FROM         dbo.NCETAPAS
GO

GO
--SqlScripter----[dbo].[TBL_RESTRICTED_AM_DOCTYPES_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[TBL_RESTRICTED_AM_DOCTYPES_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[TBL_RESTRICTED_AM_DOCTYPES_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[TBL_RESTRICTED_AM_DOCTYPES_VIEW]
AS
SELECT CODIGO, USERID, (SELECT USUARIO FROM USUARIOS WHERE
CODIGO=TBL_RESTRICTED_AM_DOCTYPES.USERID) AS USUARIO ,DOCTYPEID, (SELECT DESCRIPCION FROM TIPOSDOCUMENTOS WHERE
CODIGO=TBL_RESTRICTED_AM_DOCTYPES.DOCTYPEID) AS TIPODOCUMENTO
FROM TBL_RESTRICTED_AM_DOCTYPES
GO

GO
--SqlScripter----[dbo].[USUARIOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[USUARIOS]') IS NULL EXEC('CREATE VIEW [dbo].[USUARIOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[USUARIOS]
AS
SELECT CODIGO, CASE WHEN L_DELETED = 0 THEN USUARIO ELSE 'N/A - ' + USUARIO END AS USUARIO, PASSWORD, EMAIL, FECHAALTA, FECHACADUCIDAD, CATEGORIA, PERMISOS, CODIGOGRUPO, 
                  PERMISOSDOCUMENTOS, L_GRUPO, L_ENVIARMAILPROCESOS, L_ENVIARTEXTOCOMPLETO, L_ENVIARMAILTAREAS, L_ENVIARMAILNOTIFICACIONES, PLAZO_MISTAREAS, ULTIMA_MISTAREAS, 
                  WEBPASSWORD, L_WEBGROUP, USUARIOALTA, L_DELETED, L_MUSTCHANGEPASSWORD, L_CANCHANGEPASSWORD, PERMISOSBSPROC, LOGINNAME, USERALERTLEVEL, IK_HTMLREPORTS_OPTIONS_ID, 
                  L_IS_IKUSER, IKI_MASTERID, IKPERSON_HTMLREPORTS_OPTS_ID, GUID, DN, CASE WHEN GUID IS NULL THEN 0 ELSE 1 END AS L_IS_SYNCHRONIZED, L_USER_ACCOUNT_IS_DISABLED, 
                  L_IS_IKPERSON_DELETED, IKUSER_ARCHIVE_DATE, IKPERSON_ARCHIVE_DATE, SKIN, PASSWORD_LASTDATE, FAILED_LOGINS_COUNT, EXECUTIONAUTHORIZATIONROLES, Q_SEC, ALT_EMAIL, R_SEC
FROM     dbo.IK_PEOPLE
WHERE  (L_IS_IKUSER = 1) OR
                  (L_WEBGROUP = 1)
GO

GO
--SqlScripter----[dbo].[VAR_ACCIDENTES_XT_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_ACCIDENTES_XT_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_ACCIDENTES_XT_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_ACCIDENTES_XT_VIEW]
AS
SELECT     'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, 
                      dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, 
                      dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, 
                      dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, 
                      dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, 
                      dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, 
                      dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, 
                      dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, 
                      dbo.VAR_ACCIDENTES_XT.*
FROM         dbo.NCMAINPROD INNER JOIN
                      dbo.VAR_ACCIDENTES_XT ON dbo.NCMAINPROD.CODIGO = dbo.VAR_ACCIDENTES_XT.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_ACCIONESCORRECTIVAS_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_ACCIONESCORRECTIVAS_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_ACCIONESCORRECTIVAS_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_ACCIONESCORRECTIVAS_VIEW]
AS
SELECT     'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, 
                      dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, 
                      dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, 
                      dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, 
                      dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, 
                      dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, 
                      dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, 
                      dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, 
                      dbo.VAR_ACCIONESCORRECTIVAS.*
FROM         dbo.NCMAINPROD INNER JOIN
                      dbo.VAR_ACCIONESCORRECTIVAS ON dbo.NCMAINPROD.CODIGO = dbo.VAR_ACCIONESCORRECTIVAS.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_ACCIONESMEJORA_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_ACCIONESMEJORA_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_ACCIONESMEJORA_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_ACCIONESMEJORA_VIEW]
AS
SELECT     'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, 
                      dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, 
                      dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, 
                      dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, 
                      dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, 
                      dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, 
                      dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, 
                      dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, 
                      dbo.VAR_ACCIONESMEJORA.*
FROM         dbo.NCMAINPROD INNER JOIN
                      dbo.VAR_ACCIONESMEJORA ON dbo.NCMAINPROD.CODIGO = dbo.VAR_ACCIONESMEJORA.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_ACTIVIDADES_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_ACTIVIDADES_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_ACTIVIDADES_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_ACTIVIDADES_VIEW]
AS SELECT 'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, dbo.VAR_ACTIVIDADES.* FROM dbo.NCMAINPROD INNER JOIN dbo.VAR_ACTIVIDADES ON dbo.NCMAINPROD.CODIGO = dbo.VAR_ACTIVIDADES.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_AUDITORIAS_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_AUDITORIAS_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_AUDITORIAS_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_AUDITORIAS_VIEW]
AS SELECT 'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, dbo.VAR_AUDITORIAS.* FROM dbo.NCMAINPROD INNER JOIN dbo.VAR_AUDITORIAS ON dbo.NCMAINPROD.CODIGO = dbo.VAR_AUDITORIAS.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_BSSTRATINITIATIVES_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_BSSTRATINITIATIVES_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_BSSTRATINITIATIVES_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_BSSTRATINITIATIVES_VIEW]
AS SELECT 'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, dbo.VAR_BSSTRATINITIATIVES.* FROM dbo.NCMAINPROD INNER JOIN dbo.VAR_BSSTRATINITIATIVES ON dbo.NCMAINPROD.CODIGO = dbo.VAR_BSSTRATINITIATIVES.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_CIRCULOS_CALIDAD_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_CIRCULOS_CALIDAD_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_CIRCULOS_CALIDAD_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_CIRCULOS_CALIDAD_VIEW]
AS SELECT 'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, dbo.VAR_CIRCULOS_CALIDAD.* FROM dbo.NCMAINPROD INNER JOIN dbo.VAR_CIRCULOS_CALIDAD ON dbo.NCMAINPROD.CODIGO = dbo.VAR_CIRCULOS_CALIDAD.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_COMPETENCIAS_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_COMPETENCIAS_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_COMPETENCIAS_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_COMPETENCIAS_VIEW]
AS SELECT 'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, dbo.VAR_COMPETENCIAS.* FROM dbo.NCMAINPROD INNER JOIN dbo.VAR_COMPETENCIAS ON dbo.NCMAINPROD.CODIGO = dbo.VAR_COMPETENCIAS.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_CONTACTOS_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_CONTACTOS_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_CONTACTOS_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_CONTACTOS_VIEW]
AS SELECT 'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, dbo.VAR_CONTACTOS.* FROM dbo.NCMAINPROD INNER JOIN dbo.VAR_CONTACTOS ON dbo.NCMAINPROD.CODIGO = dbo.VAR_CONTACTOS.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_CONTROL_CAMBIOS_XT_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_CONTROL_CAMBIOS_XT_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_CONTROL_CAMBIOS_XT_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_CONTROL_CAMBIOS_XT_VIEW]
AS
SELECT     'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, 
                      dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, 
                      dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, 
                      dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, 
                      dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, 
                      dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, 
                      dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, 
                      dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, 
                      dbo.VAR_CONTROL_CAMBIOS_XT.*
FROM         dbo.NCMAINPROD INNER JOIN
                      dbo.VAR_CONTROL_CAMBIOS_XT ON dbo.NCMAINPROD.CODIGO = dbo.VAR_CONTROL_CAMBIOS_XT.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_COORDINACONTACTOS_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_COORDINACONTACTOS_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_COORDINACONTACTOS_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_COORDINACONTACTOS_VIEW]
AS
SELECT     dbo.VISTA_ASUNTOSINVOLUCRADOS.USUARIO, '<A href=''mailto:' + dbo.VISTA_ASUNTOSINVOLUCRADOS.EMAIL  + ''' >'+ dbo.VISTA_ASUNTOSINVOLUCRADOS.EMAIL +'</A>' as EMAIL, dbo.VISTA_ASUNTOSINVOLUCRADOS.NOMBRECARGO,
dbo.VAR_CONTACTOS_VIEW.CODIGONC, dbo.VISTA_ASUNTOSINVOLUCRADOS.NIVEL
FROM         dbo.VAR_CONTACTOS_VIEW INNER JOIN
dbo.VISTA_ASUNTOSINVOLUCRADOS ON dbo.VAR_CONTACTOS_VIEW.CODIGONC = dbo.VISTA_ASUNTOSINVOLUCRADOS.CODIGO
WHERE NIVEL=3
UNION
SELECT     dbo.VISTA_ASUNTOSCOORDINADOS.USUARIO, '<A href=''mailto:' +  dbo.VISTA_ASUNTOSCOORDINADOS.EMAIL  + ''' >'+  dbo.VISTA_ASUNTOSCOORDINADOS.EMAIL +'</A>' as EMAIL  , dbo.VISTA_ASUNTOSCOORDINADOS.CARGOADMINISTRADOR,
dbo.VAR_CONTACTOS_VIEW.CODIGONC, 3 AS NIVEL
FROM         dbo.VAR_CONTACTOS_VIEW INNER JOIN
dbo.VISTA_ASUNTOSCOORDINADOS ON dbo.VAR_CONTACTOS_VIEW.CODIGONC = dbo.VISTA_ASUNTOSCOORDINADOS.CODIGO
GO

GO
--SqlScripter----[dbo].[VAR_DATOS_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_DATOS_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_DATOS_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_DATOS_VIEW]
AS
SELECT     'Images/asuntos.gif' AS ICONONC, dbo.VAR_DATOS.*
FROM         dbo.VAR_DATOS
GO

GO
--SqlScripter----[dbo].[VAR_DISENOPRODUCTOS_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_DISENOPRODUCTOS_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_DISENOPRODUCTOS_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_DISENOPRODUCTOS_VIEW]
AS SELECT 'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, dbo.VAR_DISENOPRODUCTOS.* FROM dbo.NCMAINPROD INNER JOIN dbo.VAR_DISENOPRODUCTOS ON dbo.NCMAINPROD.CODIGO = dbo.VAR_DISENOPRODUCTOS.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_FOROS_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_FOROS_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_FOROS_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_FOROS_VIEW]
AS SELECT 'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, dbo.VAR_FOROS.* FROM dbo.NCMAINPROD INNER JOIN dbo.VAR_FOROS ON dbo.NCMAINPROD.CODIGO = dbo.VAR_FOROS.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_INCIDENTES_AUD_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_INCIDENTES_AUD_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_INCIDENTES_AUD_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_INCIDENTES_AUD_VIEW]
AS
SELECT     'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, 
                      dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, 
                      dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, 
                      dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, 
                      dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, 
                      dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, 
                      dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, 
                      dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, 
                      dbo.VAR_INCIDENTES_AUD.*
FROM         dbo.NCMAINPROD INNER JOIN
                      dbo.VAR_INCIDENTES_AUD ON dbo.NCMAINPROD.CODIGO = dbo.VAR_INCIDENTES_AUD.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_INCIDENTESINT_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_INCIDENTESINT_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_INCIDENTESINT_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_INCIDENTESINT_VIEW]
AS
SELECT     'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, 
                      dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, 
                      dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, 
                      dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, 
                      dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, 
                      dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, 
                      dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, 
                      dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, 
                      dbo.VAR_INCIDENTESINT.*
FROM         dbo.NCMAINPROD INNER JOIN
                      dbo.VAR_INCIDENTESINT ON dbo.NCMAINPROD.CODIGO = dbo.VAR_INCIDENTESINT.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_NCAUD_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_NCAUD_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_NCAUD_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_NCAUD_VIEW]
AS
SELECT     'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, 
                      dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, 
                      dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, 
                      dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, 
                      dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, 
                      dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, 
                      dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, 
                      dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, 
                      dbo.VAR_NCAUD.*
FROM         dbo.NCMAINPROD INNER JOIN
                      dbo.VAR_NCAUD ON dbo.NCMAINPROD.CODIGO = dbo.VAR_NCAUD.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_NCMAINPROD].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_NCMAINPROD]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_NCMAINPROD] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_NCMAINPROD]
AS
SELECT        
	NCMAINPROD.CODIGO AS CODIGONC

FROM dbo.NCMAINPROD
GO

GO
--SqlScripter----[dbo].[VAR_NOCONFORMIDADES_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_NOCONFORMIDADES_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_NOCONFORMIDADES_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_NOCONFORMIDADES_VIEW]
AS
SELECT     'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, 
                      dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, 
                      dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, 
                      dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, 
                      dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, 
                      dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, 
                      dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, 
                      dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, 
                      dbo.VAR_NOCONFORMIDADES.*
FROM         dbo.NCMAINPROD INNER JOIN
                      dbo.VAR_NOCONFORMIDADES ON dbo.NCMAINPROD.CODIGO = dbo.VAR_NOCONFORMIDADES.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_OBJETIVOSCUAL_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_OBJETIVOSCUAL_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_OBJETIVOSCUAL_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_OBJETIVOSCUAL_VIEW]
AS SELECT 'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, dbo.VAR_OBJETIVOSCUAL.* FROM dbo.NCMAINPROD INNER JOIN dbo.VAR_OBJETIVOSCUAL ON dbo.NCMAINPROD.CODIGO = dbo.VAR_OBJETIVOSCUAL.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_OBJETIVOSNUM_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_OBJETIVOSNUM_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_OBJETIVOSNUM_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_OBJETIVOSNUM_VIEW]
AS SELECT 'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, dbo.VAR_OBJETIVOSNUM.* FROM dbo.NCMAINPROD INNER JOIN dbo.VAR_OBJETIVOSNUM ON dbo.NCMAINPROD.CODIGO = dbo.VAR_OBJETIVOSNUM.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_PEOPLE_GROUP_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_PEOPLE_GROUP_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_PEOPLE_GROUP_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_PEOPLE_GROUP_VIEW]
AS SELECT 'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, dbo.VAR_PEOPLE_GROUP.* FROM dbo.NCMAINPROD INNER JOIN dbo.VAR_PEOPLE_GROUP ON dbo.NCMAINPROD.CODIGO = dbo.VAR_PEOPLE_GROUP.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_PRESENTATIONS_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_PRESENTATIONS_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_PRESENTATIONS_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_PRESENTATIONS_VIEW]
AS
SELECT     'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, 
                      dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, 
                      dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, 
                      dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, 
                      dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, 
                      dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, 
                      dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, 
                      dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, 
                      dbo.VAR_PRESENTATIONS.CODIGO, dbo.VAR_PRESENTATIONS.CODIGONC, dbo.VAR_PRESENTATIONS.PRESENTATION_COMMENTS, 
                      dbo.VAR_PRESENTATIONS.TIPONC, dbo.VAR_PRESENTATIONS.PRESENTATION_TYPE
FROM         dbo.NCMAINPROD INNER JOIN
                      dbo.VAR_PRESENTATIONS ON dbo.NCMAINPROD.CODIGO = dbo.VAR_PRESENTATIONS.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_PROYECTOS_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_PROYECTOS_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_PROYECTOS_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_PROYECTOS_VIEW]
AS
SELECT     'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, 
                      dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, 
                      dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, 
                      dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, 
                      dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, 
                      dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, 
                      dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, 
                      dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, 
                      dbo.VAR_PROYECTOS.CODIGO, dbo.VAR_PROYECTOS.CODIGONC, dbo.VAR_PROYECTOS.FECHA, dbo.VAR_PROYECTOS.OBJETIVO, 
                      dbo.VAR_PROYECTOS.CONTEXTO, dbo.VAR_PROYECTOS.FECHA_FIN, dbo.VAR_PROYECTOS.COMENTARIOS, dbo.VAR_PROYECTOS.TIPONC, 
                      dbo.VAR_PROYECTOS.TIPO
FROM         dbo.NCMAINPROD INNER JOIN
                      dbo.VAR_PROYECTOS ON dbo.NCMAINPROD.CODIGO = dbo.VAR_PROYECTOS.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_QUEJAS_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_QUEJAS_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_QUEJAS_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_QUEJAS_VIEW]
AS
SELECT     'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, 
                      dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, 
                      dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, 
                      dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, 
                      dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, 
                      dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, 
                      dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, 
                      dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, 
                      dbo.VAR_QUEJAS.*
FROM         dbo.NCMAINPROD INNER JOIN
                      dbo.VAR_QUEJAS ON dbo.NCMAINPROD.CODIGO = dbo.VAR_QUEJAS.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_REQUISITOS_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_REQUISITOS_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_REQUISITOS_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_REQUISITOS_VIEW]
AS SELECT 'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, dbo.VAR_REQUISITOS.* FROM dbo.NCMAINPROD INNER JOIN dbo.VAR_REQUISITOS ON dbo.NCMAINPROD.CODIGO = dbo.VAR_REQUISITOS.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_REUNIONES_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_REUNIONES_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_REUNIONES_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_REUNIONES_VIEW]
AS SELECT 'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, dbo.VAR_REUNIONES.* FROM dbo.NCMAINPROD INNER JOIN dbo.VAR_REUNIONES ON dbo.NCMAINPROD.CODIGO = dbo.VAR_REUNIONES.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_SEGUIMIENTO_PLAZOS_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_SEGUIMIENTO_PLAZOS_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_SEGUIMIENTO_PLAZOS_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_SEGUIMIENTO_PLAZOS_VIEW]
AS
SELECT     'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, 
                      dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, 
                      dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, 
                      dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, 
                      dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, 
                      dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, 
                      dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, 
                      dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, 
                      dbo.VAR_SEGUIMIENTO_PLAZOS.CODIGO, dbo.VAR_SEGUIMIENTO_PLAZOS.CODIGONC, dbo.VAR_SEGUIMIENTO_PLAZOS.OBSERVACIONES, 
                      dbo.VAR_SEGUIMIENTO_PLAZOS.MUESTRA_ASUNTOS_VERDE, dbo.VAR_SEGUIMIENTO_PLAZOS.MUESTRA_TAREAS_VERDE, 
                      dbo.VAR_SEGUIMIENTO_PLAZOS.TIPONC, dbo.VAR_SEGUIMIENTO_PLAZOS.CTRL_TAREAS_ASUNTOS_SUP, 
                      dbo.VAR_SEGUIMIENTO_PLAZOS.CTRL_TAREAS_RESPONSABLE, dbo.VAR_SEGUIMIENTO_PLAZOS.AUTOINVOLUCRAR, 
                      dbo.VAR_SEGUIMIENTO_PLAZOS.NOTIFICAR_ROJO, dbo.VAR_SEGUIMIENTO_PLAZOS.NOTIFICAR_AMARILLO, 
                      dbo.VAR_SEGUIMIENTO_PLAZOS.CTRL_TAREAS_ASUNTOS_COORD
FROM         dbo.NCMAINPROD INNER JOIN
                      dbo.VAR_SEGUIMIENTO_PLAZOS ON dbo.NCMAINPROD.CODIGO = dbo.VAR_SEGUIMIENTO_PLAZOS.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_SUGERENCIAS_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_SUGERENCIAS_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_SUGERENCIAS_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_SUGERENCIAS_VIEW]
AS SELECT 'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, dbo.VAR_SUGERENCIAS.* FROM dbo.NCMAINPROD INNER JOIN dbo.VAR_SUGERENCIAS ON dbo.NCMAINPROD.CODIGO = dbo.VAR_SUGERENCIAS.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_SUGERENCIASINT_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_SUGERENCIASINT_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_SUGERENCIASINT_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_SUGERENCIASINT_VIEW]
AS SELECT 'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, dbo.VAR_SUGERENCIASINT.* FROM dbo.NCMAINPROD INNER JOIN dbo.VAR_SUGERENCIASINT ON dbo.NCMAINPROD.CODIGO = dbo.VAR_SUGERENCIASINT.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_TAXIEJECUTIVO_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_TAXIEJECUTIVO_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_TAXIEJECUTIVO_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_TAXIEJECUTIVO_VIEW]
AS SELECT 'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, dbo.VAR_TAXIEJECUTIVO.* FROM dbo.NCMAINPROD INNER JOIN dbo.VAR_TAXIEJECUTIVO ON dbo.NCMAINPROD.CODIGO = dbo.VAR_TAXIEJECUTIVO.CODIGONC
GO

GO
--SqlScripter----[dbo].[VAR_TPROT_VIEW].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VAR_TPROT_VIEW]') IS NULL EXEC('CREATE VIEW [dbo].[VAR_TPROT_VIEW] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VAR_TPROT_VIEW]
AS SELECT 'Images/asuntos.gif' AS ICONONC, dbo.NCMAINPROD.CODIGO AS V_CODIGO, dbo.NCMAINPROD.INPUTUSUARIO AS V_INPUTUSUARIO, dbo.NCMAINPROD.INPUTFECHA AS V_INPUTFECHA, dbo.NCMAINPROD.CATEGORIA AS V_CATEGORIA, dbo.NCMAINPROD.CATEGORIADESC AS V_CATEGORIADESC, dbo.NCMAINPROD.CARGOADMINISTRADOR AS V_CARGOADMINISTRADOR, dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR AS V_CODIGOCARGOADMINISTRADOR, dbo.NCMAINPROD.ESTADO AS V_ESTADO, dbo.NCMAINPROD.FECHAARCHIVO AS V_FECHAARCHIVO, dbo.NCMAINPROD.CODIGOMARCO AS V_CODIGOMARCO, dbo.NCMAINPROD.TIPOMARCO AS V_TIPOMARCO, dbo.NCMAINPROD.TIPO AS V_TIPO, dbo.NCMAINPROD.DESCRIPCION AS V_DESCRIPCION, dbo.NCMAINPROD.L_ASUNTOPRIORITARIO AS V_L_ASUNTOPRIORITARIO, dbo.NCMAINPROD.FECHARECHAZO AS V_FECHARECHAZO, dbo.NCMAINPROD.USUARIORECHAZO AS V_USUARIORECHAZO, dbo.NCMAINPROD.DESCRIPCIONRECHAZO AS V_DESCRIPCIONRECHAZO, dbo.VAR_TPROT.* FROM dbo.NCMAINPROD INNER JOIN dbo.VAR_TPROT ON dbo.NCMAINPROD.CODIGO = dbo.VAR_TPROT.CODIGONC
GO

GO
--SqlScripter----[dbo].[VARCHILD_REL_SYSO_ACCIDENTE_CAUSAS_CBFP].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VARCHILD_REL_SYSO_ACCIDENTE_CAUSAS_CBFP]') IS NULL EXEC('CREATE VIEW [dbo].[VARCHILD_REL_SYSO_ACCIDENTE_CAUSAS_CBFP] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VARCHILD_REL_SYSO_ACCIDENTE_CAUSAS_CBFP]
AS 

SELECT [CODIGO]
      ,[CODIGONC]
      ,[CODIGO_CAUSA]
      ,[CODIGO_TIPO_CAUSA]
      ,[COMENTARIOS]
  FROM [dbo].[VARCHILD_REL_SYSO_ACCIDENTE_CAUSAS]

WHERE CODIGO_TIPO_CAUSA=2
GO

GO
--SqlScripter----[dbo].[VARCHILD_REL_SYSO_ACCIDENTE_CAUSAS_CBFT].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VARCHILD_REL_SYSO_ACCIDENTE_CAUSAS_CBFT]') IS NULL EXEC('CREATE VIEW [dbo].[VARCHILD_REL_SYSO_ACCIDENTE_CAUSAS_CBFT] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VARCHILD_REL_SYSO_ACCIDENTE_CAUSAS_CBFT]
AS 

SELECT [CODIGO]
      ,[CODIGONC]
      ,[CODIGO_CAUSA]
      ,[CODIGO_TIPO_CAUSA]
      ,[COMENTARIOS]
  FROM [dbo].[VARCHILD_REL_SYSO_ACCIDENTE_CAUSAS]

WHERE CODIGO_TIPO_CAUSA=4
GO

GO
--SqlScripter----[dbo].[VARCHILD_REL_SYSO_ACCIDENTE_CAUSAS_CIAI].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VARCHILD_REL_SYSO_ACCIDENTE_CAUSAS_CIAI]') IS NULL EXEC('CREATE VIEW [dbo].[VARCHILD_REL_SYSO_ACCIDENTE_CAUSAS_CIAI] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VARCHILD_REL_SYSO_ACCIDENTE_CAUSAS_CIAI]
AS 

SELECT [CODIGO]
      ,[CODIGONC]
      ,[CODIGO_CAUSA]
      ,[CODIGO_TIPO_CAUSA]
      ,[COMENTARIOS]
  FROM [dbo].[VARCHILD_REL_SYSO_ACCIDENTE_CAUSAS]

WHERE CODIGO_TIPO_CAUSA=1
GO

GO
--SqlScripter----[dbo].[VARCHILD_REL_SYSO_ACCIDENTE_CAUSAS_CICI].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VARCHILD_REL_SYSO_ACCIDENTE_CAUSAS_CICI]') IS NULL EXEC('CREATE VIEW [dbo].[VARCHILD_REL_SYSO_ACCIDENTE_CAUSAS_CICI] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VARCHILD_REL_SYSO_ACCIDENTE_CAUSAS_CICI]
AS 

SELECT [CODIGO]
      ,[CODIGONC]
      ,[CODIGO_CAUSA]
      ,[CODIGO_TIPO_CAUSA]
      ,[COMENTARIOS]
  FROM [dbo].[VARCHILD_REL_SYSO_ACCIDENTE_CAUSAS]

WHERE CODIGO_TIPO_CAUSA=3
GO

GO
--SqlScripter----[dbo].[VIEW_NCCC_DETECTEDBY].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VIEW_NCCC_DETECTEDBY]') IS NULL EXEC('CREATE VIEW [dbo].[VIEW_NCCC_DETECTEDBY] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VIEW_NCCC_DETECTEDBY]
AS

SELECT CASE WHEN (L_IS_IKUSER = 1 AND T1.L_DELETED = 0) THEN T1.USUARIO 
			WHEN (L_IS_IKUSER = 1 AND T1.L_DELETED = 1) THEN dbo.CONCAT('N/A - ', T1.USUARIO)
			WHEN (L_IS_IKUSER = 0 AND T1.L_IS_IKPERSON_DELETED = 0) THEN dbo.CONCAT3(ISNULL(T2.NOMBRES, ''), ' ', ISNULL(T2.APELLIDOS, ''))
			WHEN (L_IS_IKUSER = 0 AND T1.L_IS_IKPERSON_DELETED = 1) THEN dbo.CONCAT4('N/A - ', ISNULL(T2.NOMBRES, ''), ' ', ISNULL(T2.APELLIDOS, ''))
			ELSE T1.USUARIO
		END AS USUARIO, T1.CODIGO 
FROM   IK_PEOPLE T1 
				LEFT OUTER JOIN DATOSUSUARIOS T2 
					ON T1.CODIGO = T2.CODIGOUSUARIO 
WHERE	L_WEBGROUP = 0 AND T1.L_IS_IKPERSON_DELETED = 0 AND T1.L_DELETED = 0
GO

GO
--SqlScripter----[dbo].[VISTA_ALLRELS_DOCUMENTS_PROCNODE].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_ALLRELS_DOCUMENTS_PROCNODE]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_ALLRELS_DOCUMENTS_PROCNODE] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_ALLRELS_DOCUMENTS_PROCNODE]
AS

SELECT 
PROC_NODESID AS PROCNODES_ID,
DESCRIPTION AS PROCNODES_DESCRIPTION,
NODEIMG AS PROCNODES_NODEIMG,
D_ID AS DOCUMENT_ID,
DOCUMENT_STATUS

FROM VISTA_REL_PROCNODE_DOCUMENTS

UNION

SELECT 
P_ID AS PROCNODES_ID,
PROCNODE_DESCRIPTION AS PROCNODES_DESCRIPTION,
PROCNODE_NODEIMG AS PROCNODES_NODEIMG,
DOCUMENTO_CODIGO AS DOCUMENT_ID,
DOCUMENTO_ESTADO AS DOCUMENT_STATUS
FROM VISTA_REL_DOCUMENTS_PROCNODE
GO

GO
--SqlScripter----[dbo].[VISTA_ARBOLINVOLUCRADOSTAREAS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER OFF
GO
IF OBJECT_ID('[dbo].[VISTA_ARBOLINVOLUCRADOSTAREAS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_ARBOLINVOLUCRADOSTAREAS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_ARBOLINVOLUCRADOSTAREAS]
AS
SELECT     dbo.NCINVOLUCRADOS.CODIGOCARGO, dbo.NCINVOLUCRADOS.NOMBRECARGO, dbo.USUARIOS.USUARIO, dbo.NCTAREAS.DESCRIPCION,
dbo.NCTAREASDESTINATARIOS.CODIGOTAREA, dbo.NCTAREAS.L_CUMPLIDA, dbo.NCINVOLUCRADOS.CODIGONC,
dbo.NCTAREASDESTINATARIOS.CODIGOCARGO AS CODIGOCARGODESTINATARIO, dbo.USUARIOS.CODIGO AS CODIGOUSUARIO
FROM         dbo.NCTAREASDESTINATARIOS INNER JOIN
dbo.NCTAREAS ON dbo.NCTAREASDESTINATARIOS.CODIGOTAREA = dbo.NCTAREAS.CODIGO RIGHT OUTER JOIN
dbo.NCINVOLUCRADOS ON dbo.NCTAREAS.CODIGONC = dbo.NCINVOLUCRADOS.CODIGONC LEFT OUTER JOIN
dbo.CARGOSUSUARIOS INNER JOIN
dbo.USUARIOS ON dbo.CARGOSUSUARIOS.CODIGOUSUARIO = dbo.USUARIOS.CODIGO ON
dbo.NCINVOLUCRADOS.CODIGOCARGO = dbo.CARGOSUSUARIOS.CODIGOCARGO
GO

GO
--SqlScripter----[dbo].[VISTA_ARCHIVOSASUNTOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_ARCHIVOSASUNTOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_ARCHIVOSASUNTOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_ARCHIVOSASUNTOS]
AS
SELECT    dbo.ARCHIVOSASUNTOS.CODIGO, dbo.ARCHIVOSASUNTOS.CODIGONC, dbo.NCMAINPROD.TIPO AS MODULEID, 
                      dbo.ARCHIVOSASUNTOS.DESCRIPCION, dbo.ARCHIVOSASUNTOS.NOMBRESOLO, dbo.ARCHIVOSASUNTOS.CONTENTTYPE, 
                      dbo.ARCHIVOSASUNTOS.USUARIO, dbo.ARCHIVOSASUNTOS.FECHA, dbo.ARCHIVOSASUNTOS.FASE, dbo.ARCHIVOSASUNTOS.CODIGOALMACEN, 
                      dbo.ARCHIVOSASUNTOS.CATEGORY, CASE WHEN NOT NC_FILESCATEGORIES.ORDER_INT IS NULL 
                      THEN NC_FILESCATEGORIES.ORDER_INT ELSE 999999 END AS ORDER_INT
FROM         dbo.NCMAINPROD 
INNER JOIN
	dbo.ARCHIVOSASUNTOS ON 
        dbo.NCMAINPROD.CODIGO = dbo.ARCHIVOSASUNTOS.CODIGONC

LEFT OUTER JOIN
		dbo.NC_FILESCATEGORIES ON (
			dbo.ARCHIVOSASUNTOS.CATEGORY = dbo.NC_FILESCATEGORIES.DESCRIPTION 
			AND
			(
				NC_FILESCATEGORIES.CLASSES IS NULL OR NCMAINPROD.TIPO IN (
					SELECT [VALUE] FROM ik_SplitIntoTable(NC_FILESCATEGORIES.CLASSES ,',')
				)
			)
		)
GO

GO
--SqlScripter----[dbo].[VISTA_ARCHIVOSASUNTOS_HISTORIC].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_ARCHIVOSASUNTOS_HISTORIC]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_ARCHIVOSASUNTOS_HISTORIC] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_ARCHIVOSASUNTOS_HISTORIC]
AS
SELECT     dbo.NC_FILES.CODIGO, dbo.NC_FILES.CODIGONC, dbo.NCMAINPROD.TIPO AS MODULEID, dbo.NC_FILES.DESCRIPCION,
dbo.NC_FILES.NOMBRESOLO, dbo.NC_FILES.CONTENTTYPE, dbo.NC_FILES.USUARIO, dbo.NC_FILES.FECHA, dbo.NC_FILES.FASE,
dbo.NC_FILES.CODIGOALMACEN, dbo.NC_FILES.L_OBSOLETO, dbo.NC_FILES.CODIGO_REEMPLAZA, dbo.NC_FILES.CATEGORY,
dbo.NC_FILES.L_ISSUBCLASSFILE, dbo.NC_FILES.SUBCLASS_UNIQUEID, dbo.NC_FILES.SUBCLASS_RECORDID
FROM         dbo.NCMAINPROD INNER JOIN
dbo.NC_FILES ON dbo.NCMAINPROD.CODIGO = dbo.NC_FILES.CODIGONC
GO

GO
--SqlScripter----[dbo].[VISTA_ARCHIVOSSUBCLASESASUNTOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_ARCHIVOSSUBCLASESASUNTOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_ARCHIVOSSUBCLASESASUNTOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_ARCHIVOSSUBCLASESASUNTOS]
AS
SELECT     dbo.ARCHIVOSSUBCLASESASUNTOS.CODIGO, dbo.ARCHIVOSSUBCLASESASUNTOS.CODIGONC, dbo.NCMAINPROD.TIPO AS MODULEID, 
                      dbo.ARCHIVOSSUBCLASESASUNTOS.DESCRIPCION, dbo.ARCHIVOSSUBCLASESASUNTOS.NOMBRESOLO, 
                      dbo.ARCHIVOSSUBCLASESASUNTOS.CONTENTTYPE, dbo.ARCHIVOSSUBCLASESASUNTOS.USUARIO, dbo.ARCHIVOSSUBCLASESASUNTOS.FECHA, 
                      dbo.ARCHIVOSSUBCLASESASUNTOS.FASE, dbo.ARCHIVOSSUBCLASESASUNTOS.CODIGOALMACEN, dbo.ARCHIVOSSUBCLASESASUNTOS.CATEGORY, 
                      dbo.ARCHIVOSSUBCLASESASUNTOS.SUBCLASS_UNIQUEID, dbo.ARCHIVOSSUBCLASESASUNTOS.SUBCLASS_RECORDID,CASE WHEN NOT NC_FILESCATEGORIES.ORDER_INT IS NULL 
                      THEN NC_FILESCATEGORIES.ORDER_INT ELSE 999999 END AS ORDER_INT
FROM         dbo.NCMAINPROD INNER JOIN
                      dbo.ARCHIVOSSUBCLASESASUNTOS ON dbo.NCMAINPROD.CODIGO = dbo.ARCHIVOSSUBCLASESASUNTOS.CODIGONC
LEFT OUTER JOIN
		dbo.NC_FILESCATEGORIES ON (
			dbo.ARCHIVOSSUBCLASESASUNTOS.CATEGORY = dbo.NC_FILESCATEGORIES.DESCRIPTION 
			AND
			(
				NC_FILESCATEGORIES.CLASSES IS NULL OR NCMAINPROD.TIPO IN (
					SELECT [VALUE] FROM ik_SplitIntoTable(NC_FILESCATEGORIES.CLASSES ,',')
				)
			)
		)
GO

GO
--SqlScripter----[dbo].[VISTA_ARCHIVOSTAREAS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_ARCHIVOSTAREAS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_ARCHIVOSTAREAS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_ARCHIVOSTAREAS]
AS
SELECT     dbo.ARCHIVOSTAREAS.CODIGO, dbo.ARCHIVOSTAREAS.CODIGOTAREA, dbo.NCTAREAS.CODIGONC, dbo.NCMAINPROD.TIPO AS MODULEID, 
                      dbo.ARCHIVOSTAREAS.DESCRIPCION, dbo.ARCHIVOSTAREAS.NOMBRESOLO, dbo.ARCHIVOSTAREAS.CONTENTTYPE, 
                      dbo.ARCHIVOSTAREAS.USUARIO, dbo.ARCHIVOSTAREAS.FECHA, dbo.ARCHIVOSTAREAS.FASE, dbo.ARCHIVOSTAREAS.CODIGOALMACEN, 
                      dbo.ARCHIVOSTAREAS.CATEGORY,CASE WHEN NOT NC_FILESCATEGORIES.ORDER_INT IS NULL 
                      THEN NC_FILESCATEGORIES.ORDER_INT ELSE 999999 END AS ORDER_INT
FROM         dbo.ARCHIVOSTAREAS INNER JOIN
                      dbo.NCTAREAS ON dbo.ARCHIVOSTAREAS.CODIGOTAREA = dbo.NCTAREAS.CODIGO INNER JOIN
                      dbo.NCMAINPROD ON dbo.NCTAREAS.CODIGONC = dbo.NCMAINPROD.CODIGO
LEFT OUTER JOIN
		dbo.NC_FILESCATEGORIES ON (
			dbo.ARCHIVOSTAREAS.CATEGORY = dbo.NC_FILESCATEGORIES.DESCRIPTION 
			AND
			(
				NC_FILESCATEGORIES.CLASSES IS NULL OR NCMAINPROD.TIPO IN (
					SELECT [VALUE] FROM ik_SplitIntoTable(NC_FILESCATEGORIES.CLASSES ,',')
				)
			)
		)
GO

GO
--SqlScripter----[dbo].[VISTA_ARCHIVOSTAREAS_HISTORICO].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_ARCHIVOSTAREAS_HISTORICO]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_ARCHIVOSTAREAS_HISTORICO] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_ARCHIVOSTAREAS_HISTORICO]
AS
SELECT     dbo.NC_TASKFILES.CODIGO, dbo.NC_TASKFILES.CODIGOTAREA, dbo.NCTAREAS.CODIGONC, dbo.NCMAINPROD.TIPO AS MODULEID,
dbo.NC_TASKFILES.DESCRIPCION, dbo.NC_TASKFILES.NOMBRESOLO, dbo.NC_TASKFILES.CONTENTTYPE, dbo.NC_TASKFILES.USUARIO,
dbo.NC_TASKFILES.FECHA, dbo.NC_TASKFILES.FASE, dbo.NC_TASKFILES.CODIGOALMACEN, dbo.NC_TASKFILES.L_OBSOLETO,
dbo.NC_TASKFILES.CODIGO_REEMPLAZA, dbo.NC_TASKFILES.CATEGORY
FROM         dbo.NC_TASKFILES INNER JOIN
dbo.NCTAREAS ON dbo.NC_TASKFILES.CODIGOTAREA = dbo.NCTAREAS.CODIGO INNER JOIN
dbo.NCMAINPROD ON dbo.NCTAREAS.CODIGONC = dbo.NCMAINPROD.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_ASUNTOS_FORUMMEMBERS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_ASUNTOS_FORUMMEMBERS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_ASUNTOS_FORUMMEMBERS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_ASUNTOS_FORUMMEMBERS]
AS
SELECT     dbo.USUARIOS.EMAIL, dbo.USUARIOS.L_ENVIARTEXTOCOMPLETO, dbo.USUARIOS.L_ENVIARMAILNOTIFICACIONES, dbo.USUARIOS.USUARIO,
dbo.NCMAINPROD.CODIGO AS CODIGONC, dbo.ORGANIGRAMA.DESCRIPCION AS NOMBRECARGO, dbo.CARGOSUSUARIOS.CODIGOCARGO,
dbo.USUARIOS.L_ENVIARMAILTAREAS, dbo.CARGOSUSUARIOS.CODIGOUSUARIO
FROM         dbo.IKFOROSSUSCRIPTORES INNER JOIN
dbo.NCMAINPROD ON dbo.IKFOROSSUSCRIPTORES.CODIGOFORO = dbo.NCMAINPROD.CODIGOFORO INNER JOIN
dbo.USUARIOS ON dbo.IKFOROSSUSCRIPTORES.CODIGOUSUARIO = dbo.USUARIOS.CODIGO INNER JOIN
dbo.CARGOSUSUARIOS ON dbo.USUARIOS.CODIGO = dbo.CARGOSUSUARIOS.CODIGOUSUARIO INNER JOIN
dbo.ORGANIGRAMA ON dbo.CARGOSUSUARIOS.CODIGOCARGO = dbo.ORGANIGRAMA.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_ASUNTOSCOORDINADOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER OFF
GO
IF OBJECT_ID('[dbo].[VISTA_ASUNTOSCOORDINADOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_ASUNTOSCOORDINADOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_ASUNTOSCOORDINADOS]
AS
SELECT     dbo.NCMAINPROD.CODIGO, dbo.NCMAINPROD.CATEGORIADESC, dbo.NCMAINPROD.ESTADO, dbo.NCMAINPROD.TIPO,
dbo.NCMAINPROD.DESCRIPCION, dbo.CARGOSUSUARIOS.CODIGOCARGO, dbo.CARGOSUSUARIOS.CODIGOUSUARIO, dbo.USUARIOS.USUARIO,
dbo.USUARIOS.EMAIL, dbo.USUARIOS.L_ENVIARTEXTOCOMPLETO, dbo.USUARIOS.L_ENVIARMAILTAREAS,
dbo.USUARIOS.L_ENVIARMAILNOTIFICACIONES, dbo.NCMAINPROD.CARGOADMINISTRADOR, dbo.NCMAINPROD.L_ASUNTOPRIORITARIO,
dbo.NCMAINPROD.CODIGOFORO
FROM         dbo.NCMAINPROD INNER JOIN
dbo.CARGOSUSUARIOS ON dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR = dbo.CARGOSUSUARIOS.CODIGOCARGO INNER JOIN
dbo.USUARIOS ON dbo.CARGOSUSUARIOS.CODIGOUSUARIO = dbo.USUARIOS.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_ASUNTOSINVOLUCRADOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_ASUNTOSINVOLUCRADOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_ASUNTOSINVOLUCRADOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_ASUNTOSINVOLUCRADOS]
AS
SELECT        dbo.NCMAINPROD.CODIGO, dbo.NCMAINPROD.CATEGORIADESC, dbo.NCMAINPROD.ESTADO, dbo.NCMAINPROD.TIPO, dbo.NCMAINPROD.DESCRIPCION, 
                         dbo.CARGOSUSUARIOS.CODIGOUSUARIO, dbo.CARGOSUSUARIOS.CODIGOCARGO, dbo.USUARIOS.USUARIO, dbo.USUARIOS.EMAIL, 
                         dbo.USUARIOS.L_ENVIARTEXTOCOMPLETO, dbo.USUARIOS.L_ENVIARMAILTAREAS, dbo.USUARIOS.L_ENVIARMAILNOTIFICACIONES, 
                         dbo.NCINVOLUCRADOS.NOMBRECARGO, dbo.NCMAINPROD.CODIGOFORO, dbo.NCMAINPROD.L_ASUNTOPRIORITARIO, dbo.NCINVOLUCRADOS.NIVEL, 
                         dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR
FROM            dbo.NCMAINPROD INNER JOIN
                         dbo.NCINVOLUCRADOS ON dbo.NCMAINPROD.CODIGO = dbo.NCINVOLUCRADOS.CODIGONC INNER JOIN
                         dbo.CARGOSUSUARIOS ON dbo.NCINVOLUCRADOS.CODIGOCARGO = dbo.CARGOSUSUARIOS.CODIGOCARGO INNER JOIN
                         dbo.USUARIOS ON dbo.CARGOSUSUARIOS.CODIGOUSUARIO = dbo.USUARIOS.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_AUDITORIAS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_AUDITORIAS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_AUDITORIAS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_AUDITORIAS]
AS
SELECT     dbo.AUDITORIAS.CODIGO, dbo.AUDITORIAS.DESCRIPCION, dbo.AUDITORIAS.FECHAPREVISTA, dbo.AUDITORIAS.FECHAREALIZADA,
dbo.AUDITORIASTIPOS.DESCRIPCION AS TIPODESCRIPCION, dbo.AUDITORIAS.CODIGOTIPO, dbo.AUDITORIAS.CARGOADMINISTRADOR,
dbo.AUDITORIAS.CODIGOCARGOADMINISTRADOR, dbo.AUDITORIAS.INFORME, dbo.AUDITORIAS.ESTADO, dbo.AUDITORIAS.INPUTUSUARIO,
dbo.AUDITORIAS.INPUTFECHA, dbo.AUDITORIAS.FECHAARCHIVO, dbo.CARGOSUSUARIOS.CODIGOUSUARIO
FROM         dbo.AUDITORIAS INNER JOIN
dbo.AUDITORIASTIPOS ON dbo.AUDITORIAS.CODIGOTIPO = dbo.AUDITORIASTIPOS.CODIGO INNER JOIN
dbo.CARGOSUSUARIOS ON dbo.AUDITORIAS.CODIGOCARGOADMINISTRADOR = dbo.CARGOSUSUARIOS.CODIGOCARGO
GO

GO
--SqlScripter----[dbo].[VISTA_AUDITORIASDOCUMENTOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_AUDITORIASDOCUMENTOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_AUDITORIASDOCUMENTOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_AUDITORIASDOCUMENTOS]
AS
SELECT     dbo.MARCODOCUMENTOSREL.CODIGODOCUMENTO, dbo.MARCODOCUMENTOSREL.CODIGOMARCO, dbo.MARCODOCUMENTOSREL.TIPOMARCO,
dbo.DOCUMENTOS.ESTADO, dbo.DOCUMENTOS.NOMBRE, dbo.DOCUMENTOS.CODIGOISO, dbo.DOCUMENTOS.REVISION,
dbo.MARCODOCUMENTOSREL.CODIGO AS RELCOD, dbo.DOCUMENTOS.C_REVISION
FROM         dbo.MARCODOCUMENTOSREL INNER JOIN
dbo.DOCUMENTOS ON dbo.MARCODOCUMENTOSREL.CODIGODOCUMENTO = dbo.DOCUMENTOS.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_BS_IND_ASSESMENTS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_BS_IND_ASSESMENTS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_BS_IND_ASSESMENTS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_BS_IND_ASSESMENTS]
AS
SELECT     BS_IND_ASSESMENTSID, BS_INDICATORSID, ASSESMENT_REMARKS, PERIODID, ASSESMENT_RANK, ASSESMENT_USER, ASSESMENT_DATE, 
                      STATUS, TENDENCE, 
                      CASE STATUS WHEN 0 THEN 'Automatic' WHEN 1 THEN 'Green' WHEN 2 THEN 'Yellow' WHEN 3 THEN 'Red' END AS STATUS_DESCRIPTION, 
                      CASE TENDENCE WHEN 0 THEN 'Improving' WHEN 1 THEN 'Stable' WHEN 2 THEN 'Worsening' END AS TENDENCE_DESCRIPTION, 
                      L_SETSTATUS
FROM         dbo.BS_IND_ASSESMENTS
GO

GO
--SqlScripter----[dbo].[VISTA_BS_INDICATORS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_BS_INDICATORS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_BS_INDICATORS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_BS_INDICATORS]
AS
SELECT        dbo.BS_INDICATORS.BS_INDICATORSID, dbo.BS_INDICATORS.DESCRIPTION, dbo.BS_INDICATORS.REMARKS, dbo.BS_INDICATORS.TIME_PERIOD, dbo.BS_INDICATORS.OWNER_RANKID, 
                         dbo.BS_INDICATORS.BS_GOALSID, dbo.BS_INDICATORS.RV_CALCULATION_TYPE, dbo.BS_INDICATORS.TBL_UNIDADES_ID, dbo.BS_INDICATORS.RV_CALC_FORMULA, dbo.BS_INDICATORS.BS_LOCATIONSID, 
                         dbo.BS_INDICATORS.MET_MODE, dbo.BS_INDICATORS.L_ACTIVE, dbo.BS_INDICATORS.INPUTUSER, dbo.BS_INDICATORS.PERC_TO_RED, dbo.BS_INDICATORS.PV_CALCULATION_TYPE, 
                         dbo.BS_INDICATORS.PV_CALC_FORMULA, dbo.BS_INDICATORS.SP4PROCESSING, dbo.BS_INDICATORS.LAST_UPDATE, dbo.TBL_UNIDADES.DESCRIPCION AS UNIT, dbo.BS_INDICATORS.RESP_USERID, 
                         dbo.USUARIOS.USUARIO AS RESP_USER, dbo.ORGANIGRAMA.DESCRIPCION AS OWNER_RANK, dbo.BS_LOCATIONS.DESCRIPTION AS LOCATION, dbo.BS_INDICATORS.INPUTDATE, 
                         dbo.BS_INDICATORS.RECORD_STAMP, dbo.TBL_UNIDADES.NETFORMAT, dbo.BS_INDICATORS.STATUS_MODE, dbo.BS_INDICATORS.RV_DEFAULT_VALUE, dbo.BS_INDICATORS.PV_DEFAULT_VALUE, 
                         dbo.BS_INDICATORS.RV_LABEL, dbo.BS_INDICATORS.PV_LABEL, dbo.BS_INDICATORS.MINVAL, dbo.BS_INDICATORS.MAXVAL, dbo.BS_INDICATORSCATEGORIES.DESCRIPTION AS CATEGORY, 
                         dbo.BS_INDICATORS.BS_INDICATORSCATEGORIESID, dbo.BS_INDICATORS.CUSTOM_ICON_ID, dbo.BS_INDICATORS.IK_HTMLREPORTS_OPTIONS_ID, dbo.BS_INDICATORS.DATAMINVAL, 
                         dbo.BS_INDICATORS.DATAMAXVAL, dbo.BS_INDICATORS.PERC_GREEN, dbo.BS_INDICATORS.IKI_MASTERID, dbo.TBL_BSIND_PERIODS_TYPES.DESCRIPCION AS TIME_PERIOD_DESC, 
                         dbo.BS_INDICATORS.L_PERC_IS_ABSOLUTE
FROM            dbo.USUARIOS RIGHT OUTER JOIN
                         dbo.BS_INDICATORSCATEGORIES INNER JOIN
                         dbo.ORGANIGRAMA INNER JOIN
                         dbo.BS_INDICATORS ON dbo.ORGANIGRAMA.CODIGO = dbo.BS_INDICATORS.OWNER_RANKID ON 
                         dbo.BS_INDICATORSCATEGORIES.BS_INDICATORSCATEGORIESID = dbo.BS_INDICATORS.BS_INDICATORSCATEGORIESID ON dbo.USUARIOS.CODIGO = dbo.BS_INDICATORS.RESP_USERID LEFT OUTER JOIN
                         dbo.TBL_UNIDADES ON dbo.BS_INDICATORS.TBL_UNIDADES_ID = dbo.TBL_UNIDADES.CODIGO LEFT OUTER JOIN
                         dbo.BS_LOCATIONS ON dbo.BS_INDICATORS.BS_LOCATIONSID = dbo.BS_LOCATIONS.BS_LOCATIONSID INNER JOIN
                         dbo.TBL_BSIND_PERIODS_TYPES ON dbo.TBL_BSIND_PERIODS_TYPES.CODIGO = dbo.BS_INDICATORS.TIME_PERIOD
GO

GO
--SqlScripter----[dbo].[VISTA_BS_INDICATORS_LAST_CALC].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_BS_INDICATORS_LAST_CALC]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_BS_INDICATORS_LAST_CALC] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_BS_INDICATORS_LAST_CALC]
AS
SELECT     A.BS_INDICATORSID, CASE WHEN CONVERT(varbinary(8), A.RECORD_STAMP) =  B.INDICATOR_TIMESTAMP
                      THEN 0 ELSE 1 END AS HASCHANGED
FROM         bs_indicators A LEFT JOIN
                      BS_INDICATORS_LAST_CALCULATE B ON A.BS_INDICATORSID = B.BS_INDICATORSID
GO

GO
--SqlScripter----[dbo].[VISTA_BS_INDICATORS_OPTIONS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_BS_INDICATORS_OPTIONS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_BS_INDICATORS_OPTIONS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_BS_INDICATORS_OPTIONS]
AS
SELECT     dbo.BS_INDICATORS.BS_INDICATORSID, dbo.BS_INDICATORS.DESCRIPTION, dbo.BS_INDICATORS_OPTIONS.USERID,
dbo.BS_INDICATORS_OPTIONS.SEC_LEVEL, dbo.USUARIOS.USUARIO, dbo.USUARIOS.L_WEBGROUP,
dbo.BS_INDICATORS_OPTIONS.BS_INDICATORS_OPTIONSID, dbo.BS_INDICATORS_OPTIONS.SHOWINMYTASKS,
dbo.BS_INDICATORS_OPTIONS.NOTIFYSTATUSCHANGE, dbo.BS_INDICATORS_OPTIONS.NOTIFYTENDENCECHANGE, dbo.USUARIOS.EMAIL
FROM         dbo.BS_INDICATORS INNER JOIN
dbo.BS_INDICATORS_OPTIONS ON dbo.BS_INDICATORS.BS_INDICATORSID = dbo.BS_INDICATORS_OPTIONS.BS_INDICATORSID INNER JOIN
dbo.USUARIOS ON dbo.BS_INDICATORS_OPTIONS.USERID = dbo.USUARIOS.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_BS_INDICATORSREL_DESTINO].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_BS_INDICATORSREL_DESTINO]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_BS_INDICATORSREL_DESTINO] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_BS_INDICATORSREL_DESTINO]
AS
SELECT     dbo.BS_INDICATORSREL.BS_INDICATORSID AS ID_INDICATOR_DESTINO, dbo.BS_INDICATORSREL.REL_BS_INDICATORSID, dbo.BS_INDICATORS.DESCRIPTION AS DESCRIPTION_INDICATOR_DESTINO
FROM         dbo.BS_INDICATORSREL INNER JOIN
                      dbo.BS_INDICATORS ON dbo.BS_INDICATORSREL.BS_INDICATORSID = dbo.BS_INDICATORS.BS_INDICATORSID
GO

GO
--SqlScripter----[dbo].[VISTA_BS_INDICATORSREL_FUENTE].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_BS_INDICATORSREL_FUENTE]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_BS_INDICATORSREL_FUENTE] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_BS_INDICATORSREL_FUENTE]
AS
SELECT     dbo.BS_INDICATORSREL.BS_INDICATORSID, dbo.BS_INDICATORSREL.REL_BS_INDICATORSID AS ID_INDICATOR_FUENTE, dbo.BS_INDICATORS.DESCRIPTION AS DESCRIPTION_INDICATOR_FUENTE
FROM         dbo.BS_INDICATORSREL INNER JOIN
                      dbo.BS_INDICATORS ON dbo.BS_INDICATORSREL.REL_BS_INDICATORSID = dbo.BS_INDICATORS.BS_INDICATORSID
GO

GO
--SqlScripter----[dbo].[VISTA_BS_INDICATORSWITHDATA].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_BS_INDICATORSWITHDATA]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_BS_INDICATORSWITHDATA] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_BS_INDICATORSWITHDATA]
AS
SELECT        dbo.BS_INDICATORSDATA.MSR_DATE, dbo.BS_INDICATORSDATA.MSR_REAL_VALUE, dbo.BS_INDICATORSDATA.MSR_PLANNED_VALUE, dbo.BS_INDICATORSDATA.BS_INDICATORSDATAID, 'true' AS ENABLED, 
                         'true' AS SHOWINREPORT, dbo.VISTA_BS_INDICATORS.BS_INDICATORSID, dbo.VISTA_BS_INDICATORS.DESCRIPTION, dbo.VISTA_BS_INDICATORS.REMARKS, dbo.VISTA_BS_INDICATORS.TIME_PERIOD, 
                         dbo.VISTA_BS_INDICATORS.OWNER_RANKID, dbo.VISTA_BS_INDICATORS.RV_CALCULATION_TYPE, dbo.VISTA_BS_INDICATORS.BS_GOALSID, dbo.VISTA_BS_INDICATORS.TBL_UNIDADES_ID, 
                         dbo.VISTA_BS_INDICATORS.RV_CALC_FORMULA, dbo.VISTA_BS_INDICATORS.BS_LOCATIONSID, dbo.VISTA_BS_INDICATORS.MET_MODE, dbo.VISTA_BS_INDICATORS.L_ACTIVE, 
                         dbo.VISTA_BS_INDICATORS.INPUTUSER, dbo.VISTA_BS_INDICATORS.PERC_TO_RED, dbo.VISTA_BS_INDICATORS.PV_CALCULATION_TYPE, dbo.VISTA_BS_INDICATORS.PV_CALC_FORMULA, 
                         dbo.VISTA_BS_INDICATORS.SP4PROCESSING, dbo.VISTA_BS_INDICATORS.LAST_UPDATE, dbo.VISTA_BS_INDICATORS.UNIT, dbo.VISTA_BS_INDICATORS.RESP_USERID, 
                         dbo.VISTA_BS_INDICATORS.RESP_USER, dbo.VISTA_BS_INDICATORS.OWNER_RANK, dbo.VISTA_BS_INDICATORS.LOCATION, dbo.VISTA_BS_INDICATORS.INPUTDATE, 
                         dbo.VISTA_BS_INDICATORS.RECORD_STAMP, dbo.VISTA_BS_INDICATORS.NETFORMAT, dbo.VISTA_BS_INDICATORS.STATUS_MODE, dbo.VISTA_BS_INDICATORS.RV_DEFAULT_VALUE, 
                         dbo.VISTA_BS_INDICATORS.PV_DEFAULT_VALUE, dbo.VISTA_BS_INDICATORS.RV_LABEL, dbo.VISTA_BS_INDICATORS.PV_LABEL, dbo.VISTA_BS_INDICATORS.BS_INDICATORSCATEGORIESID, 
                         dbo.VISTA_BS_INDICATORS.PERC_GREEN, dbo.VISTA_BS_INDICATORS.DATAMINVAL, dbo.VISTA_BS_INDICATORS.DATAMAXVAL, dbo.VISTA_BS_INDICATORS.MINVAL, dbo.VISTA_BS_INDICATORS.MAXVAL, 
                         dbo.VISTA_BS_INDICATORS.IKI_MASTERID, dbo.VISTA_BS_INDICATORS.TIME_PERIOD_DESC, dbo.VISTA_BS_INDICATORS.L_PERC_IS_ABSOLUTE
FROM            dbo.BS_INDICATORSDATA INNER JOIN
                         dbo.VISTA_BS_INDICATORS ON dbo.BS_INDICATORSDATA.BS_INDICATORSID = dbo.VISTA_BS_INDICATORS.BS_INDICATORSID
GO

GO
--SqlScripter----[dbo].[VISTA_BS_STRAT_NODES].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_BS_STRAT_NODES]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_BS_STRAT_NODES] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_BS_STRAT_NODES]
AS
SELECT     dbo.BS_STRAT_NODE_TYPES.DESCRIPTION AS NODETYPE, dbo.BS_STRAT_PLANS.DESCRIPTION AS PLANDESCRIPTION,
dbo.BS_STRAT_NODES.BS_STRAT_NODESID, dbo.BS_STRAT_NODES.DESCRIPTION, dbo.BS_STRAT_NODES.REMARKS,
dbo.BS_STRAT_NODES.BS_STRAT_PLANSID, dbo.BS_STRAT_NODES.BS_STRAT_NODE_TYPESID, dbo.BS_STRAT_NODES.BS_LOCATIONSID,
dbo.BS_STRAT_NODES.RESPONSIBLE_RANK_ID, dbo.ORGANIGRAMA.DESCRIPCION AS RESPONSIBLE_RANK,
dbo.BS_LOCATIONS.DESCRIPTION AS LOCATION, dbo.BS_STRAT_NODE_TYPES.NODEIMG, dbo.BS_STRAT_NODES.BS_STRAT_NODESID_PARENT,
dbo.BS_STRAT_NODES.IKI_MASTERID, dbo.BS_STRAT_NODES.IK_HTMLREPORTS_OPTIONS_ID
FROM         dbo.BS_STRAT_PLANS INNER JOIN
dbo.BS_STRAT_NODES ON dbo.BS_STRAT_PLANS.BS_STRAT_PLANSID = dbo.BS_STRAT_NODES.BS_STRAT_PLANSID INNER JOIN
dbo.BS_STRAT_NODE_TYPES ON
dbo.BS_STRAT_NODES.BS_STRAT_NODE_TYPESID = dbo.BS_STRAT_NODE_TYPES.BS_STRAT_NODE_TYPESID INNER JOIN
dbo.BS_LOCATIONS ON dbo.BS_STRAT_NODES.BS_LOCATIONSID = dbo.BS_LOCATIONS.BS_LOCATIONSID INNER JOIN
dbo.ORGANIGRAMA ON dbo.BS_STRAT_NODES.RESPONSIBLE_RANK_ID = dbo.ORGANIGRAMA.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_BS_STRAT_NODESCUSTOMRELS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_BS_STRAT_NODESCUSTOMRELS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_BS_STRAT_NODESCUSTOMRELS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_BS_STRAT_NODESCUSTOMRELS]
AS
SELECT     BS_STRAT_NODES_TARGET.DESCRIPTION AS BS_STRAT_NODEDESC_TARGET, 
                      BS_STRAT_NODES_SOURCE.DESCRIPTION AS BS_STRAT_NODEDESC_SOURCE, dbo.BS_STRAT_NODES_RELATIONS.BS_STRAT_NODESID_SOURCE, 
                      dbo.BS_STRAT_NODES_RELATIONS.BS_STRAT_NODESID_TARGET, dbo.BS_STRAT_NODES_RELS_STRENGTH.DESCRIPTION AS RELATION_STRENGHT, 
                      dbo.BS_STRAT_NODES_RELATIONS_TYPES.DESCRIPTION_FWD AS RELATION_FWD, dbo.BS_STRAT_NODES_RELATIONS_TYPES.DESCRIPTION_BACK AS RELATION_BACK, 
                      BS_STRAT_NODES_SOURCE.BS_STRAT_PLANSID AS BS_STRAT_PLANSID_SOURCE, BS_STRAT_NODES_TARGET.BS_STRAT_PLANSID AS BS_STRAT_PLANSID_TARGET, 
                      dbo.BS_STRAT_NODES_RELATIONS.BS_STRAT_NODES_RELS_TYPESID, dbo.BS_STRAT_NODES_RELATIONS.BS_STRAT_NODES_RELS_STRENGTHID, 
                      dbo.BS_STRAT_NODES_RELATIONS.BS_STRAT_NODES_RELATIONSID, BS_STRAT_NODE_TYPES_TARGET.DESCRIPTION AS NODETYPE_TARGET, 
                      BS_STRAT_NODE_TYPES_TARGET.NODEIMG AS NODEIMG_TARGET, BS_STRAT_NODE_TYPES_SOURCE.DESCRIPTION AS NODETYPE_SOURCE, 
                      BS_STRAT_NODE_TYPES_SOURCE.NODEIMG AS NODEIMG_SOURCE, 
                      BS_STRAT_NODES_TARGET.BS_STRAT_NODE_TYPESID AS BS_STRAT_NODE_TYPESID_TARGET, 
                      BS_STRAT_NODES_SOURCE.BS_STRAT_NODE_TYPESID AS BS_STRAT_NODE_TYPESID_SOURCE
FROM         dbo.BS_STRAT_NODES_RELATIONS INNER JOIN
                      dbo.BS_STRAT_NODES_RELATIONS_TYPES ON 
                      dbo.BS_STRAT_NODES_RELATIONS.BS_STRAT_NODES_RELS_TYPESID = dbo.BS_STRAT_NODES_RELATIONS_TYPES.BS_STRAT_NODES_RELS_TYPESID INNER JOIN
                      dbo.BS_STRAT_NODES_RELS_STRENGTH ON 
                      dbo.BS_STRAT_NODES_RELATIONS.BS_STRAT_NODES_RELS_STRENGTHID = dbo.BS_STRAT_NODES_RELS_STRENGTH.BS_STRAT_NODES_RELS_STRENGTHID
                       INNER JOIN
                      dbo.BS_STRAT_NODES BS_STRAT_NODES_SOURCE ON 
                      dbo.BS_STRAT_NODES_RELATIONS.BS_STRAT_NODESID_SOURCE = BS_STRAT_NODES_SOURCE.BS_STRAT_NODESID INNER JOIN
                      dbo.BS_STRAT_NODES BS_STRAT_NODES_TARGET ON 
                      dbo.BS_STRAT_NODES_RELATIONS.BS_STRAT_NODESID_TARGET = BS_STRAT_NODES_TARGET.BS_STRAT_NODESID INNER JOIN
                      dbo.BS_STRAT_NODE_TYPES BS_STRAT_NODE_TYPES_TARGET ON 
                      BS_STRAT_NODES_TARGET.BS_STRAT_NODE_TYPESID = BS_STRAT_NODE_TYPES_TARGET.BS_STRAT_NODE_TYPESID INNER JOIN
                      dbo.BS_STRAT_NODE_TYPES BS_STRAT_NODE_TYPES_SOURCE ON 
                      BS_STRAT_NODES_SOURCE.BS_STRAT_NODE_TYPESID = BS_STRAT_NODE_TYPES_SOURCE.BS_STRAT_NODE_TYPESID
GO

GO
--SqlScripter----[dbo].[VISTA_BS_STRAT_OPTIONS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_BS_STRAT_OPTIONS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_BS_STRAT_OPTIONS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_BS_STRAT_OPTIONS]
AS
SELECT     dbo.VISTA_BS_STRATPLANS_OPTIONS.BS_STRAT_PLANSID, dbo.VISTA_BS_STRATPLANS_OPTIONS.SEC_LEVEL AS PLAN_SEC_LEVEL,
dbo.VISTA_BS_STRATPLANS_OPTIONS.USUARIO AS PLAN_USUARIO,
dbo.VISTA_BS_STRATPLANS_OPTIONS.L_WEBGROUP AS PLAN_L_WEBGROUP, dbo.VISTA_BS_STRATPLANS_OPTIONS.USERID AS PLAN_USERID,
dbo.VISTA_BS_STRATNODES_OPTIONS.BS_STRAT_NODESID, dbo.VISTA_BS_STRATPLANS_OPTIONS.DESCRIPTION AS PLAN_DESCRIPTION,
dbo.VISTA_BS_STRATNODES_OPTIONS.DESCRIPTION AS NODE_DESCRIPTION, dbo.VISTA_BS_STRATNODES_OPTIONS.USERID AS NODE_USERID,
dbo.VISTA_BS_STRATNODES_OPTIONS.SEC_LEVEL AS NODE_SEC_LEVEL, dbo.VISTA_BS_STRATNODES_OPTIONS.USUARIO AS NODE_USUARIO,
dbo.VISTA_BS_STRATNODES_OPTIONS.L_WEBGROUP AS NODE_L_WEBGROUP
FROM         dbo.VISTA_BS_STRATPLANS_OPTIONS FULL OUTER JOIN
dbo.VISTA_BS_STRATNODES_OPTIONS ON
dbo.VISTA_BS_STRATPLANS_OPTIONS.BS_STRAT_PLANSID = dbo.VISTA_BS_STRATNODES_OPTIONS.BS_STRAT_PLANSID
GO

GO
--SqlScripter----[dbo].[VISTA_BS_STRATNODES_DOCUMENTS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_BS_STRATNODES_DOCUMENTS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_BS_STRATNODES_DOCUMENTS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_BS_STRATNODES_DOCUMENTS]
AS
SELECT     
dbo.DOCUMENTOS.CODIGO AS CODIGODOCUMENTO, dbo.DOCUMENTOS.ESTADO, dbo.DOCUMENTOS.CODIGOISO, dbo.DOCUMENTOS.NOMBRE, 
                      dbo.DOCUMENTOS.REVISION, dbo.DOCUMENTOS.C_REVISION,
dbo.BS_STRAT_NODES.BS_STRAT_NODESID, 
                      dbo.BS_STRAT_NODES.BS_STRAT_PLANSID


FROM         dbo.IKI_DOCUMENTS INNER JOIN
                      dbo.DOCUMENTOS ON dbo.IKI_DOCUMENTS.D_ID = dbo.DOCUMENTOS.CODIGO INNER JOIN
                      dbo.BS_STRAT_NODES ON dbo.IKI_DOCUMENTS.IKI_MASTERID = dbo.BS_STRAT_NODES.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_BS_STRATNODES_INDICATORS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_BS_STRATNODES_INDICATORS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_BS_STRATNODES_INDICATORS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_BS_STRATNODES_INDICATORS]
AS
SELECT     dbo.VISTA_IKI_BSINDICATORS.I_ID AS BS_INDICATORSID, dbo.VISTA_IKI_BSINDICATORS.BSINDICATOR_DESCRIPTION AS DESCRIPTION,
dbo.VISTA_IKI_BSINDICATORS.BSINDICATOR_LOCATION AS LOCATION, dbo.BS_STRAT_NODES.BS_STRAT_NODESID,
dbo.BS_STRAT_NODES.BS_STRAT_PLANSID
FROM         dbo.BS_STRAT_NODES INNER JOIN
dbo.VISTA_IKI_BSINDICATORS ON dbo.BS_STRAT_NODES.IKI_MASTERID = dbo.VISTA_IKI_BSINDICATORS.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_BS_STRATNODES_ISSUES].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_BS_STRATNODES_ISSUES]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_BS_STRATNODES_ISSUES] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_BS_STRATNODES_ISSUES]
AS
SELECT     dbo.NCMAINPROD.CODIGO AS CODIGOASUNTO, dbo.NCMAINPROD.CATEGORIADESC, dbo.NCMAINPROD.CODIGOMARCO,
dbo.NCMAINPROD.TIPOMARCO, dbo.NCMAINPROD.TIPO, dbo.NCMAINPROD.DESCRIPCION, dbo.BS_STRAT_NODES.BS_STRAT_NODESID,
dbo.BS_STRAT_NODES.BS_STRAT_PLANSID
FROM         dbo.IKI_ISSUES INNER JOIN
dbo.NCMAINPROD ON dbo.IKI_ISSUES.N_ID = dbo.NCMAINPROD.CODIGO INNER JOIN
dbo.BS_STRAT_NODES ON dbo.IKI_ISSUES.IKI_MASTERID = dbo.BS_STRAT_NODES.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_BS_STRATNODES_OPTIONS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_BS_STRATNODES_OPTIONS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_BS_STRATNODES_OPTIONS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_BS_STRATNODES_OPTIONS]
AS
SELECT     dbo.BS_STRAT_NODES.BS_STRAT_NODESID, dbo.BS_STRAT_NODES.DESCRIPTION, dbo.BS_STRAT_NODES_OPTIONS.USERID,
dbo.BS_STRAT_NODES_OPTIONS.SEC_LEVEL, dbo.USUARIOS.USUARIO, dbo.USUARIOS.L_WEBGROUP,
dbo.BS_STRAT_NODES.BS_STRAT_PLANSID, dbo.BS_STRAT_NODES_OPTIONS.BS_STRAT_NODES_OPTIONSID,
dbo.BS_STRAT_NODES_OPTIONS.SHOWINMYTASKS
FROM         dbo.BS_STRAT_NODES INNER JOIN
dbo.BS_STRAT_NODES_OPTIONS ON
dbo.BS_STRAT_NODES.BS_STRAT_NODESID = dbo.BS_STRAT_NODES_OPTIONS.BS_STRAT_NODESID INNER JOIN
dbo.USUARIOS ON dbo.BS_STRAT_NODES_OPTIONS.USERID = dbo.USUARIOS.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_BS_STRATPLANS_DOCUMENTS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_BS_STRATPLANS_DOCUMENTS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_BS_STRATPLANS_DOCUMENTS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_BS_STRATPLANS_DOCUMENTS]
AS
SELECT     dbo.DOCUMENTOS.CODIGO AS CODIGODOCUMENTO, dbo.DOCUMENTOS.ESTADO, dbo.DOCUMENTOS.CODIGOISO, dbo.DOCUMENTOS.NOMBRE,
dbo.DOCUMENTOS.REVISION, dbo.BS_STRAT_PLANS.BS_STRAT_PLANSID, dbo.DOCUMENTOS.C_REVISION
FROM         dbo.DOCUMENTOS INNER JOIN
dbo.IKI_DOCUMENTS ON dbo.DOCUMENTOS.CODIGO = dbo.IKI_DOCUMENTS.D_ID INNER JOIN
dbo.BS_STRAT_PLANS ON dbo.IKI_DOCUMENTS.IKI_MASTERID = dbo.BS_STRAT_PLANS.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_BS_STRATPLANS_DRAWINGS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_BS_STRATPLANS_DRAWINGS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_BS_STRATPLANS_DRAWINGS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_BS_STRATPLANS_DRAWINGS]
AS
SELECT     dbo.BS_STRAT_PLANS.BS_STRAT_PLANSID, dbo.VISTA_IKI_SVGDRAWINGS.SVG_ID, dbo.VISTA_IKI_SVGDRAWINGS.SVGDRAWING_TYPE,
dbo.VISTA_IKI_SVGDRAWINGS.SVGDRAWING_DESCRIPTION, dbo.VISTA_IKI_SVGDRAWINGS.SVGDRAWING_ICON
FROM         dbo.BS_STRAT_PLANS INNER JOIN
dbo.VISTA_IKI_SVGDRAWINGS ON dbo.BS_STRAT_PLANS.IKI_MASTERID = dbo.VISTA_IKI_SVGDRAWINGS.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_BS_STRATPLANS_OPTIONS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_BS_STRATPLANS_OPTIONS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_BS_STRATPLANS_OPTIONS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_BS_STRATPLANS_OPTIONS]
AS
SELECT     dbo.BS_STRAT_PLANS.BS_STRAT_PLANSID, dbo.BS_STRAT_PLANS.DESCRIPTION, dbo.BS_STRAT_PLANS_OPTIONS.USERID,
dbo.BS_STRAT_PLANS_OPTIONS.SEC_LEVEL, dbo.USUARIOS.USUARIO, dbo.USUARIOS.L_WEBGROUP,
dbo.BS_STRAT_PLANS_OPTIONS.BS_STRAT_PLANS_OPTIONSID, dbo.BS_STRAT_PLANS_OPTIONS.SHOWINMYTASKS
FROM         dbo.BS_STRAT_PLANS INNER JOIN
dbo.BS_STRAT_PLANS_OPTIONS ON
dbo.BS_STRAT_PLANS.BS_STRAT_PLANSID = dbo.BS_STRAT_PLANS_OPTIONS.BS_STRAT_PLANSID INNER JOIN
dbo.USUARIOS ON dbo.BS_STRAT_PLANS_OPTIONS.USERID = dbo.USUARIOS.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_BS_SVG_OPTIONS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_BS_SVG_OPTIONS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_BS_SVG_OPTIONS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_BS_SVG_OPTIONS]
AS
SELECT     dbo.BS_SVG.BS_SVGID, dbo.BS_SVG.DESCRIPTION, dbo.BS_SVG_OPTIONS.USERID, dbo.BS_SVG_OPTIONS.SEC_LEVEL, dbo.USUARIOS.USUARIO,
dbo.USUARIOS.L_WEBGROUP, dbo.BS_SVG_OPTIONS.BS_SVG_OPTIONSID, dbo.BS_SVG_OPTIONS.SHOWINMYTASKS
FROM         dbo.BS_SVG INNER JOIN
dbo.BS_SVG_OPTIONS ON dbo.BS_SVG.BS_SVGID = dbo.BS_SVG_OPTIONS.BS_SVGID INNER JOIN
dbo.USUARIOS ON dbo.BS_SVG_OPTIONS.USERID = dbo.USUARIOS.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_CARGOSPERSONAS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_CARGOSPERSONAS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_CARGOSPERSONAS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_CARGOSPERSONAS]
AS
SELECT     dbo.ORGANIGRAMA.CODIGO AS CODIGOCARGO, dbo.ORGANIGRAMA.DESCRIPCION AS CARGO, dbo.PERSONAS.PERSONA,
dbo.PERSONAS.CODIGO AS CODIGOUSUARIO, dbo.PERSONAS.EMAIL,
dbo.ORGANIGRAMA.TIPO
FROM         dbo.PERSONAS INNER JOIN
dbo.CARGOSUSUARIOS INNER JOIN
dbo.ORGANIGRAMA ON dbo.ORGANIGRAMA.CODIGO = dbo.CARGOSUSUARIOS.CODIGOCARGO ON
dbo.CARGOSUSUARIOS.CODIGOUSUARIO = dbo.PERSONAS.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_CARGOSUSUARIOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_CARGOSUSUARIOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_CARGOSUSUARIOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_CARGOSUSUARIOS]
AS
SELECT        dbo.ORGANIGRAMA.CODIGO AS CODIGOCARGO, dbo.ORGANIGRAMA.DESCRIPCION AS CARGO, dbo.USUARIOS.USUARIO, 
                         dbo.USUARIOS.CODIGO AS CODIGOUSUARIO, dbo.USUARIOS.EMAIL, dbo.USUARIOS.L_ENVIARTEXTOCOMPLETO, 
                         dbo.USUARIOS.L_ENVIARMAILPROCESOS, dbo.USUARIOS.L_ENVIARMAILTAREAS, dbo.USUARIOS.L_ENVIARMAILNOTIFICACIONES, 
                         dbo.ORGANIGRAMA.TIPO, dbo.USUARIOS.CATEGORIA AS IKCAT, dbo.USUARIOS.PERMISOSDOCUMENTOS AS IKPDO, 
                         dbo.USUARIOS.PERMISOSBSPROC AS BSPROCCAT, dbo.USUARIOS.L_DELETED, dbo.ORGANIGRAMA.CAMINO
FROM            dbo.USUARIOS INNER JOIN
                         dbo.CARGOSUSUARIOS INNER JOIN
                         dbo.ORGANIGRAMA ON dbo.ORGANIGRAMA.CODIGO = dbo.CARGOSUSUARIOS.CODIGOCARGO ON 
                         dbo.CARGOSUSUARIOS.CODIGOUSUARIO = dbo.USUARIOS.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_CONDOCTAREASUSUARIOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_CONDOCTAREASUSUARIOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_CONDOCTAREASUSUARIOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
/****** Objeto: vista dbo.VISTA_CONDOCTAREASUSUARIOS    fecha de la secuencia de comandos: 17/02/2003 12:43:53 p.m. ******/
ALTER VIEW [dbo].[VISTA_CONDOCTAREASUSUARIOS]
AS
SELECT dbo.TAREASREVISION.CODIGO AS CODIGOTAREA, dbo.TAREASREVISION.CODIGODOCUMENTO, dbo.TAREASREVISION.DESCRIPCIONDOC, dbo.TAREASREVISION.ACCION, dbo.TAREASREVISION.CARGOREQ, 
                  dbo.DOCUMENTOS.ESTADO AS DOCUMENTOSESTADO, dbo.TAREASREVISION.CODIGOUSUARIO, dbo.TAREASREVISION.CODIGOCARGOREQ AS CODIGOCARGO, dbo.DOCUMENTOS.NOMBRE, 
                  dbo.DOCUMENTOS.CODIGOISO, dbo.DOCUMENTOS.REVISION, dbo.DOCUMENTOS.C_REVISION, dbo.TAREASREVISION.FECHAVENCIMIENTO
FROM     dbo.TAREASREVISION INNER JOIN
                  dbo.DOCUMENTOS ON dbo.TAREASREVISION.CODIGODOCUMENTO = dbo.DOCUMENTOS.CODIGO LEFT OUTER JOIN
                  dbo.PROCESOS ON dbo.TAREASREVISION.CODIGOPROCESO = dbo.PROCESOS.CODIGO
WHERE  (dbo.TAREASREVISION.ESTADO = 'V')
GO

GO
--SqlScripter----[dbo].[VISTA_DATOSUSUARIOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_DATOSUSUARIOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_DATOSUSUARIOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_DATOSUSUARIOS]
AS
SELECT     dbo.DATOSUSUARIOS.CODIGO, dbo.DATOSUSUARIOS.APELLIDOS, dbo.DATOSUSUARIOS.NOMBRES, dbo.DATOSUSUARIOS.FECHANACIMIENTO, 
                      dbo.DATOSUSUARIOS.TELEFONOS, dbo.DATOSUSUARIOS.MOVIL, dbo.DATOSUSUARIOS.DOMICILIO, dbo.DATOSUSUARIOS.FOTO, 
                      dbo.DATOSUSUARIOS.CV, dbo.PERSONAS.USUARIO, dbo.PERSONAS.EMAIL, dbo.TBL_CATEGORIASUSUARIOS.DESCRIPCION AS CATEGORIAUSUARIO,
                       dbo.DATOSUSUARIOS.CODIGOCATEGORIAUSUARIO, dbo.DATOSUSUARIOS.COMENTARIOS, dbo.PERSONAS.CODIGO AS CODIGOUSUARIO, 
                      dbo.PERSONAS.PERSONA, dbo.PERSONAS.IKPERSON_HTMLREPORTS_OPTS_ID
FROM         dbo.PERSONAS LEFT OUTER JOIN
                      dbo.DATOSUSUARIOS ON dbo.PERSONAS.CODIGO = dbo.DATOSUSUARIOS.CODIGOUSUARIO LEFT OUTER JOIN
                      dbo.TBL_CATEGORIASUSUARIOS ON dbo.DATOSUSUARIOS.CODIGOCATEGORIAUSUARIO = dbo.TBL_CATEGORIASUSUARIOS.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_DOCSARCHIVOSPUBLICADOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_DOCSARCHIVOSPUBLICADOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_DOCSARCHIVOSPUBLICADOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_DOCSARCHIVOSPUBLICADOS]
AS
SELECT     dbo.ARCHIVOS.*, dbo.DOCUMENTOS.ESTADO AS ESTADO_DOCUMENTO
FROM         dbo.ARCHIVOS INNER JOIN
dbo.DOCUMENTOS ON dbo.DOCUMENTOS.CODIGO = dbo.ARCHIVOS.CODIGODOCUMENTO
GO

GO
--SqlScripter----[dbo].[VISTA_DOCTAREASAPROBNEG].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_DOCTAREASAPROBNEG]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_DOCTAREASAPROBNEG] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_DOCTAREASAPROBNEG]
AS
SELECT     - 1 AS CODIGOUSUARIOCARGOMULTIPLE, dbo.APROBACIONES.CODIGO AS APROBACIONES_CODIGO,
dbo.APROBACIONES.CODIGODOCUMENTO AS CODIGODOC, dbo.APROBACIONES.CODIGOCARGO, dbo.APROBACIONES.INSTANCIA,
dbo.APROBACIONES.L_APRUEBA, dbo.ORGANIGRAMA.CODIGO AS ORGANIGRAMA_CODIGO, dbo.ORGANIGRAMA.DESCRIPCION,
dbo.ORGANIGRAMA.TIPO, dbo.DOCUMENTOS.MODOAPRUEBAN, dbo.DOCUMENTOS.APRUEBAN, dbo.DOCUMENTOS.APRUEBAN2,
dbo.DOCUMENTOS.MODOAPRUEBAN2
FROM         dbo.ORGANIGRAMA INNER JOIN
dbo.APROBACIONES ON dbo.ORGANIGRAMA.CODIGO = dbo.APROBACIONES.CODIGOCARGO INNER JOIN
dbo.DOCUMENTOS ON dbo.APROBACIONES.CODIGODOCUMENTO = dbo.DOCUMENTOS.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_DOCTAREASAPROBNEG_MULT].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_DOCTAREASAPROBNEG_MULT]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_DOCTAREASAPROBNEG_MULT] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_DOCTAREASAPROBNEG_MULT]
AS
SELECT     dbo.APROBACIONES.CODIGO AS APROBACIONES_CODIGO, dbo.APROBACIONES.CODIGODOCUMENTO AS CODIGODOC,
dbo.APROBACIONES.CODIGOCARGO, dbo.APROBACIONES.INSTANCIA, dbo.APROBACIONES.L_APRUEBA,
dbo.ORGANIGRAMA.CODIGO AS ORGANIGRAMA_CODIGO, dbo.ORGANIGRAMA.DESCRIPCION, dbo.ORGANIGRAMA.TIPO, dbo.USUARIOS.USUARIO,
dbo.ORGANIGRAMA.DESCRIPCIONDOCUMENTO, dbo.USUARIOS.CODIGO AS CODIGOUSUARIO
FROM         dbo.USUARIOS INNER JOIN
dbo.WEBGROUPMEMBERS ON dbo.USUARIOS.CODIGO = dbo.WEBGROUPMEMBERS.CODIGOUSUARIO INNER JOIN
dbo.ORGANIGRAMA INNER JOIN
dbo.APROBACIONES ON dbo.ORGANIGRAMA.CODIGO = dbo.APROBACIONES.CODIGOCARGO INNER JOIN
dbo.CARGOSUSUARIOS ON dbo.ORGANIGRAMA.CODIGO = dbo.CARGOSUSUARIOS.CODIGOCARGO ON
dbo.WEBGROUPMEMBERS.CODIGOGRUPO = dbo.CARGOSUSUARIOS.CODIGOUSUARIO
WHERE     (dbo.ORGANIGRAMA.TIPO = 4)
GO

GO
--SqlScripter----[dbo].[VISTA_DOCTAREASDISTRIBNEG].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_DOCTAREASDISTRIBNEG]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_DOCTAREASDISTRIBNEG] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_DOCTAREASDISTRIBNEG]
AS
SELECT     - 1 AS CODIGOUSUARIOCARGOMULTIPLE, dbo.DISTRIBUCION.CODIGO AS CODDIS, dbo.DISTRIBUCION.CODIGODOCUMENTO AS CODIGODOC,
dbo.DISTRIBUCION.CODIGOCARGO, dbo.DISTRIBUCION.CODIGODISTRIBUIDOR, dbo.DISTRIBUCION.L_SUBDISTRIBUIDOR,
dbo.DISTRIBUCION.INSTRUCCIONES, dbo.DISTRIBUCION.ARCHIVOINSTRUCCIONES, dbo.ORGANIGRAMA.CODIGO AS ORGANIGRAMA_CODIGO,
dbo.ORGANIGRAMA.DESCRIPCION, dbo.ORGANIGRAMA.TIPO, dbo.DISTRIBUCION.CODIGOGRUPO,
dbo.IKPOSITIONSGROUPSTREE.GROUPDESCRIPTION, dbo.DISTRIBUCION.TIPO_DISTRIBUCION
FROM         dbo.ORGANIGRAMA RIGHT OUTER JOIN
dbo.DISTRIBUCION ON dbo.ORGANIGRAMA.CODIGO = dbo.DISTRIBUCION.CODIGOCARGO LEFT OUTER JOIN
dbo.IKPOSITIONSGROUPSTREE ON dbo.DISTRIBUCION.CODIGOGRUPO = dbo.IKPOSITIONSGROUPSTREE.IKPOSITIONSGROUPSTREEID
GO

GO
--SqlScripter----[dbo].[VISTA_DOCTAREASDISTRIBNEG_MULT].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_DOCTAREASDISTRIBNEG_MULT]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_DOCTAREASDISTRIBNEG_MULT] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_DOCTAREASDISTRIBNEG_MULT]
AS
SELECT     dbo.DISTRIBUCION.CODIGO AS CODDIS, dbo.DISTRIBUCION.CODIGODOCUMENTO AS CODIGODOC, dbo.DISTRIBUCION.CODIGOCARGO,
dbo.DISTRIBUCION.CODIGODISTRIBUIDOR, dbo.DISTRIBUCION.L_SUBDISTRIBUIDOR, dbo.DISTRIBUCION.INSTRUCCIONES,
dbo.DISTRIBUCION.ARCHIVOINSTRUCCIONES, dbo.ORGANIGRAMA.CODIGO AS ORGANIGRAMA_CODIGO, dbo.ORGANIGRAMA.DESCRIPCION,
dbo.ORGANIGRAMA.TIPO, dbo.USUARIOS.CODIGO AS CODIGOUSUARIO, dbo.USUARIOS.USUARIO, dbo.ORGANIGRAMA.DESCRIPCIONDOCUMENTO,
dbo.DISTRIBUCION.TIPO_DISTRIBUCION
FROM         dbo.ORGANIGRAMA INNER JOIN
dbo.DISTRIBUCION ON dbo.ORGANIGRAMA.CODIGO = dbo.DISTRIBUCION.CODIGOCARGO INNER JOIN
dbo.CARGOSUSUARIOS ON dbo.ORGANIGRAMA.CODIGO = dbo.CARGOSUSUARIOS.CODIGOCARGO INNER JOIN
dbo.WEBGROUPMEMBERS ON dbo.CARGOSUSUARIOS.CODIGOUSUARIO = dbo.WEBGROUPMEMBERS.CODIGOGRUPO INNER JOIN
dbo.USUARIOS ON dbo.WEBGROUPMEMBERS.CODIGOUSUARIO = dbo.USUARIOS.CODIGO
WHERE     (dbo.ORGANIGRAMA.TIPO = 4)
GO

GO
--SqlScripter----[dbo].[VISTA_DOCUMENTOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_DOCUMENTOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_DOCUMENTOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
/****** Objeto: vista dbo.VISTA_DOCUMENTOS    fecha de la secuencia de comandos: 17/02/2003 12:43:53 p.m. *****

*/
ALTER VIEW [dbo].[VISTA_DOCUMENTOS]
AS
SELECT     dbo.DOCUMENTOS.CODIGO, dbo.DOCUMENTOS.ESTADO, dbo.DOCUMENTOS.DESCRIPCION, dbo.DOCUMENTOS.CODIGOTIPO, 
                      dbo.DOCUMENTOS.OBSERVACIONES, dbo.DOCUMENTOS.FECHAVIGENCIA, dbo.DOCUMENTOS.FECHAULTREV, dbo.DOCUMENTOS.FECHAPROXREV, 
                      dbo.DOCUMENTOS.TIPOPROXREV, dbo.DOCUMENTOS.FECHAOBSOLETO, dbo.DOCUMENTOS.FECHACREACION, dbo.DOCUMENTOS.NOMBRE, 
                      dbo.DOCUMENTOS.CODIGOISO, dbo.DOCUMENTOS.USUARIORESPONSABLE, dbo.DOCUMENTOS.USUARIOAUDITOR, dbo.DOCUMENTOS.ETAPA, 
                      dbo.DOCUMENTOS.REVISION, dbo.DOCUMENTOS.CODIGOSECTOR, dbo.DOCUMENTOS.CODIGOAPROBACION, dbo.DOCUMENTOS.APRUEBAN, 
                      dbo.DOCUMENTOS.APRUEBAN2, dbo.DOCUMENTOS.MODOAPRUEBAN, dbo.DOCUMENTOS.MODOAPRUEBAN2, dbo.DOCUMENTOS.PROCESO, 
                      dbo.DOCUMENTOS.PROCESOREVISA, dbo.DOCUMENTOS.PROCESOAPRUEBA, dbo.DOCUMENTOS.PROCESODISTRIBUYE, 
                      dbo.DOCUMENTOS.RESULTADOREVISA, dbo.DOCUMENTOS.RESULTADOAPRUEBA, dbo.DOCUMENTOS.RESULTADODISTRIBUYE, 
                      dbo.DOCUMENTOS.CODIGODISTRIBUCION, dbo.DOCUMENTOS.BASADOEN, dbo.DOCUMENTOS.CODIGOBASADOEN, 
                      dbo.DOCUMENTOS.VERSIONBASADOEN, dbo.DOCUMENTOS.COMENTARIOSA, dbo.DOCUMENTOS.COMENTARIOSR, dbo.DOCUMENTOS.ARCHIVOA, 
                      dbo.DOCUMENTOS.ARCHIVOR, dbo.DOCUMENTOS.L_PENDIENTESMOSTRADO, dbo.DOCUMENTOS.L_AUTOTRAMITAR, 
                      dbo.DOCUMENTOS.CODIGOFORODESARROLLO, dbo.DOCUMENTOS.CODIGOFOROCRITICAS, dbo.DOCUMENTOS.CODIGOSURVEY, 
                      dbo.DOCUMENTOS.L_ISSURVEY, dbo.DOCUMENTOS.DIASVENCIMIENTO1, dbo.DOCUMENTOS.DIASVENCIMIENTO2, 
                      dbo.DOCUMENTOS.DIASVENCIMIENTO3, dbo.DOCUMENTOS.L_CRITFORUM_ISRESTRICTED, dbo.DOCUMENTOS.C_REVISION, 
                      dbo.DOCUMENTOS.DT_VERSION, dbo.DOCUMENTOS.IK_HTMLREPORTS_OPTIONS_ID, dbo.DOCUMENTOS.IKI_MASTERID, 
                      dbo.DOCUMENTOS.NEXTREVCALCTYPE, dbo.DOCUMENTOS.NEXTREVDAYSORMONTHS, dbo.DOCUMENTOS.NEXTREVCOMMENTS, 
                      dbo.DOCUMENTOS.PROCESSAVAILABILITY, dbo.TIPOSDOCUMENTOS.TIPO AS TIPO_DOCUMENTO, 
                      dbo.TIPOSDOCUMENTOS.DESCRIPCION AS TIPO_DESCRIPCION, dbo.USUARIOS.USUARIO AS NOMBRE_ADMINISTRADOR, 
                      dbo.USUARIOS.EMAIL AS EMAIL_ADMINISTRADOR, dbo.TIPOSDOCUMENTOS.CODIGO AS CODIGOTIPODOC, 
                      dbo.DOCUMENTOS.L_SHOWRECORDS_REVAP_TO_DIST, dbo.DOCUMENTOS.L_SHOWRECORDS_DIST_TO_DIST
FROM         dbo.DOCUMENTOS INNER JOIN
                      dbo.TIPOSDOCUMENTOS ON dbo.DOCUMENTOS.CODIGOTIPO = dbo.TIPOSDOCUMENTOS.CODIGO INNER JOIN
                      dbo.USUARIOS ON dbo.DOCUMENTOS.USUARIORESPONSABLE = dbo.USUARIOS.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_DOCUMENTOS_CHANGELOG].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_DOCUMENTOS_CHANGELOG]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_DOCUMENTOS_CHANGELOG] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_DOCUMENTOS_CHANGELOG]
AS
SELECT     dbo.DOCUMENTOS_CHANGELOG.CODIGO, dbo.DOCUMENTOS_CHANGELOG.CODIGODOCUMENTO, dbo.DOCUMENTOS_CHANGELOG.TEXTO,
dbo.DOCUMENTOS_CHANGELOG.CHANGELOG_TYPE, dbo.DOCUMENTOS_CHANGELOG.LASTUSER, dbo.DOCUMENTOS_CHANGELOG.LASTDATE,
dbo.TBL_DOCUMENT_CHANGELOG_TYPES.DESCRIPCION AS CHANGE_LOG_TYPE_DESCRIPCION,
dbo.DOCUMENTOS_CHANGELOG.L_INCLUDE_DISTRIBUTED, dbo.DOCUMENTOS_CHANGELOG.L_CLONE,
dbo.DOCUMENTOS_CHANGELOG.L_HIDEPREVIOUS
FROM         dbo.DOCUMENTOS_CHANGELOG INNER JOIN
dbo.TBL_DOCUMENT_CHANGELOG_TYPES ON
dbo.DOCUMENTOS_CHANGELOG.CHANGELOG_TYPE = dbo.TBL_DOCUMENT_CHANGELOG_TYPES.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_DOCUMENTOS_HERENCIA].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_DOCUMENTOS_HERENCIA]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_DOCUMENTOS_HERENCIA] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_DOCUMENTOS_HERENCIA]
AS
SELECT     DOCSHEREDANDO.CODIGO D_CODIGO, DOCSHEREDANDO.REVISION D_REVISION, DOCSHEREDANDO.C_REVISION D_C_REVISION, 
                      DOCSHEREDANDO.NOMBRE D_NOMBRE, DOCSHEREDANDO.CODIGOISO D_CODIGOISO, 
                      TIPOSDOCUMENTOS.TIPO + ' ' + DOCSHEREDANDO.CODIGOISO + ' Rev.' + DOCSHEREDANDO.C_REVISION + ' - ' + DOCSHEREDANDO.NOMBRE AS D_NOMBRECOMPLETO,
                       'VIEW=DOCREVISION&DOCCODE=' + CAST(DOCSHEREDANDO.CODIGO AS varchar(10)) + '&STATUS=' + CAST(DOCSHEREDANDO.ESTADO AS varchar(10)) 
                      + '&PROCESSTYPE=1' AS D_URL_DATA, 'DOCCODE=' + CAST(DOCSHEREDANDO.CODIGO AS varchar(10)) 
                      + '&STATUS=' + CAST(DOCSHEREDANDO.ESTADO AS varchar(10)) + '&PROCESSTYPE=1' AS D_URL_DATA_SHORT, 
                      CASE WHEN (DOCSHEREDANDO.ESTADO = 1) THEN 'Images/Doc_Development.gif' WHEN (DOCSHEREDANDO.ESTADO = 2) 
                      THEN 'Images/Doc_Current.gif' ELSE 'Images/Doc_Obsolete.gif' END AS D_ICONOESTADO, DOCSHEREDADOS.CODIGO O_CODIGO, 
                      DOCSHEREDADOS.REVISION O_REVISION, DOCSHEREDADOS.C_REVISION O_C_REVISION, DOCSHEREDADOS.NOMBRE O_NOMBRE, 
                      DOCSHEREDADOS.CODIGOISO O_CODIGOISO, 
                      DOCSHEREDADOS.CODIGOISO + ' Rev.' + DOCSHEREDADOS.C_REVISION + ' - ' + DOCSHEREDADOS.NOMBRE AS O_NOMBRECOMPLETO, 
                      'VIEW=DOCREVISION&DOCCODE=' + CAST(DOCSHEREDADOS.CODIGO AS varchar(10)) + '&STATUS=' + CAST(DOCSHEREDADOS.ESTADO AS varchar(10)) 
                      + '&PROCESSTYPE=1' AS O_URL_DATA, 'DOCCODE=' + CAST(DOCSHEREDADOS.CODIGO AS varchar(10)) 
                      + '&STATUS=' + CAST(DOCSHEREDADOS.ESTADO AS varchar(10)) + '&PROCESSTYPE=1' AS O_URL_DATA_SHORT, 
                      CASE WHEN (DOCSHEREDADOS.ESTADO = 1) THEN 'Images/Doc_Development.gif' WHEN (DOCSHEREDADOS.ESTADO = 2) 
                      THEN 'Images/Doc_Current.gif' ELSE 'Images/Doc_Obsolete.gif' END as O_ICONOESTADO, 1 POLITICA,DOCSHEREDANDO.ESTADO AS D_ESTADO
FROM         DOCUMENTOS DOCSHEREDANDO JOIN
                      DOCUMENTOS DOCSHEREDADOS ON DOCSHEREDANDO.CODIGOAPROBACION = DOCSHEREDADOS.CODIGO JOIN
                      TIPOSDOCUMENTOS ON DOCSHEREDANDO.CODIGOTIPO = TIPOSDOCUMENTOS.CODIGO
UNION ALL
SELECT     DOCSHEREDANDO.CODIGO D_CODIGO, DOCSHEREDANDO.REVISION D_REVISION, DOCSHEREDANDO.C_REVISION D_C_REVISION, 
                      DOCSHEREDANDO.NOMBRE D_NOMBRE, DOCSHEREDANDO.CODIGOISO D_CODIGOISO, 
                      TIPOSDOCUMENTOS.TIPO + ' ' + DOCSHEREDANDO.CODIGOISO + ' Rev.' + DOCSHEREDANDO.C_REVISION + ' - ' + DOCSHEREDANDO.NOMBRE AS D_NOMBRECOMPLETO,
                       'VIEW=DOCDISTRIBUTION&DOCCODE=' + CAST(DOCSHEREDANDO.CODIGO AS varchar(10)) + '&STATUS=' + CAST(DOCSHEREDANDO.ESTADO AS varchar(10)) 
                      + '&PROCESSTYPE=3' AS D_URL_DATA, 'DOCCODE=' + CAST(DOCSHEREDANDO.CODIGO AS varchar(10)) 
                      + '&STATUS=' + CAST(DOCSHEREDANDO.ESTADO AS varchar(10)) + '&PROCESSTYPE=3' AS D_URL_DATA_SHORT, 
                       CASE WHEN (DOCSHEREDADOS.ESTADO = 1) THEN 'Images/Doc_Development.gif' WHEN (DOCSHEREDADOS.ESTADO = 2) 
                      THEN 'Images/Doc_Current.gif' ELSE 'Images/Doc_Obsolete.gif' END as O_ICONOESTADO, DOCSHEREDADOS.CODIGO O_CODIGO, 
                      DOCSHEREDADOS.REVISION O_REVISION, DOCSHEREDADOS.C_REVISION O_C_REVISION, DOCSHEREDADOS.NOMBRE O_NOMBRE, 
                      DOCSHEREDADOS.CODIGOISO O_CODIGOISO, 
                      DOCSHEREDADOS.CODIGOISO + ' Rev.' + DOCSHEREDADOS.C_REVISION + ' - ' + DOCSHEREDADOS.NOMBRE AS O_NOMBRECOMPLETO, 
                      'VIEW=DOCDISTRIBUTION&DOCCODE=' + CAST(DOCSHEREDADOS.CODIGO AS varchar(10)) + '&STATUS=' + CAST(DOCSHEREDADOS.ESTADO AS varchar(10)) 
                      + '&PROCESSTYPE=3' AS O_URL_DATA, 'DOCCODE=' + CAST(DOCSHEREDADOS.CODIGO AS VARCHAR(10)) 
                      + '&STATUS=' + CAST(DOCSHEREDADOS.ESTADO AS varchar(10)) + '&PROCESSTYPE=3' AS O_URL_DATA_SHORT, 
                      CASE WHEN (DOCSHEREDADOS.ESTADO = 1) THEN 'Images/Doc_Development.gif' WHEN (DOCSHEREDADOS.ESTADO = 2) 
                      THEN 'Images/Doc_Current.gif' ELSE 'Images/Doc_Obsolete.gif' END as O_ICONOESTADO, 3 POLITICA,DOCSHEREDANDO.ESTADO AS D_ESTADO
FROM         DOCUMENTOS DOCSHEREDANDO JOIN
                      DOCUMENTOS DOCSHEREDADOS ON DOCSHEREDANDO.CODIGODISTRIBUCION = DOCSHEREDADOS.CODIGO JOIN
                      TIPOSDOCUMENTOS ON DOCSHEREDANDO.CODIGOTIPO = TIPOSDOCUMENTOS.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_DOCUMENTOSCATEGORIAS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_DOCUMENTOSCATEGORIAS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_DOCUMENTOSCATEGORIAS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_DOCUMENTOSCATEGORIAS]
AS
SELECT     dbo.DOCUMENTOS.CODIGO AS CODIGODOCUMENTO, dbo.TBL_CATEGORIASDOCUMENTOS.DESCRIPCION AS CATEGORIADOCUMENTO,
dbo.TBL_CATEGORIASDOCUMENTOS.CODIGO AS CODIGOCATEGORIADOCUMENTO, dbo.TBL_CATEGORIASDOCUMENTOS.ORDEN,
dbo.TBL_CATEGORIASDOCUMENTOS.CAMINO, dbo.TBL_CATEGORIASDOCUMENTOS.CODIGOPADRE,
dbo.TBL_CATEGORIASDOCUMENTOS.CODIGORAIZ
FROM         dbo.DOCUMENTOS INNER JOIN
dbo.DOCUMENTOSCATEGORIAS ON dbo.DOCUMENTOS.CODIGO = dbo.DOCUMENTOSCATEGORIAS.CODIGODOCUMENTO INNER JOIN
dbo.TBL_CATEGORIASDOCUMENTOS ON dbo.DOCUMENTOSCATEGORIAS.CODIGOCATEGORIA = dbo.TBL_CATEGORIASDOCUMENTOS.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_DOCUMENTOSCRITICAS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_DOCUMENTOSCRITICAS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_DOCUMENTOSCRITICAS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_DOCUMENTOSCRITICAS]
AS
SELECT     dbo.CRITICAS.*, dbo.TIPOSCRITICAS.TIPOCRITICA AS DESCRIPCIONTIPOCRITICA
FROM         dbo.CRITICAS INNER JOIN
dbo.TIPOSCRITICAS ON dbo.CRITICAS.CODIGOCRITICA = dbo.TIPOSCRITICAS.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_DOCUMENTOSRELDOCUMENTOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_DOCUMENTOSRELDOCUMENTOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_DOCUMENTOSRELDOCUMENTOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_DOCUMENTOSRELDOCUMENTOS]
AS
SELECT     dbo.DOCUMENTOSREL.CODIGO AS RELCOD, dbo.DOCUMENTOSREL.CODIGODOCUMENTO, dbo.DOCUMENTOS.REVISION,
dbo.DOCUMENTOS.CODIGOISO AS ISO, dbo.DOCUMENTOS.CODIGO, dbo.DOCUMENTOS.NOMBRE AS RELNOMBRE, dbo.DOCUMENTOS.PROCESO,
dbo.DOCUMENTOS.ESTADO AS RELESTADO, dbo.DOCUMENTOS.C_REVISION
FROM         dbo.DOCUMENTOS INNER JOIN
dbo.DOCUMENTOSREL ON dbo.DOCUMENTOS.CODIGO = dbo.DOCUMENTOSREL.CODIGORELACIONADO
GO

GO
--SqlScripter----[dbo].[VISTA_DOCUMENTOSRELORGANIGRAMA].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_DOCUMENTOSRELORGANIGRAMA]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_DOCUMENTOSRELORGANIGRAMA] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_DOCUMENTOSRELORGANIGRAMA]
AS
SELECT     dbo.DOCUMENTOS.CODIGO AS DOCUMENTOS_CODIGO, dbo.ORGANIGRAMAREL.CODIGO AS RELCOD, dbo.ORGANIGRAMAREL.CODIGODOCUMENTO,
dbo.ORGANIGRAMAREL.CODIGORELACIONADO, dbo.ORGANIGRAMA.CODIGO AS ORGANIGRAMA_CODIGO,
dbo.ORGANIGRAMA.DESCRIPCION AS ORGANIGRAMA_DESCRIPCION, dbo.ORGANIGRAMA.TIPO AS ORGANIGRAMA_TIPO, dbo.USUARIOS.USUARIO,
dbo.CARGOSUSUARIOS.CODIGOUSUARIO, CASE WHEN NOT USUARIO IS NULL AND (TIPO = 1 OR
TIPO = 4) THEN dbo.ORGANIGRAMA.DESCRIPCION + ' (' + USUARIO + ')' WHEN USUARIO IS NULL AND (TIPO = 1 OR
TIPO = 4)
THEN dbo.ORGANIGRAMA.DESCRIPCION + ' (Sin usuario asociado)' ELSE dbo.ORGANIGRAMA.DESCRIPCION END AS ORGANIGRAMA_DESCRIPCIONFULL
FROM         dbo.USUARIOS INNER JOIN
dbo.CARGOSUSUARIOS ON dbo.USUARIOS.CODIGO = dbo.CARGOSUSUARIOS.CODIGOUSUARIO RIGHT OUTER JOIN
dbo.DOCUMENTOS INNER JOIN
dbo.ORGANIGRAMA INNER JOIN
dbo.ORGANIGRAMAREL ON dbo.ORGANIGRAMA.CODIGO = dbo.ORGANIGRAMAREL.CODIGORELACIONADO ON
dbo.DOCUMENTOS.CODIGO = dbo.ORGANIGRAMAREL.CODIGODOCUMENTO ON dbo.CARGOSUSUARIOS.CODIGOCARGO = dbo.ORGANIGRAMA.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_DOCUMENTOSTAREASREVISION].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_DOCUMENTOSTAREASREVISION]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_DOCUMENTOSTAREASREVISION] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_DOCUMENTOSTAREASREVISION]
AS
SELECT     dbo.TAREASREVISION.*, dbo.DOCUMENTOS.ESTADO AS DOCUMENTOSESTADO
FROM         dbo.TAREASREVISION INNER JOIN
dbo.DOCUMENTOS ON dbo.TAREASREVISION.CODIGODOCUMENTO = dbo.DOCUMENTOS.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_DOCUMENTOSTODOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_DOCUMENTOSTODOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_DOCUMENTOSTODOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_DOCUMENTOSTODOS]
AS
SELECT     dbo.TIPOSDOCUMENTOS.TIPO AS TIPO_DOCUMENTO, dbo.TIPOSDOCUMENTOS.DESCRIPCION AS TIPO_DESCRIPCION, 
                      dbo.DOCUMENTOS.CODIGOISO + ' Rev.' + dbo.DOCUMENTOS.C_REVISION AS CODIGOREV, dbo.DOCUMENTOS.CODIGO AS CODIGODOCUMENTO, 
                      dbo.DOCUMENTOS.ESTADO, dbo.DOCUMENTOS.NOMBRE, dbo.DOCUMENTOS.CODIGOISO, dbo.DOCUMENTOS.CODIGOBASADOEN, 
                      dbo.DOCUMENTOS.VERSIONBASADOEN, dbo.DOCUMENTOS.REVISION, dbo.DOCUMENTOS.C_REVISION, dbo.DOCUMENTOS.CODIGOTIPO, 
                      CASE WHEN (DOCUMENTOS.ESTADO = 1) THEN 'Images/Doc_Development.gif' WHEN (DOCUMENTOS.ESTADO = 2) 
                      THEN 'Images/Doc_Current.gif' ELSE 'Images/Doc_Obsolete.gif' END AS ICONOESTADO, dbo.DOCUMENTOS.CODIGOAPROBACION, 
                      dbo.DOCUMENTOS.CODIGODISTRIBUCION
FROM         dbo.DOCUMENTOS INNER JOIN
                      dbo.TIPOSDOCUMENTOS ON dbo.DOCUMENTOS.CODIGOTIPO = dbo.TIPOSDOCUMENTOS.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_DOCUMENTOSUSUARIO].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_DOCUMENTOSUSUARIO]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_DOCUMENTOSUSUARIO] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_DOCUMENTOSUSUARIO]
AS
SELECT     dbo.TIPOSDOCUMENTOS.TIPO AS TIPO_DOCUMENTO, dbo.TIPOSDOCUMENTOS.DESCRIPCION AS TIPO_DESCRIPCION,
dbo.DOCUMENTOS.CODIGOISO + ' Rev.' + dbo.DOCUMENTOS.C_REVISION AS CODIGOREV, dbo.PERMISOSDOC.CODIGO AS CODIGOKEY,
dbo.DOCUMENTOS.CODIGO AS CODIGODOCUMENTO, dbo.DOCUMENTOS.ESTADO, dbo.DOCUMENTOS.NOMBRE, dbo.DOCUMENTOS.CODIGOISO,
dbo.DOCUMENTOS.CODIGOBASADOEN, dbo.DOCUMENTOS.VERSIONBASADOEN, dbo.DOCUMENTOS.REVISION, dbo.DOCUMENTOS.C_REVISION,
dbo.DOCUMENTOS.CODIGOTIPO, dbo.USUARIOS.USUARIO AS NOMBREUSUARIO, dbo.USUARIOS.CODIGO AS CODIGOUSUARIO,
'ICONOESTADO' = CASE WHEN (DOCUMENTOS.ESTADO = 1) THEN 'Images/Doc_Development.gif' WHEN (DOCUMENTOS.ESTADO = 2)
THEN 'Images/Doc_Current.gif' ELSE 'Images/Doc_Obsolete.gif' END
FROM         dbo.DOCUMENTOS INNER JOIN
dbo.PERMISOSDOC INNER JOIN
dbo.USUARIOS ON dbo.PERMISOSDOC.CODIGOUSUARIO = dbo.USUARIOS.CODIGO ON
dbo.DOCUMENTOS.CODIGO = dbo.PERMISOSDOC.CODIGODOCUMENTO INNER JOIN
TIPOSDOCUMENTOS ON DOCUMENTOS.CODIGOTIPO = TIPOSDOCUMENTOS.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_ETAPASNC].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_ETAPASNC]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_ETAPASNC] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_ETAPASNC]
AS
SELECT TOP 100 PERCENT * FROM (
SELECT
        dbo.NCMAINPROD.CODIGO AS CODIGONC, dbo.NCDEFINICIONETAPAS.ETAPA, dbo.NCDEFINICIONETAPAS.DESCRIPCIONCORTA,
        dbo.NCDEFINICIONETAPAS.DESCRIPCIONLARGA, dbo.NCDEFINICIONETAPAS.URLIMAGEN, dbo.NCMAINPROD.TIPO,
        dbo.NCDEFINICIONETAPAS.URLIMAGENGRANDE, dbo.NCDEFINICIONETAPAS.L_EXCLUIDA
FROM    
        dbo.NCMAINPROD 
                INNER JOIN dbo.NCDEFINICIONETAPAS
                        ON dbo.NCMAINPROD.TIPO = dbo.NCDEFINICIONETAPAS.TIPO
WHERE 
        dbo.NCMAINPROD.TIPO NOT IN (SELECT CODIGO_MODULE_ID FROM TBL_NCCC_MODULOS_ESPECIALES)

UNION

SELECT
        dbo.NCMAINPROD.CODIGO AS CODIGONC, dbo.NCETAPAS.ETAPA, dbo.NCETAPAS.DESCRIPCIONCORTA,
        dbo.NCETAPAS.DESCRIPCIONLARGA, dbo.NCDEFINICIONETAPAS.URLIMAGEN, dbo.NCMAINPROD.TIPO,
        dbo.NCDEFINICIONETAPAS.URLIMAGENGRANDE, dbo.NC_WF_ETAPAS.L_EXCLUIDA
FROM    
        dbo.NCMAINPROD 
                INNER JOIN dbo.NCETAPAS
                        ON dbo.NCMAINPROD.CODIGO = dbo.NCETAPAS.CODIGONC
                INNER JOIN dbo.NCDEFINICIONETAPAS
                        ON dbo.NCMAINPROD.TIPO = dbo.NCDEFINICIONETAPAS.TIPO AND dbo.NCETAPAS.ETAPA = dbo.NCDEFINICIONETAPAS.ETAPA
                INNER JOIN dbo.NC_WF_ETAPAS
                        ON dbo.NCETAPAS.CODIGO = dbo.NC_WF_ETAPAS.CODIGO_NCETAPAS
WHERE 
        dbo.NCMAINPROD.TIPO IN (SELECT CODIGO_MODULE_ID FROM TBL_NCCC_MODULOS_ESPECIALES)
) AS DATA
ORDER BY ETAPA
GO

GO
--SqlScripter----[dbo].[VISTA_FORO_ASUNTOS_ARCHIVOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_FORO_ASUNTOS_ARCHIVOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_FORO_ASUNTOS_ARCHIVOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_FORO_ASUNTOS_ARCHIVOS]
AS
SELECT     dbo.IKFOROSARCHIVOS.*, dbo.NCMAINPROD.CODIGO AS NCCODIGO, dbo.NCMAINPROD.TIPO AS NCTIPO
FROM         dbo.IKFOROSARCHIVOS INNER JOIN
dbo.NCMAINPROD ON dbo.IKFOROSARCHIVOS.CODIGOFORO = dbo.NCMAINPROD.CODIGOFORO
GO

GO
--SqlScripter----[dbo].[VISTA_FORO_CRITICAS_ARCHIVOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_FORO_CRITICAS_ARCHIVOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_FORO_CRITICAS_ARCHIVOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_FORO_CRITICAS_ARCHIVOS]
AS
SELECT     dbo.IKFOROSARCHIVOS.*, dbo.DOCUMENTOS.CODIGO AS DOCCODIGO
FROM         dbo.IKFOROSARCHIVOS INNER JOIN
dbo.DOCUMENTOS ON dbo.IKFOROSARCHIVOS.CODIGOFORO = dbo.DOCUMENTOS.CODIGOFOROCRITICAS
GO

GO
--SqlScripter----[dbo].[VISTA_FORO_DESARROLLO_ARCHIVOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_FORO_DESARROLLO_ARCHIVOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_FORO_DESARROLLO_ARCHIVOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_FORO_DESARROLLO_ARCHIVOS]
AS
SELECT     dbo.IKFOROSARCHIVOS.*, dbo.DOCUMENTOS.CODIGO AS DOCCODIGO
FROM         dbo.IKFOROSARCHIVOS INNER JOIN
dbo.DOCUMENTOS ON dbo.IKFOROSARCHIVOS.CODIGOFORO = dbo.DOCUMENTOS.CODIGOFORODESARROLLO
GO

GO
--SqlScripter----[dbo].[VISTA_FORO_IKACTIONS_ARCHIVOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_FORO_IKACTIONS_ARCHIVOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_FORO_IKACTIONS_ARCHIVOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_FORO_IKACTIONS_ARCHIVOS]
AS
SELECT     dbo.IKFOROSARCHIVOS.*, IKALERTS.IKALERTS_ID
FROM         dbo.IKFOROSARCHIVOS INNER JOIN
                      dbo.IKALERTS ON dbo.IKFOROSARCHIVOS.CODIGOFORO = dbo.IKALERTS.FORUMID
GO

GO
--SqlScripter----[dbo].[VISTA_FORO_TAREAS_ARCHIVOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_FORO_TAREAS_ARCHIVOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_FORO_TAREAS_ARCHIVOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_FORO_TAREAS_ARCHIVOS]
AS
SELECT     dbo.IKFOROSARCHIVOS.*, dbo.NCTAREAS.CODIGO AS NCTAREASCODIGO, dbo.NCTAREAS.CODIGONC AS NCCODIGO,
dbo.NCMAINPROD.TIPO AS NCTIPO
FROM         dbo.IKFOROSARCHIVOS INNER JOIN
dbo.NCTAREAS ON dbo.IKFOROSARCHIVOS.CODIGOFORO = dbo.NCTAREAS.CODIGOFORO INNER JOIN
dbo.NCMAINPROD ON dbo.NCTAREAS.CODIGONC = dbo.NCMAINPROD.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_FULL_VAR_CONTROL_CAMBIOS_XT].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_FULL_VAR_CONTROL_CAMBIOS_XT]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_FULL_VAR_CONTROL_CAMBIOS_XT] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
/****** Object:  View [dbo].[VISTA_FULL_VAR_CONTROL_CAMBIOS_XT]    Script Date: 02/04/2018 10:28:03 ******/

ALTER VIEW [dbo].[VISTA_FULL_VAR_CONTROL_CAMBIOS_XT]
AS
SELECT     dbo.VAR_CONTROL_CAMBIOS_XT_VIEW.*,
					  CASE WHEN (dbo.ik_wf_get_CurrentNodeIsDelayed(NC.WF_ID) = 1) 
                      THEN '<div style="font-weight: bold; text-align: center; color:#FF493F ; width:100%; " >' + CASE WHEN dbo.[ik_wf_getCurrentNode](NC.WF_ID)
                       = 'Start' THEN 'INICIO' ELSE dbo.[ik_wf_getCurrentNode](NC.WF_ID) 
                      END + '</div>' ELSE '<div style="text-align: center;  color:black width:100%;" >' + CASE WHEN dbo.[ik_wf_getCurrentNode](NC.WF_ID) 
                      = 'Start' THEN 'INICIO' ELSE dbo.[ik_wf_getCurrentNode](NC.WF_ID) END + '</div>' END AS HTML_CURRENT_WF_NODE, 
                      dbo.ik_wf_getCurrentNode(NC.WF_ID) AS WF_CURRENT_XML_NODE_ID,
                      dbo.ik_wf_getSheduledEndDate(dbo.VAR_CONTROL_CAMBIOS_XT_VIEW.CODIGONC) AS WF_SCHED_ENDDATE, 
                      dbo.TBL_PRIORIDADES_XT.DESCRIPCION AS PRIORIDAD_DESCRIPCION, 
                      dbo.PERSONAS.PERSONA AS SOLICITANTE_DESCRIPCION, dbo.PERSONAS.EMAIL AS SOLICITANTE_EMAIL, 
                      dbo.TBL_PERMANENCIA_CAMBIO_XT.DESCRIPCION AS PERMANENCIA_CAMBIO_DESCRIPCION, 
					  dbo.TBL_AREA_CAUSAS.DESCRIPCION AS AREA_INVOLUCRADA_DESCRIPCION, 
					  dbo.TBL_TIPO_CAMBIO_XT.DESCRIPCION AS TIPO_CAMBIO_DESCRIPCION, 
					  NC.WF_ID
FROM         dbo.VAR_CONTROL_CAMBIOS_XT_VIEW INNER JOIN
                      dbo.TBL_PERMANENCIA_CAMBIO_XT ON 
                      dbo.VAR_CONTROL_CAMBIOS_XT_VIEW.PERMANENCIA_CAMBIO_ID = dbo.TBL_PERMANENCIA_CAMBIO_XT.CODIGO INNER JOIN
                      dbo.TBL_TIPO_CAMBIO_XT ON dbo.VAR_CONTROL_CAMBIOS_XT_VIEW.TIPO_CAMBIO_ID = dbo.TBL_TIPO_CAMBIO_XT.CODIGO INNER JOIN
                      dbo.PERSONAS ON dbo.VAR_CONTROL_CAMBIOS_XT_VIEW.SOLICITANTE_ID = dbo.PERSONAS.CODIGO INNER JOIN
                      dbo.TBL_AREA_CAUSAS ON dbo.VAR_CONTROL_CAMBIOS_XT_VIEW.AREA_INVOLUCRADA_ID = dbo.TBL_AREA_CAUSAS.CODIGO INNER JOIN
                      dbo.TBL_PRIORIDADES_XT ON dbo.VAR_CONTROL_CAMBIOS_XT_VIEW.PRIORIDAD_ID = dbo.TBL_PRIORIDADES_XT.CODIGO INNER JOIN
                      dbo.NCMAINPROD AS NC ON dbo.VAR_CONTROL_CAMBIOS_XT_VIEW.CODIGONC = NC.CODIGO LEFT OUTER JOIN
                      dbo.WF ON dbo.WF.WF_ID = NC.WF_ID
GO

GO
--SqlScripter----[dbo].[VISTA_FULLINVOLUCRADOSTAREA].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_FULLINVOLUCRADOSTAREA]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_FULLINVOLUCRADOSTAREA] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_FULLINVOLUCRADOSTAREA]
AS
SELECT     dbo.NCTAREASDESTINATARIOS.CODIGO AS NCTAREASDESTINATARIOS_CODIGO, dbo.NCTAREASDESTINATARIOS.CODIGOTAREA,
dbo.NCTAREAS.DESCRIPCION, dbo.NCTAREAS.L_CUMPLIDA, dbo.NCTAREASDESTINATARIOS.CODIGOCARGO,
dbo.ORGANIGRAMA.DESCRIPCION AS NOMBRECARGO, dbo.ORGANIGRAMA.TIPO, dbo.NCTAREAS.CODIGONC,
dbo.CARGOSUSUARIOS.CODIGOUSUARIO, dbo.USUARIOS.USUARIO, dbo.USUARIOS.EMAIL, dbo.USUARIOS.L_ENVIARTEXTOCOMPLETO,
dbo.USUARIOS.L_ENVIARMAILTAREAS, dbo.USUARIOS.L_ENVIARMAILNOTIFICACIONES, dbo.NCTAREAS.FECHA,
dbo.NCTAREAS.INSTRUCCIONES
FROM         dbo.NCTAREASDESTINATARIOS INNER JOIN
dbo.NCTAREAS ON dbo.NCTAREASDESTINATARIOS.CODIGOTAREA = dbo.NCTAREAS.CODIGO INNER JOIN
dbo.ORGANIGRAMA ON dbo.NCTAREASDESTINATARIOS.CODIGOCARGO = dbo.ORGANIGRAMA.CODIGO LEFT OUTER JOIN
dbo.CARGOSUSUARIOS INNER JOIN
dbo.USUARIOS ON dbo.CARGOSUSUARIOS.CODIGOUSUARIO = dbo.USUARIOS.CODIGO ON
dbo.ORGANIGRAMA.CODIGO = dbo.CARGOSUSUARIOS.CODIGOCARGO
GO

GO
--SqlScripter----[dbo].[VISTA_IKALERTS_CONTEXTS_GROUPED].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKALERTS_CONTEXTS_GROUPED]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKALERTS_CONTEXTS_GROUPED] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKALERTS_CONTEXTS_GROUPED]
AS
SELECT 
IKALERTS.IKALERTS_ID,
IKALERTS.USERID_SOURCE,
IKALERTS.FORUMID,
      CASE
		WHEN SOURCE_ENTITY_PARTICLE='N' THEN SOURCE_ENTITY_PARTICLE + ISNULL(convert(nvarchar(20), NC.TIPO),'')
		WHEN  LEFT(SOURCE_ENTITY_PARTICLE, 3)='STD' THEN 'N' + convert(nvarchar(20), STD_DEFS.MODULEID)
		WHEN SOURCE_ENTITY_PARTICLE='T' THEN 'N' + ISNULL(convert(nvarchar(20), NCT.TIPONC),'')
		WHEN SOURCE_ENTITY_PARTICLE='TS' THEN 'N' + ISNULL(convert(nvarchar(20), NCTS.TIPONC),'')
		WHEN SOURCE_ENTITY_PARTICLE='SP' OR  SOURCE_ENTITY_PARTICLE='S'  THEN 'SP' 
		WHEN SOURCE_ENTITY_PARTICLE='PP' OR  SOURCE_ENTITY_PARTICLE='P'  THEN 'PP' 
		ELSE  SOURCE_ENTITY_PARTICLE
      END AS SOURCE_ENTITY_PARTICLE_EXT,
      
      CASE
		  WHEN  SOURCE_ENTITY_PARTICLE='M' THEN 'Mensajes de Foros'
		  WHEN  SOURCE_ENTITY_PARTICLE='D' THEN 'Documentos'
		  WHEN  SOURCE_ENTITY_PARTICLE='N' THEN NCMODS.[DESCRIPTION]
		  WHEN  SOURCE_ENTITY_PARTICLE='T' THEN NCTMODS.[DESCRIPTION]
		  WHEN  SOURCE_ENTITY_PARTICLE='TS' THEN NCTSMODS.[DESCRIPTION]
		  WHEN  LEFT(SOURCE_ENTITY_PARTICLE, 3)='STD' THEN STDMODS.[DESCRIPTION]
		  WHEN  SOURCE_ENTITY_PARTICLE='I' THEN 'Indicadores'
		  WHEN  SOURCE_ENTITY_PARTICLE='SP' OR SOURCE_ENTITY_PARTICLE='S' THEN 'Estrategias'
		  WHEN  SOURCE_ENTITY_PARTICLE='PP' OR SOURCE_ENTITY_PARTICLE='P' THEN 'Procesos'
		  WHEN  SOURCE_ENTITY_PARTICLE='SVG' THEN 'Diagramas'		  
      END AS 	SOURCE_ENTITY_PARTICLE_DESC

      FROM IKALERTS
      LEFT JOIN XML_CHILDRECORDS_DEFINITIONS STD_DEFS 
			LEFT JOIN 	XML_MODULE_DEFINITIONS STDMODS ON STDMODS.MODULEID=STD_DEFS.MODULEID
		ON STD_DEFS.CHILDTYPE=SOURCE_ENTITY_PARTICLE AND STD_DEFS.MODULEID IN (SELECT TIPO FROM NCMAINPROD WHERE CODIGO=IKALERTS.SECONDARY_SOURCE_ID)
		
		
      LEFT JOIN NCMAINPROD NC
	      LEFT JOIN XML_MODULE_DEFINITIONS NCMODS ON NCMODS.MODULEID=NC.TIPO
      ON NC.CODIGO=IKALERTS.SOURCE_ENTITY_ID AND IKALERTS.SOURCE_ENTITY_PARTICLE='N'
      
    LEFT JOIN VISTA_NCTAREAS NCT
	      LEFT JOIN XML_MODULE_DEFINITIONS NCTMODS ON NCTMODS.MODULEID=NCT.TIPONC
      ON NCT.CODIGOTAREA=IKALERTS.SOURCE_ENTITY_ID AND IKALERTS.SOURCE_ENTITY_PARTICLE='T'
      
    LEFT JOIN VISTA_NCTASKSSTEPS NCTS
	      LEFT JOIN XML_MODULE_DEFINITIONS NCTSMODS ON NCTSMODS.MODULEID=NCTS.TIPONC
      ON NCTS.NCTASKSSTEPS_ID=IKALERTS.SOURCE_ENTITY_ID AND IKALERTS.SOURCE_ENTITY_PARTICLE='TS'
GO

GO
--SqlScripter----[dbo].[VISTA_IKALERTS_TARGETS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKALERTS_TARGETS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKALERTS_TARGETS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKALERTS_TARGETS]
AS
SELECT 
T.IKALERTS_ID,
T.USERID_TARGET,
U.L_DELETED,
CASE 
	WHEN U.USUARIO IS NULL THEN 'N/A - _' +  T.USERNAME_TARGET
	ELSE U.USUARIO
END AS USERNAME_TARGET
FROM
IKALERTS_TARGETS T
LEFT JOIN USUARIOS U ON T.USERID_TARGET=U.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_IKFOROSMENSAJES_SINTEXTO].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKFOROSMENSAJES_SINTEXTO]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKFOROSMENSAJES_SINTEXTO] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKFOROSMENSAJES_SINTEXTO]
AS
SELECT     CODIGO, FECHA, CODIGOFORO, DESCRIPCION, USUARIO, CODIGOUSUARIO, CARGO, CODIGOCARGO, 
                      CODIGORESPUESTARELACIONADA, ALTA, TYPE, GRADOURGENCIA, TO_USERIDS, TO_USERNAMES, L_ARCHIVADO, CODIGO_HILO
FROM         dbo.IKFOROSMENSAJES
GO

GO
--SqlScripter----[dbo].[VISTA_IKFOROSMENSAJESARCHIVOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKFOROSMENSAJESARCHIVOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKFOROSMENSAJESARCHIVOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKFOROSMENSAJESARCHIVOS]
AS
SELECT     TOP 100 PERCENT dbo.IKFOROSMENSAJES.FECHA, dbo.IKFOROSMENSAJES.CODIGOFORO, dbo.IKFOROSMENSAJES.DESCRIPCION,
dbo.IKFOROSMENSAJES.CODIGO, dbo.IKFOROSMENSAJES.INSTRUCCIONES, dbo.IKFOROSMENSAJES.CODIGOCARGO,
dbo.IKFOROSMENSAJES.CODIGORESPUESTARELACIONADA, dbo.IKFOROSMENSAJES.ALTA, dbo.IKFOROSARCHIVOS.CODIGO AS CODIGOARCHIVO,
dbo.IKFOROSARCHIVOS.ARCHIVO, dbo.IKFOROSARCHIVOS.CONTENTTYPE,
dbo.IKFOROSARCHIVOS.CODIGORESPUESTARELACIONADA AS CODIGORESPUESTARELACIONADAARCHIVO,
dbo.IKFOROSMENSAJES.CODIGOUSUARIO, dbo.IKFOROSMENSAJES.USUARIO, dbo.IKFOROSMENSAJES.CARGO, dbo.IKFOROSMENSAJES.TYPE,
dbo.IKFOROSMENSAJES.GRADOURGENCIA, dbo.IKFOROSARCHIVOS.CODIGOALMACEN
FROM         dbo.IKFOROSMENSAJES LEFT OUTER JOIN
dbo.IKFOROSARCHIVOS ON dbo.IKFOROSMENSAJES.CODIGO = dbo.IKFOROSARCHIVOS.CODIGORESPUESTARELACIONADA
ORDER BY dbo.IKFOROSMENSAJES.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_IKFOROSMENSAJESARCHIVOS_SINTEXTO].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKFOROSMENSAJESARCHIVOS_SINTEXTO]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKFOROSMENSAJESARCHIVOS_SINTEXTO] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKFOROSMENSAJESARCHIVOS_SINTEXTO]
AS
SELECT     TOP 100 PERCENT dbo.IKFOROSMENSAJES.FECHA, dbo.IKFOROSMENSAJES.CODIGOFORO, dbo.IKFOROSMENSAJES.DESCRIPCION, 
                      dbo.IKFOROSMENSAJES.CODIGO, dbo.IKFOROSMENSAJES.CODIGOCARGO, dbo.IKFOROSMENSAJES.CODIGORESPUESTARELACIONADA, 
                      dbo.IKFOROSMENSAJES.ALTA, dbo.IKFOROSARCHIVOS.CODIGO AS CODIGOARCHIVO, dbo.IKFOROSARCHIVOS.ARCHIVO, 
                      dbo.IKFOROSARCHIVOS.CONTENTTYPE, dbo.IKFOROSARCHIVOS.CODIGORESPUESTARELACIONADA AS CODIGORESPUESTARELACIONADAARCHIVO, 
                      dbo.IKFOROSMENSAJES.CODIGOUSUARIO, dbo.IKFOROSMENSAJES.USUARIO, dbo.IKFOROSMENSAJES.CARGO, dbo.IKFOROSMENSAJES.TYPE, 
                      dbo.IKFOROSMENSAJES.GRADOURGENCIA, dbo.IKFOROSARCHIVOS.CODIGOALMACEN
FROM         dbo.IKFOROSMENSAJES LEFT OUTER JOIN
                      dbo.IKFOROSARCHIVOS ON dbo.IKFOROSMENSAJES.CODIGO = dbo.IKFOROSARCHIVOS.CODIGORESPUESTARELACIONADA
ORDER BY dbo.IKFOROSMENSAJES.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_IKFOROSSEARCH].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER OFF
GO
IF OBJECT_ID('[dbo].[VISTA_IKFOROSSEARCH]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKFOROSSEARCH] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKFOROSSEARCH]
AS
SELECT DISTINCT 
                      IKFOROSMENSAJES.CODIGO AS CODIGO, 
                      IKFOROSMENSAJES.DESCRIPCION, 
                      CASE WHEN LEN(LTRIM(CONVERT(nvarchar(250), IKFOROSMENSAJES.INSTRUCCIONES))) > 100 THEN LTRIM(LEFT(CONVERT(nvarchar(250), IKFOROSMENSAJES.INSTRUCCIONES), 100) + ' ...') 
						  ELSE LTRIM(LEFT(CONVERT(nvarchar(250), IKFOROSMENSAJES.INSTRUCCIONES), 100)) 
					  END AS INSTRUCCIONES, 
					  'TASKFORUM' AS VISTA, 
                      NULL AS IKALERTS_ID ,
                      NCMAINPROD.CODIGO AS NCPCODE, 
                      NCTAREAS.CODIGO AS NCTCODE, 
                      NULL AS DOCCODE, 
                      IKFOROSMENSAJES.USUARIO, 
                      IKFOROSMENSAJES.CODIGOUSUARIO, 
                      IKFOROSMENSAJES.FECHA, 
                      '' AS URL_IKACTION, 
                      'VIEW=NCVARREPORT' + '&NCTCODE=' + LTRIM(STR(NCTAREAS.CODIGO)) + '&NCPCODE=' + LTRIM(STR(NCMAINPROD.CODIGO)) + '&MODULEID=' + LTRIM(STR(NCMAINPROD.TIPO)) AS URL_NCPCODE, 
                      'VIEW=TASKFORUM' + '&NCTCODE=' + LTRIM(STR(NCTAREAS.CODIGO)) + '&NCPCODE=' + LTRIM(STR(NCMAINPROD.CODIGO)) + '&MODULEID=' + LTRIM(STR(NCMAINPROD.TIPO)) + '#M' + LTRIM(STR(IKFOROSMENSAJES.CODIGO)) AS URL_FORUM, 
                      'VIEW=TASKFORUM' + '&NCTCODE=' + LTRIM(STR(NCTAREAS.CODIGO)) + '&MESSAGEID=' + LTRIM(STR(IKFOROSMENSAJES.CODIGO)) + '&NCPCODE=' + LTRIM(STR(NCMAINPROD.CODIGO)) + '&MODULEID=' + LTRIM(STR(NCMAINPROD.TIPO)) + '&FILTER=UNREAD' AS URL_FORUMMESSAGE, 
                      'VIEW=TASKFORUMMESSAGE' + '&NCTCODE=' + LTRIM(STR(NCTAREAS.CODIGO)) + '&POSTRELATEDID=' + LTRIM(STR(IKFOROSMENSAJES.CODIGO)) + '&NCPCODE=' + LTRIM(STR(NCMAINPROD.CODIGO)) + '&MODULEID=' + LTRIM(STR(NCMAINPROD.TIPO)) AS URL_MESSAGEREPLY, 
                      'VIEW=NCTASK' + '&NCTCODE=' + LTRIM(STR(NCTAREAS.CODIGO)) + '&NCPCODE=' + LTRIM(STR(NCMAINPROD.CODIGO)) + '&MODULEID=' + LTRIM(STR(NCMAINPROD.TIPO)) AS URL_TASK, 
                      '' AS URL_DOC, 
                      'VIEW=TASKFORUM' + '&NCTCODE=' + LTRIM(STR(NCTAREAS.CODIGO)) + '&MESSAGETHREAD=' + LTRIM(STR(IKFOROSMENSAJES.CODIGO)) + '&NCPCODE=' + LTRIM(STR(NCMAINPROD.CODIGO)) + '&MODULEID=' + LTRIM(STR(NCMAINPROD.TIPO)) + '&FILTER=THREADONLY' AS URL_MESSAGETHREAD,
			NCTAREAS.DESCRIPCION AS ITEMDESCRIPTION
FROM         IKFOROSMENSAJES INNER JOIN
                      NCTAREAS ON NCTAREAS.CODIGOFORO = IKFOROSMENSAJES.CODIGOFORO INNER JOIN
                      NCMAINPROD ON NCTAREAS.CODIGONC = NCMAINPROD.CODIGO
UNION ALL
SELECT DISTINCT 
                      IKFOROSMENSAJES.CODIGO AS CODIGO, 
                      IKFOROSMENSAJES.DESCRIPCION, 
                      CASE WHEN LEN(LTRIM(CONVERT(nvarchar(250), 
                      IKFOROSMENSAJES.INSTRUCCIONES))) > 100 THEN LTRIM(LEFT(CONVERT(nvarchar(250), IKFOROSMENSAJES.INSTRUCCIONES), 100) + ' ...') 
						ELSE LTRIM(LEFT(CONVERT(nvarchar(250), IKFOROSMENSAJES.INSTRUCCIONES), 100)) 
                      END AS INSTRUCCIONES, 
                      'NCFORUM' AS VISTA, 
                      NULL AS IKALERTS_ID ,
                      NCMAINPROD.CODIGO AS NCPCODE, 
                      NULL AS NCTCODE, 
                      NULL AS DOCCODE, 
                      IKFOROSMENSAJES.USUARIO, 
                      IKFOROSMENSAJES.CODIGOUSUARIO, 
                      IKFOROSMENSAJES.FECHA, 
                      '' AS URL_IKACTION, 
                      'VIEW=NCVARREPORT' + '&NCPCODE=' + LTRIM(STR(NCMAINPROD.CODIGO)) + '&MODULEID=' + LTRIM(STR(NCMAINPROD.TIPO)) AS URL_NCPCODE, 
                      'VIEW=NCFORUM' + '&NCPCODE=' + LTRIM(STR(NCMAINPROD.CODIGO)) + '&MODULEID=' + LTRIM(STR(NCMAINPROD.TIPO)) + '#M' + LTRIM(STR(IKFOROSMENSAJES.CODIGO)) AS URL_FORUM, 
                      'VIEW=NCFORUM' + '&MESSAGEID=' + LTRIM(STR(IKFOROSMENSAJES.CODIGO)) + '&NCPCODE=' + LTRIM(STR(NCMAINPROD.CODIGO)) + '&MODULEID=' + LTRIM(STR(NCMAINPROD.TIPO)) + '&FILTER=UNREAD' AS URL_FORUMMESSAGE, 
                      'VIEW=NCFORUMMESSAGE' + '&POSTRELATEDID=' + LTRIM(STR(IKFOROSMENSAJES.CODIGO)) + '&NCPCODE=' + LTRIM(STR(NCMAINPROD.CODIGO)) + '&MODULEID=' + LTRIM(STR(NCMAINPROD.TIPO)) AS URL_MESSAGEREPLY, 
                      '' AS URL_TASK,
                       '' AS URL_DOC, 
                       'VIEW=NCFORUM' + '&MESSAGETHREAD=' + LTRIM(STR(IKFOROSMENSAJES.CODIGO)) + '&NCPCODE=' + LTRIM(STR(NCMAINPROD.CODIGO)) + '&MODULEID=' + LTRIM(STR(NCMAINPROD.TIPO)) + '&FILTER=THREADONLY' AS URL_MESSAGETHREAD,
			NCMAINPROD.DESCRIPCION AS ITEMDESCRIPTION
FROM         IKFOROSMENSAJES INNER JOIN
                      NCMAINPROD ON NCMAINPROD.CODIGOFORO = IKFOROSMENSAJES.CODIGOFORO
UNION ALL
SELECT DISTINCT 
                      IKFOROSMENSAJES.CODIGO AS CODIGO, 
                      IKFOROSMENSAJES.DESCRIPCION, 
                      CASE WHEN LEN(LTRIM(CONVERT(nvarchar(250), 
                      IKFOROSMENSAJES.INSTRUCCIONES))) > 100 THEN LTRIM(LEFT(CONVERT(nvarchar(250), IKFOROSMENSAJES.INSTRUCCIONES), 100) + ' ...') 
						ELSE LTRIM(LEFT(CONVERT(nvarchar(250), IKFOROSMENSAJES.INSTRUCCIONES), 100)) 
                      END AS INSTRUCCIONES, 
                      'DOCDEVFORUM' AS VISTA,
                      NULL AS IKALERTS_ID , 
                      NULL AS NCPCODE, 
                      NULL AS NCTCODE, 
                      DOCUMENTOS.CODIGO AS DOCCODE, 
                      IKFOROSMENSAJES.USUARIO, 
                      IKFOROSMENSAJES.CODIGOUSUARIO, 
                      IKFOROSMENSAJES.FECHA, 
                      '' AS URL_IKACTION, 
                      '' AS URL_NCPCODE, 
                      'VIEW=DOCDEVFORUM' + '&DOCCODE=' + LTRIM(STR(DOCUMENTOS.CODIGO)) + '&STATUS=' + LTRIM(STR(DOCUMENTOS.ESTADO)) + '#M' + LTRIM(STR(IKFOROSMENSAJES.CODIGO)) AS URL_FORUM, 
                      'VIEW=DOCDEVFORUM' + '&MESSAGEID=' + LTRIM(STR(IKFOROSMENSAJES.CODIGO)) + '&DOCCODE=' + LTRIM(STR(DOCUMENTOS.CODIGO)) + '&STATUS=' + LTRIM(STR(DOCUMENTOS.ESTADO)) + '&FILTER=UNREAD' AS URL_FORUMMESSAGE, 
                      'VIEW=DOCDEVFORUMMESSAGE' + '&POSTRELATEDID=' + LTRIM(STR(IKFOROSMENSAJES.CODIGO)) + '&DOCCODE=' + LTRIM(STR(DOCUMENTOS.CODIGO)) + '&STATUS=' + LTRIM(STR(DOCUMENTOS.ESTADO)) AS URL_MESSAGEREPLY, 
                      '' AS URL_TASK, 
                      'VIEW=DOCITEM' + '&DOCCODE=' + LTRIM(STR(DOCUMENTOS.CODIGO)) + '&STATUS=' + LTRIM(STR(DOCUMENTOS.ESTADO)) AS URL_DOC, 
                      'VIEW=DOCDEVFORUM' + '&MESSAGETHREAD=' + LTRIM(STR(IKFOROSMENSAJES.CODIGO)) + '&DOCCODE=' + LTRIM(STR(DOCUMENTOS.CODIGO)) + '&STATUS=' + LTRIM(STR(DOCUMENTOS.ESTADO)) + '&FILTER=THREADONLY' AS URL_MESSAGETHREAD,
					DOCUMENTOS.NOMBRE AS ITEMDESCRIPTION

FROM         IKFOROSMENSAJES INNER JOIN
                      DOCUMENTOS ON DOCUMENTOS.CODIGOFORODESARROLLO = IKFOROSMENSAJES.CODIGOFORO
UNION ALL
SELECT DISTINCT 
                      IKFOROSMENSAJES.CODIGO AS CODIGO, 
                      IKFOROSMENSAJES.DESCRIPCION, 
                      CASE WHEN LEN(LTRIM(CONVERT(nvarchar(250), 
						IKFOROSMENSAJES.INSTRUCCIONES))) > 100 THEN LTRIM(LEFT(CONVERT(nvarchar(250), IKFOROSMENSAJES.INSTRUCCIONES), 100) + ' ...') 
						ELSE LTRIM(LEFT(CONVERT(nvarchar(250), IKFOROSMENSAJES.INSTRUCCIONES), 100)) 
                      END AS INSTRUCCIONES, 
                      'DOCCRITFORUM' AS VISTA, 
                      NULL AS IKALERTS_ID ,
                      NULL AS NCPCODE, 
                      NULL AS NCTCODE, 
                      DOCUMENTOS.CODIGO AS DOCCODE, 
                      IKFOROSMENSAJES.USUARIO, 
                      IKFOROSMENSAJES.CODIGOUSUARIO, 
                      IKFOROSMENSAJES.FECHA, 
                      '' AS URL_IKACTION, 
                      '' AS URL_NCPCODE, 
                      'VIEW=DOCCRITFORUM' + '&DOCCODE=' + LTRIM(STR(DOCUMENTOS.CODIGO)) + '&STATUS=' + LTRIM(STR(DOCUMENTOS.ESTADO)) + '#M' + LTRIM(STR(IKFOROSMENSAJES.CODIGO)) AS URL_FORUM, 
                      'VIEW=DOCCRITFORUM' + '&MESSAGEID=' + LTRIM(STR(IKFOROSMENSAJES.CODIGO)) + '&DOCCODE=' + LTRIM(STR(DOCUMENTOS.CODIGO)) + '&STATUS=' + LTRIM(STR(DOCUMENTOS.ESTADO)) + '&FILTER=UNREAD' AS URL_FORUMMESSAGE, 
                      'VIEW=DOCCRITFORUMMESSAGE' + '&POSTRELATEDID=' + LTRIM(STR(IKFOROSMENSAJES.CODIGO)) + '&DOCCODE=' + LTRIM(STR(DOCUMENTOS.CODIGO)) + '&STATUS=' + LTRIM(STR(DOCUMENTOS.ESTADO)) AS URL_MESSAGEREPLY, 
                      '' AS URL_TASK, 
                      'VIEW=DOCITEM' + '&DOCCODE=' + LTRIM(STR(DOCUMENTOS.CODIGO)) + '&STATUS=' + LTRIM(STR(DOCUMENTOS.ESTADO)) AS URL_DOC, 
                      'VIEW=DOCCRITFORUM' + '&MESSAGETHREAD=' + LTRIM(STR(IKFOROSMENSAJES.CODIGO)) + '&DOCCODE=' + LTRIM(STR(DOCUMENTOS.CODIGO)) + '&STATUS=' + LTRIM(STR(DOCUMENTOS.ESTADO)) + '&FILTER=THREADONLY' AS URL_MESSAGETHREAD,
			DOCUMENTOS.NOMBRE AS ITEMDESCRIPTION
FROM         IKFOROSMENSAJES INNER JOIN
                      DOCUMENTOS ON DOCUMENTOS.CODIGOFOROCRITICAS = IKFOROSMENSAJES.CODIGOFORO



UNION ALL
SELECT DISTINCT 
                      IKFOROSMENSAJES.CODIGO AS CODIGO, 
                      IKFOROSMENSAJES.DESCRIPCION, 
                      CASE WHEN LEN(LTRIM(CONVERT(nvarchar(250), IKFOROSMENSAJES.INSTRUCCIONES))) > 100 THEN LTRIM(LEFT(CONVERT(nvarchar(250), IKFOROSMENSAJES.INSTRUCCIONES), 100) + ' ...') 
	                      ELSE LTRIM(LEFT(CONVERT(nvarchar(250), IKFOROSMENSAJES.INSTRUCCIONES), 100)) 
						END AS INSTRUCCIONES, 
					 'IKACTIONFORUM' AS VISTA, 
                      IKALERTS.IKALERTS_ID AS IKALERTS_ID ,
                      NULL AS NCPCODE, 
                      NULL AS NCTCODE, 
                      NULL AS DOCCODE,                       
                      IKFOROSMENSAJES.USUARIO, 
                      IKFOROSMENSAJES.CODIGOUSUARIO, 
                      IKFOROSMENSAJES.FECHA,                       
                      'VIEW=IKACTIONFORUM' + '&IKACTIONID=' + LTRIM(STR(IKALERTS.IKALERTS_ID)) AS URL_IKACTION, 
                      '' AS URL_NCPCODE,                      
                      'VIEW=IKACTIONFORUM' + '&IKACTIONID=' + LTRIM(STR(IKALERTS.IKALERTS_ID))  + '#M' + LTRIM(STR(IKFOROSMENSAJES.CODIGO)) AS URL_FORUM, 
                      'VIEW=IKACTIONFORUM' + '&MESSAGEID=' + LTRIM(STR(IKFOROSMENSAJES.CODIGO)) + '&IKACTIONID=' + LTRIM(STR(IKALERTS.IKALERTS_ID)) + '&FILTER=UNREAD' AS URL_FORUMMESSAGE, 
                      'VIEW=IKACTIONFORUMMESSAGE' + '&POSTRELATEDID=' + LTRIM(STR(IKFOROSMENSAJES.CODIGO)) + '&IKACTIONID=' + LTRIM(STR(IKALERTS.IKALERTS_ID))  AS URL_MESSAGEREPLY, 
                      '' AS URL_TASK,
                       '' AS URL_DOC, 
                       'VIEW=IKACTIONFORUM' + '&MESSAGETHREAD=' + LTRIM(STR(IKFOROSMENSAJES.CODIGO)) + '&IKACTIONID=' + LTRIM(STR(IKALERTS.IKALERTS_ID)) + '&FILTER=THREADONLY' AS URL_MESSAGETHREAD,
					'X-' + CONVERT(nvarchar(10),IKALERTS.IKALERTS_ID)  AS ITEMDESCRIPTION
FROM         IKFOROSMENSAJES INNER JOIN
                      IKALERTS  ON IKALERTS.FORUMID = IKFOROSMENSAJES.CODIGOFORO
GO

GO
--SqlScripter----[dbo].[VISTA_IKFOROSSEARCHINVOLVED].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER OFF
GO
IF OBJECT_ID('[dbo].[VISTA_IKFOROSSEARCHINVOLVED]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKFOROSSEARCHINVOLVED] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKFOROSSEARCHINVOLVED]
AS

SELECT DISTINCT
	IKFOROSSUSCRIPTORES.CODIGOUSUARIO AS SUSCRIPTOR,
	IKFOROSSUSCRIPTORES.CODIGOFORO,
	IKFOROSMENSAJES.CODIGO, 
	IKFOROSMENSAJES.FECHA, 
	IKFOROSMENSAJES.DESCRIPCION,
	IKFOROSMENSAJES.USUARIO,
	CASE 
		WHEN LEN(LTRIM(CONVERT(nvarchar(250),IKFOROSMENSAJES.INSTRUCCIONES)))> 100 THEN 
			LTRIM(LEFT(CONVERT(nvarchar(250),IKFOROSMENSAJES.INSTRUCCIONES),100) + ' ...' )
		ELSE
			LTRIM(LEFT(CONVERT(nvarchar(250),IKFOROSMENSAJES.INSTRUCCIONES),100) )
	END AS 
	INSTRUCCIONES,
	NCMAINPROD.CODIGO AS NCPCODE,
	NCTAREAS.CODIGO AS NCTCODE, 
	NULL AS DOCCODE,
	NULL AS IKACTIONID,
	'VIEW=NCVARREPORT'+ '&NCTCODE='+LTRIM(STR(NCTAREAS.CODIGO))+ '&NCPCODE='+LTRIM(STR(NCMAINPROD.CODIGO))+'&MODULEID='+LTRIM(STR(NCMAINPROD.TIPO)) AS URL_NCPCODE,
	'VIEW=TASKFORUM' + '&NCTCODE='+LTRIM(STR(NCTAREAS.CODIGO))+ '&NCPCODE='+LTRIM(STR(NCMAINPROD.CODIGO))+'&MODULEID='+LTRIM(STR(NCMAINPROD.TIPO)) + '#M' +LTRIM(STR(IKFOROSMENSAJES.CODIGO))AS URL_FORUM,
	'VIEW=TASKFORUM'+ '&NCTCODE='+LTRIM(STR(NCTAREAS.CODIGO))+ '&MESSAGEID='+LTRIM(STR(IKFOROSMENSAJES.CODIGO)) + '&NCPCODE='+LTRIM(STR(NCMAINPROD.CODIGO))+'&MODULEID='+LTRIM(STR(NCMAINPROD.TIPO))  + '&FILTER=UNREAD' AS URL_FORUMMESSAGE, 
	'VIEW=NCTASK'+ '&NCTCODE='+LTRIM(STR(NCTAREAS.CODIGO)) + '&NCPCODE='+LTRIM(STR(NCMAINPROD.CODIGO))+'&MODULEID='+LTRIM(STR(NCMAINPROD.TIPO)) AS URL_TASK,
	'' AS URL_DOC,
	'' AS URL_IKACTION,
	NCMAINPROD.TIPO AS MODULEID

FROM IKFOROSSUSCRIPTORES
	INNER JOIN IKFOROSMENSAJES ON IKFOROSMENSAJES.CODIGOFORO = IKFOROSSUSCRIPTORES.CODIGOFORO
	INNER JOIN NCTAREAS ON NCTAREAS.CODIGOFORO = IKFOROSSUSCRIPTORES.CODIGOFORO	
	INNER JOIN NCMAINPROD ON NCTAREAS.CODIGONC = NCMAINPROD.CODIGO


UNION ALL
SELECT DISTINCT
	IKFOROSSUSCRIPTORES.CODIGOUSUARIO AS SUSCRIPTOR,
	IKFOROSSUSCRIPTORES.CODIGOFORO,
	IKFOROSMENSAJES.CODIGO, 
	IKFOROSMENSAJES.FECHA, 
	IKFOROSMENSAJES.DESCRIPCION,
	IKFOROSMENSAJES.USUARIO,
	CASE 
		WHEN LEN(LTRIM(CONVERT(nvarchar(250),IKFOROSMENSAJES.INSTRUCCIONES)))> 100 THEN 
			LTRIM(LEFT(CONVERT(nvarchar(250),IKFOROSMENSAJES.INSTRUCCIONES),100) + ' ...' )
		ELSE
			LTRIM(LEFT(CONVERT(nvarchar(250),IKFOROSMENSAJES.INSTRUCCIONES),100) )	END AS 
	INSTRUCCIONES,
	NCMAINPROD.CODIGO AS NCPCODE,
	NULL AS NCTCODE, 
	NULL AS DOCCODE,
	NULL AS IKACTIONID,
	'VIEW=NCVARREPORT' + '&NCPCODE='+LTRIM(STR(NCMAINPROD.CODIGO))+'&MODULEID='+LTRIM(STR(NCMAINPROD.TIPO)) AS URL_NCPCODE,
	'VIEW=NCFORUM' + '&NCPCODE='+LTRIM(STR(NCMAINPROD.CODIGO))+'&MODULEID='+LTRIM(STR(NCMAINPROD.TIPO)) + '#M' +LTRIM(STR(IKFOROSMENSAJES.CODIGO))AS URL_FORUM,
	'VIEW=NCFORUM'+ '&MESSAGEID='+LTRIM(STR(IKFOROSMENSAJES.CODIGO)) + '&NCPCODE='+LTRIM(STR(NCMAINPROD.CODIGO))+'&MODULEID='+LTRIM(STR(NCMAINPROD.TIPO))  + '&FILTER=UNREAD'  AS URL_FORUMMESSAGE,
	'' AS URL_TASK,
	''AS URL_DOC,
	'' AS URL_IKACTION,
	NCMAINPROD.TIPO AS MODULEID


FROM IKFOROSSUSCRIPTORES
	INNER JOIN IKFOROSMENSAJES ON IKFOROSMENSAJES.CODIGOFORO = IKFOROSSUSCRIPTORES.CODIGOFORO
	INNER JOIN NCMAINPROD ON NCMAINPROD.CODIGOFORO = IKFOROSSUSCRIPTORES.CODIGOFORO	



UNION ALL
SELECT DISTINCT
	IKFOROSSUSCRIPTORES.CODIGOUSUARIO AS SUSCRIPTOR,
	IKFOROSSUSCRIPTORES.CODIGOFORO,
	IKFOROSMENSAJES.CODIGO, 
	IKFOROSMENSAJES.FECHA, 
	IKFOROSMENSAJES.DESCRIPCION,
	IKFOROSMENSAJES.USUARIO,
	CASE 
		WHEN LEN(LTRIM(CONVERT(nvarchar(250),IKFOROSMENSAJES.INSTRUCCIONES)))> 100 THEN 
			LTRIM(LEFT(CONVERT(nvarchar(250),IKFOROSMENSAJES.INSTRUCCIONES),100) + ' ...' )
		ELSE
			LTRIM(LEFT(CONVERT(nvarchar(250),IKFOROSMENSAJES.INSTRUCCIONES),100) )	END AS 
	INSTRUCCIONES,
	NULL AS NCPCODE,
	NULL AS NCTCODE, 	
	DOCUMENTOS.CODIGO AS DOCCODE,
	NULL AS IKACTIONID,
	'' AS URL_NCPCODE,
	'VIEW=DOCDEVFORUM' + '&DOCCODE='+LTRIM(STR(DOCUMENTOS.CODIGO)) + '#M' +LTRIM(STR(IKFOROSMENSAJES.CODIGO))AS URL_FORUM,
	'VIEW=DOCDEVFORUM'+ '&MESSAGEID='+LTRIM(STR(IKFOROSMENSAJES.CODIGO)) + '&DOCCODE='+LTRIM(STR(DOCUMENTOS.CODIGO))  + '&FILTER=UNREAD'  AS URL_FORUMMESSAGE,
	'' AS URL_TASK,
	'VIEW=DOCITEM' + '&DOCCODE='+LTRIM(STR(DOCUMENTOS.CODIGO)) AS URL_DOC,
	'' AS URL_IKACTION,
	NULL AS MODULEID


FROM IKFOROSSUSCRIPTORES
	INNER JOIN IKFOROSMENSAJES ON IKFOROSMENSAJES.CODIGOFORO = IKFOROSSUSCRIPTORES.CODIGOFORO
	INNER JOIN DOCUMENTOS ON DOCUMENTOS.CODIGOFORODESARROLLO = IKFOROSSUSCRIPTORES.CODIGOFORO	


UNION ALL
SELECT DISTINCT
	IKFOROSSUSCRIPTORES.CODIGOUSUARIO AS SUSCRIPTOR,
	IKFOROSSUSCRIPTORES.CODIGOFORO,
	IKFOROSMENSAJES.CODIGO, 
	IKFOROSMENSAJES.FECHA, 
	IKFOROSMENSAJES.DESCRIPCION,
	IKFOROSMENSAJES.USUARIO,
	CASE 
		WHEN LEN(LTRIM(CONVERT(nvarchar(250),IKFOROSMENSAJES.INSTRUCCIONES)))> 100 THEN 
			LTRIM(LEFT(CONVERT(nvarchar(250),IKFOROSMENSAJES.INSTRUCCIONES),100) + ' ...' )
		ELSE
			LTRIM(LEFT(CONVERT(nvarchar(250),IKFOROSMENSAJES.INSTRUCCIONES),100) )	END AS 
	INSTRUCCIONES,
	NULL AS NCPCODE,
	NULL AS NCTCODE, 	
	DOCUMENTOS.CODIGO AS DOCCODE,
	NULL AS IKACTIONID,
	'' AS URL_NCPCODE,
	'VIEW=DOCCRITFORUM' + '&DOCCODE='+LTRIM(STR(DOCUMENTOS.CODIGO)) + '#M' +LTRIM(STR(IKFOROSMENSAJES.CODIGO))AS URL_FORUM,
	'VIEW=DOCCRITFORUM'+ '&MESSAGEID='+LTRIM(STR(IKFOROSMENSAJES.CODIGO)) + '&DOCCODE='+LTRIM(STR(DOCUMENTOS.CODIGO))  + '&FILTER=UNREAD'  AS URL_FORUMMESSAGE,
	'' AS URL_TASK,
	'VIEW=DOCITEM' + '&DOCCODE='+LTRIM(STR(DOCUMENTOS.CODIGO)) AS URL_DOC,
	'' AS URL_IKACTION,
	NULL AS MODULEID


FROM IKFOROSSUSCRIPTORES
	INNER JOIN IKFOROSMENSAJES ON IKFOROSMENSAJES.CODIGOFORO = IKFOROSSUSCRIPTORES.CODIGOFORO
	INNER JOIN DOCUMENTOS ON DOCUMENTOS.CODIGOFOROCRITICAS = IKFOROSSUSCRIPTORES.CODIGOFORO	




UNION ALL
SELECT DISTINCT
	IKFOROSSUSCRIPTORES.CODIGOUSUARIO AS SUSCRIPTOR,
	IKFOROSSUSCRIPTORES.CODIGOFORO,
	IKFOROSMENSAJES.CODIGO, 
	IKFOROSMENSAJES.FECHA, 
	IKFOROSMENSAJES.DESCRIPCION,
	IKFOROSMENSAJES.USUARIO,
	CASE 
		WHEN LEN(LTRIM(CONVERT(nvarchar(250),IKFOROSMENSAJES.INSTRUCCIONES)))> 100 THEN 
			LTRIM(LEFT(CONVERT(nvarchar(250),IKFOROSMENSAJES.INSTRUCCIONES),100) + ' ...' )
		ELSE
			LTRIM(LEFT(CONVERT(nvarchar(250),IKFOROSMENSAJES.INSTRUCCIONES),100) )	END AS 
	INSTRUCCIONES,
	NULL AS NCPCODE,
	NULL AS NCTCODE, 
	NULL AS DOCCODE,
	IKALERTS.IKALERTS_ID AS IKACTIONID,
	'' AS URL_NCPCODE,
	'VIEW=IKACTIONFORUM' + '&IKACTIONID='+LTRIM(STR(IKALERTS.IKALERTS_ID))+'#M' +LTRIM(STR(IKFOROSMENSAJES.CODIGO))AS URL_FORUM,
	'VIEW=IKACTIONFORUM'+ '&MESSAGEID='+LTRIM(STR(IKFOROSMENSAJES.CODIGO)) + '&IKACTIONID='+LTRIM(STR(IKALERTS.IKALERTS_ID)) + '&FILTER=UNREAD'  AS URL_FORUMMESSAGE,
	'' AS URL_TASK,
	''AS URL_DOC,
	'VIEW=IKACTIONFORUM' + '&IKACTIONID='+LTRIM(STR(IKALERTS.IKALERTS_ID )) AS URL_IKACTIONID,
	NULL AS MODULEID


FROM IKFOROSSUSCRIPTORES
	INNER JOIN IKFOROSMENSAJES ON IKFOROSMENSAJES.CODIGOFORO = IKFOROSSUSCRIPTORES.CODIGOFORO
	INNER JOIN IKALERTS ON IKALERTS.FORUMID = IKFOROSSUSCRIPTORES.CODIGOFORO
GO

GO
--SqlScripter----[dbo].[VISTA_IKFOROSSUSCRIP_USUARIOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKFOROSSUSCRIP_USUARIOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKFOROSSUSCRIP_USUARIOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKFOROSSUSCRIP_USUARIOS]
AS
SELECT     dbo.USUARIOS.USUARIO, dbo.USUARIOS.EMAIL, dbo.IKFOROSSUSCRIPTORES.CODIGOFORO, dbo.IKFOROSSUSCRIPTORES.CODIGOUSUARIO,
dbo.IKFOROSSUSCRIPTORES.CODIGOCARGO, dbo.IKFOROSSUSCRIPTORES.CARGO AS NOMBRECARGO,
dbo.USUARIOS.L_ENVIARTEXTOCOMPLETO, dbo.USUARIOS.L_ENVIARMAILNOTIFICACIONES
FROM         dbo.USUARIOS INNER JOIN
dbo.IKFOROSSUSCRIPTORES ON dbo.USUARIOS.CODIGO = dbo.IKFOROSSUSCRIPTORES.CODIGOUSUARIO
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_BS_STRAT_PLANS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_BS_STRAT_PLANS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_BS_STRAT_PLANS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_BS_STRAT_PLANS]
AS

SELECT     
IKI_BSSTRATPLANS.IKI_MASTERID, 
BS_STRAT_PLANS.BS_STRAT_PLANSID AS SP_ID, 
IKI_BSSTRATPLANS.IKI_DATE, 
IKI_BSSTRATPLANS.IKI_USER, 
IKI_BSSTRATPLANS.ROL AS RELATION_DESCRIPTION,
BS_STRAT_PLANS.[DESCRIPTION] AS BS_STRAT_PLAN_DESCRIPTION,
dbo.CONCAT4('SP-' , LTRIM(STR(BS_STRAT_PLANS.BS_STRAT_PLANSID)) , ' ' , BS_STRAT_PLANS.[DESCRIPTION]) AS FULLDESCRIPTION


FROM         BS_STRAT_PLANS INNER JOIN
                      dbo.IKI_BSSTRATPLANS ON BS_STRAT_PLANS.BS_STRAT_PLANSID = dbo.IKI_BSSTRATPLANS.SPLAN_ID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_BS_STRAT_PLANS_TO].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_BS_STRAT_PLANS_TO]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_BS_STRAT_PLANS_TO] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_BS_STRAT_PLANS_TO]
AS

SELECT 
BS_STRAT_PLANS.IKI_MASTERID, 
BS_STRAT_PLANS.BS_STRAT_PLANSID as SP_ID, 
VISTA_IKI_SOURCE_TARGET_RELS.IKI_DATE, 
VISTA_IKI_SOURCE_TARGET_RELS.IKI_USER, 
VISTA_IKI_SOURCE_TARGET_RELS.ROL AS RELATION_DESCRIPTION,
BS_STRAT_PLANS.[DESCRIPTION] AS BS_STRAT_PLAN_DESCRIPTION,
dbo.CONCAT4('SP-' , LTRIM(STR(BS_STRAT_PLANS.BS_STRAT_PLANSID)) , ' ' , BS_STRAT_PLANS.[DESCRIPTION]) AS FULLDESCRIPTION 
,IKI_MASTERID_TARGET

FROM         BS_STRAT_PLANS
JOIN VISTA_IKI_SOURCE_TARGET_RELS ON VISTA_IKI_SOURCE_TARGET_RELS.IKI_MASTERID_SOURCE=BS_STRAT_PLANS.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_BSINDICATORS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_BSINDICATORS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_BSINDICATORS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_BSINDICATORS]
AS
SELECT     dbo.IKI_BSINDICATORS.IKI_MASTERID, dbo.IKI_BSINDICATORS.I_ID, dbo.IKI_BSINDICATORS.IKI_DATE, dbo.IKI_BSINDICATORS.IKI_USER, 
                      dbo.BS_INDICATORS.DESCRIPTION AS BSINDICATOR_DESCRIPTION, dbo.IKI_BSINDICATORS.ROL AS RELATION_DESCRIPTION, 
                      'Images/bs_indicador.gif' AS BSINDICATOR_ICON, dbo.BS_LOCATIONS.DESCRIPTION AS BSINDICATOR_LOCATION
FROM         dbo.BS_INDICATORS INNER JOIN
                      dbo.IKI_BSINDICATORS ON dbo.BS_INDICATORS.BS_INDICATORSID = dbo.IKI_BSINDICATORS.I_ID INNER JOIN
                      dbo.BS_LOCATIONS ON dbo.BS_INDICATORS.BS_LOCATIONSID = dbo.BS_LOCATIONS.BS_LOCATIONSID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_BSINDICATORS_TO].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_BSINDICATORS_TO]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_BSINDICATORS_TO] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_BSINDICATORS_TO]
AS

SELECT 
BS_INDICATORS.IKI_MASTERID, 
BS_INDICATORS.BS_INDICATORSID AS I_ID, 
IKI_DATE, 
IKI_USER, 
BS_INDICATORS.[DESCRIPTION] AS BSINDICATOR_DESCRIPTION, 
VISTA_IKI_SOURCE_TARGET_RELS.ROL AS RELATION_DESCRIPTION, 
'Images/bs_indicador.gif' AS BSINDICATOR_ICON, 
BS_LOCATIONS.[DESCRIPTION] AS BSINDICATOR_LOCATION,
IKI_MASTERID_TARGET
FROM BS_INDICATORS
JOIN VISTA_IKI_SOURCE_TARGET_RELS ON VISTA_IKI_SOURCE_TARGET_RELS.IKI_MASTERID_SOURCE=BS_INDICATORS.IKI_MASTERID 
JOIN dbo.BS_LOCATIONS ON dbo.BS_INDICATORS.BS_LOCATIONSID = dbo.BS_LOCATIONS.BS_LOCATIONSID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_BSSTRATNODES].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_BSSTRATNODES]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_BSSTRATNODES] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_BSSTRATNODES]
AS

SELECT     
IKI_BSSTRATNODES.IKI_MASTERID, 
IKI_BSSTRATNODES.S_ID, 
IKI_BSSTRATNODES.IKI_DATE, 
IKI_BSSTRATNODES.IKI_USER, 
IKI_BSSTRATNODES.ROL AS RELATION_DESCRIPTION,
VISTA_BS_STRAT_NODES.DESCRIPTION AS BS_STRATNODE_DESCRIPTION,
dbo.CONCAT4('S-' , LTRIM(STR(BS_STRAT_NODESID)) , ' ' , DESCRIPTION) AS FULLDESCRIPTION,
VISTA_BS_STRAT_NODES.NODETYPE,
VISTA_BS_STRAT_NODES.LOCATION,
VISTA_BS_STRAT_NODES.RESPONSIBLE_RANK,
VISTA_BS_STRAT_NODES.NODEIMG



FROM         dbo.VISTA_BS_STRAT_NODES INNER JOIN
                      dbo.IKI_BSSTRATNODES ON dbo.VISTA_BS_STRAT_NODES.BS_STRAT_NODESID = dbo.IKI_BSSTRATNODES.S_ID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_BSSTRATNODES_TO].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_BSSTRATNODES_TO]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_BSSTRATNODES_TO] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_BSSTRATNODES_TO]
AS

SELECT 
VISTA_BS_STRAT_NODES.IKI_MASTERID, 
VISTA_BS_STRAT_NODES.BS_STRAT_NODESID as S_ID, 
VISTA_IKI_SOURCE_TARGET_RELS.IKI_DATE, 
VISTA_IKI_SOURCE_TARGET_RELS.IKI_USER, 
VISTA_IKI_SOURCE_TARGET_RELS.ROL AS RELATION_DESCRIPTION,
VISTA_BS_STRAT_NODES.DESCRIPTION AS BS_STRATNODE_DESCRIPTION,
dbo.CONCAT4('S-' , LTRIM(STR(VISTA_BS_STRAT_NODES.BS_STRAT_NODESID)) , ' ' , DESCRIPTION) AS FULLDESCRIPTION ,
VISTA_BS_STRAT_NODES.NODETYPE,
VISTA_BS_STRAT_NODES.LOCATION,
VISTA_BS_STRAT_NODES.RESPONSIBLE_RANK,
VISTA_BS_STRAT_NODES.NODEIMG
,IKI_MASTERID_TARGET

FROM         dbo.VISTA_BS_STRAT_NODES
JOIN VISTA_IKI_SOURCE_TARGET_RELS ON VISTA_IKI_SOURCE_TARGET_RELS.IKI_MASTERID_SOURCE=VISTA_BS_STRAT_NODES.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_DOCUMENTS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_DOCUMENTS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_DOCUMENTS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_DOCUMENTS]
AS
SELECT     dbo.IKI_DOCUMENTS.D_ID, dbo.IKI_DOCUMENTS.IKI_DATE, dbo.IKI_DOCUMENTS.IKI_USER, dbo.IKI_DOCUMENTS.IKI_MASTERID, 
                      RTRIM(dbo.DOCUMENTOS.CODIGOISO) + ' Rev.' + dbo.DOCUMENTOS.C_REVISION + ' - ' + dbo.DOCUMENTOS.NOMBRE AS DOCUMENT_DESCRIPTION,
                       dbo.IKI_DOCUMENTS.ROL AS RELATION_DESCRIPTION, CASE WHEN (dbo.DOCUMENTOS.ESTADO = 1) 
                      THEN 'Images/Doc_Development.gif' WHEN (dbo.DOCUMENTOS.ESTADO = 2) 
                      THEN 'Images/Doc_Current.gif' ELSE 'Images/Doc_Obsolete.gif' END AS DOCUMENT_ICON,
DOCUMENTOS.ESTADO AS DOCUMENT_STATUS
FROM         dbo.DOCUMENTOS INNER JOIN
                      dbo.IKI_DOCUMENTS ON dbo.DOCUMENTOS.CODIGO = dbo.IKI_DOCUMENTS.D_ID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_DOCUMENTS_TO].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_DOCUMENTS_TO]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_DOCUMENTS_TO] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_DOCUMENTS_TO]
AS

SELECT DISTINCT CODIGO AS D_ID, VISTA_IKI_SOURCE_TARGET_RELS.IKI_DATE, VISTA_IKI_SOURCE_TARGET_RELS.IKI_USER, IKI_MASTERID, RTRIM(dbo.DOCUMENTOS.CODIGOISO) + ' Rev.' + dbo.DOCUMENTOS.C_REVISION + ' - ' + dbo.DOCUMENTOS.NOMBRE AS DOCUMENT_DESCRIPTION , VISTA_IKI_SOURCE_TARGET_RELS.ROL AS RELATION_DESCRIPTION, CASE WHEN (dbo.DOCUMENTOS.ESTADO = 1) THEN 'Images/Doc_Development.gif' WHEN (dbo.DOCUMENTOS.ESTADO = 2) THEN 'Images/Doc_Current.gif' ELSE 'Images/Doc_Obsolete.gif'  END AS DOCUMENT_ICON, ESTADO AS DOCUMENT_STATUS 
,IKI_MASTERID_TARGET
FROM DOCUMENTOS
JOIN VISTA_IKI_SOURCE_TARGET_RELS ON VISTA_IKI_SOURCE_TARGET_RELS.IKI_MASTERID_SOURCE=DOCUMENTOS.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_ENTITYID_MASTERID].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_ENTITYID_MASTERID]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_ENTITYID_MASTERID] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_ENTITYID_MASTERID]
AS

SELECT 
IKI_ENTITY.BS_INDICATORSID AS IKI_ENTITYID,
IKI_ENTITY.IKI_MASTERID
FROM BS_INDICATORS IKI_ENTITY
WHERE NOT IKI_ENTITY.IKI_MASTERID IS NULL

UNION 

SELECT 
IKI_ENTITY.BS_STRAT_NODESID AS IKI_ENTITYID,
IKI_ENTITY.IKI_MASTERID
FROM BS_STRAT_NODES IKI_ENTITY
WHERE NOT IKI_ENTITY.IKI_MASTERID IS NULL

UNION 

SELECT 
IKI_ENTITY.BS_STRAT_PLANSID AS IKI_ENTITYID,
IKI_ENTITY.IKI_MASTERID
FROM BS_STRAT_PLANS IKI_ENTITY
WHERE NOT IKI_ENTITY.IKI_MASTERID IS NULL

UNION 

SELECT 
IKI_ENTITY.CODIGO AS IKI_ENTITYID,
IKI_ENTITY.IKI_MASTERID
FROM DOCUMENTOS IKI_ENTITY
WHERE NOT IKI_ENTITY.IKI_MASTERID IS NULL

UNION 

SELECT 
IKI_ENTITY.CODIGO AS IKI_ENTITYID,
IKI_ENTITY.IKI_MASTERID
FROM NCMAINPROD IKI_ENTITY
WHERE NOT IKI_ENTITY.IKI_MASTERID IS NULL

UNION 

SELECT 
IKI_ENTITY.CODIGO AS IKI_ENTITYID,
IKI_ENTITY.IKI_MASTERID
FROM NCTAREAS IKI_ENTITY
WHERE NOT IKI_ENTITY.IKI_MASTERID IS NULL

UNION 

SELECT 
IKI_ENTITY.CODIGO AS IKI_ENTITYID,
IKI_ENTITY.IKI_MASTERID
FROM ORGANIGRAMA IKI_ENTITY
WHERE NOT IKI_ENTITY.IKI_MASTERID IS NULL

UNION 

SELECT 
IKI_ENTITY.CODIGO AS IKI_ENTITYID,
IKI_ENTITY.IKI_MASTERID
FROM PERSONAS IKI_ENTITY
WHERE NOT IKI_ENTITY.IKI_MASTERID IS NULL

UNION 

SELECT 
IKI_ENTITY.PROC_NODESID AS IKI_ENTITYID,
IKI_ENTITY.IKI_MASTERID
FROM PROC_NODES IKI_ENTITY
WHERE NOT IKI_ENTITY.IKI_MASTERID IS NULL

UNION 

SELECT 
IKI_ENTITY.PROC_PLANSID AS IKI_ENTITYID,
IKI_ENTITY.IKI_MASTERID
FROM PROC_PLANS IKI_ENTITY
WHERE NOT IKI_ENTITY.IKI_MASTERID IS NULL

UNION 

SELECT 
IKI_ENTITY.BS_SVGID AS IKI_ENTITYID,
IKI_ENTITY.IKI_MASTERID
FROM BS_SVG IKI_ENTITY
WHERE NOT IKI_ENTITY.IKI_MASTERID IS NULL
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_IKFILES].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_IKFILES]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_IKFILES] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_IKFILES]
AS
SELECT        dbo.IKI_FILES.F_ID, dbo.IKI_FILES.ROL AS IKFILE_RELATION_DESCRIPTION, dbo.IKI_FILES.IKI_DATE, dbo.IKI_FILES.IKI_USER, 
                         dbo.IKI_FILES.IKI_MASTERID, dbo.IKFILES.DESCRIPTION AS IKFILE_DESCRIPTION, dbo.IKFILES.FILENAME AS IKFILE_FILENAME, 
                         dbo.IKFILES.CONTENTTYPE AS IKFILE_CONTENTTYPE, 'Images/ico_other.gif' AS IKFILE_ICON, dbo.IKFILES.CODIGOALMACEN AS IKFILE_CODIGOALMACEN, 
                         dbo.IKFILES.L_ISOBSOLETE
FROM            dbo.IKFILES INNER JOIN
                         dbo.IKI_FILES ON dbo.IKFILES.IKFILESID = dbo.IKI_FILES.F_ID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_IKPEOPLE].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_IKPEOPLE]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_IKPEOPLE] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_IKPEOPLE]
AS
SELECT     dbo.IKI_IKPEOPLE.IKI_MASTERID, dbo.IKI_IKPEOPLE.PE_ID, dbo.IKI_IKPEOPLE.IKI_DATE, dbo.IKI_IKPEOPLE.IKI_USER, 
                      dbo.PERSONAS.PERSONA AS PERSON_DESCRIPTION, 
                      CASE WHEN dbo.PERSONAS.L_IS_IKUSER = 1 THEN 'Images/usuarios_ch.gif' ELSE 'Images/Externo.gif' END AS PERSON_ICON, 
                      dbo.IKI_IKPEOPLE.ROL AS RELATION_DESCRIPTION, dbo.PERSONAS.L_IS_IKUSER AS PERSON_L_IS_IKUSER, 
                      dbo.PERSONAS.EMAIL
FROM         dbo.PERSONAS INNER JOIN
                      dbo.IKI_IKPEOPLE ON dbo.PERSONAS.CODIGO = dbo.IKI_IKPEOPLE.PE_ID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_IKPEOPLE_TO].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_IKPEOPLE_TO]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_IKPEOPLE_TO] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_IKPEOPLE_TO]
AS
SELECT     
PERSONAS.IKI_MASTERID, 
PERSONAS.CODIGO AS PE_ID, 
IKI_DATE, 
IKI_USER, 
PERSONAS.PERSONA AS PERSON_DESCRIPTION, 
CASE 
	WHEN dbo.PERSONAS.L_IS_IKUSER = 1 THEN 'Images/usuarios_ch.gif' 
	ELSE 'Images/Externo.gif' 
END AS PERSON_ICON, 
CASE
WHEN VISTA_IKI_SOURCE_TARGET_RELS.ROL IS NULL OR LEN(RTRIM(LTRIM(VISTA_IKI_SOURCE_TARGET_RELS.ROL)))=0 THEN 'N/A'
ELSE  VISTA_IKI_SOURCE_TARGET_RELS.ROL  
END AS RELATION_DESCRIPTION, 
PERSONAS.L_IS_IKUSER AS PERSON_L_IS_IKUSER, 
PERSONAS.EMAIL,
IKI_MASTERID_TARGET


FROM         
dbo.PERSONAS 
JOIN VISTA_IKI_SOURCE_TARGET_RELS ON VISTA_IKI_SOURCE_TARGET_RELS.IKI_MASTERID_SOURCE=PERSONAS.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_ISSUES].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_ISSUES]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_ISSUES] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_ISSUES]
AS
SELECT     dbo.IKI_ISSUES.IKI_MASTERID, dbo.IKI_ISSUES.N_ID, dbo.IKI_ISSUES.IKI_DATE, dbo.IKI_ISSUES.IKI_USER, 
                      dbo.NCMAINPROD.DESCRIPCION AS ISSUE_DESCRIPTION, 'Images/asuntos.gif' AS ISSUE_ICON, 
                      dbo.IKI_ISSUES.ROL AS RELATION_DESCRIPTION, dbo.NCMAINPROD.TIPO AS ISSUE_MODULEID, dbo.NCMAINPROD.ESTADO
                      
,
            CASE 
                WHEN AVA_OPTIONS!=0 THEN
                    dbo.CONCAT5('<a style="cursor:pointer" IKballoonHeight="145" IKballoonExpr="NCAVA-', LTRIM(STR(NCMAINPROD.CODIGO)) ,'"> <img src="Images/bs_ind_status_Data',NCMAINPROD.AVA_STATE,'.png" </a>') 
                ELSE
                    'N/A'
            END AS AVA_STATE_IMG,
            CASE 
                WHEN AVA_OPTIONS!=0 THEN
                    dbo.CONCAT5('<a style="cursor:pointer" IKballoonHeight="145" IKballoonExpr="NCAVA-', LTRIM(STR(NCMAINPROD.CODIGO)) ,'"> <img src="Images/bs_ind_status_Data',NCMAINPROD.AVA_PROY_DELAY_STATE,'.png" </a>') 
                ELSE
                    'N/A'
            END AS AVA_PROY_DELAY_STATE_IMG                      
FROM         dbo.NCMAINPROD INNER JOIN
                      dbo.IKI_ISSUES ON dbo.NCMAINPROD.CODIGO = dbo.IKI_ISSUES.N_ID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_ISSUES_TO].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_ISSUES_TO]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_ISSUES_TO] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_ISSUES_TO]
AS

SELECT
NCMAINPROD.IKI_MASTERID, 
NCMAINPROD.CODIGO AS N_ID, 
VISTA_IKI_SOURCE_TARGET_RELS.IKI_DATE, 
VISTA_IKI_SOURCE_TARGET_RELS.IKI_USER, 
NCMAINPROD.DESCRIPCION AS ISSUE_DESCRIPTION, 
'Images/asuntos.gif' AS ISSUE_ICON, 
VISTA_IKI_SOURCE_TARGET_RELS.ROL AS RELATION_DESCRIPTION, 
dbo.NCMAINPROD.TIPO AS ISSUE_MODULEID, 
dbo.NCMAINPROD.ESTADO
,
            CASE 
                WHEN AVA_OPTIONS!=0 THEN
                    dbo.CONCAT5('<a style="cursor:pointer" IKballoonHeight="145" IKballoonExpr="NCAVA-', LTRIM(STR(NCMAINPROD.CODIGO)) ,'"> <img src="Images/bs_ind_status_Data',NCMAINPROD.AVA_STATE,'.png" </a>') 
                ELSE
                    'N/A'
            END AS AVA_STATE_IMG,
            CASE 
                WHEN AVA_OPTIONS!=0 THEN
                    dbo.CONCAT5('<a style="cursor:pointer" IKballoonHeight="145" IKballoonExpr="NCAVA-', LTRIM(STR(NCMAINPROD.CODIGO)) ,'"> <img src="Images/bs_ind_status_Data',NCMAINPROD.AVA_PROY_DELAY_STATE,'.png" </a>') 
                ELSE
                    'N/A'
            END AS AVA_PROY_DELAY_STATE_IMG                      
,IKI_MASTERID_TARGET
FROM NCMAINPROD
JOIN VISTA_IKI_SOURCE_TARGET_RELS ON VISTA_IKI_SOURCE_TARGET_RELS.IKI_MASTERID_SOURCE=NCMAINPROD.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_ISSUESTASKS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_ISSUESTASKS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_ISSUESTASKS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_ISSUESTASKS]
AS
SELECT     

dbo.IKI_ISSUESTASKS.IKI_MASTERID,
dbo.IKI_ISSUESTASKS.T_ID, 
dbo.IKI_ISSUESTASKS.IKI_DATE, 
dbo.IKI_ISSUESTASKS.IKI_USER, 
dbo.IKI_ISSUESTASKS.ROL AS RELATION_DESCRIPTION, 

TAREAS.DESCRIPCION AS TASK_DESCRIPTION,
TAREAS.CODIGONC AS N_ID,
TAREAS.TIPONC AS ISSUE_MODULEID,
TAREAS.DESCRIPCIONASUNTO AS ISSUE_DESCRIPTION,

TAREAS.TASK_DELAYED_END_CLASS,
TAREAS.FECHA,
TAREAS.FECHALIMITE,
TAREAS.CUMPLIMIENTO,
TAREAS.USUARIO_CUMPLIMIENTO,
TAREAS.TASKCATEGORY ,
TAREAS.ORDEN_CATEGORIA_ESTADO_TAREA,
TAREAS.MANDARENFECHA,
TAREAS.MODULE_DESC

	
               
FROM         dbo.VISTA_TASKSCATEGORIES TAREAS INNER JOIN
                      dbo.IKI_ISSUESTASKS ON TAREAS.CODIGOTAREA  = dbo.IKI_ISSUESTASKS.T_ID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_ISSUESTASKS_TO].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_ISSUESTASKS_TO]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_ISSUESTASKS_TO] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_ISSUESTASKS_TO]
AS

SELECT
TAREAS.IKI_MASTERID,
TAREAS.CODIGOTAREA AS T_ID, 
VISTA_IKI_SOURCE_TARGET_RELS.IKI_DATE, 
VISTA_IKI_SOURCE_TARGET_RELS.IKI_USER, 
VISTA_IKI_SOURCE_TARGET_RELS.ROL AS RELATION_DESCRIPTION, 
TAREAS.DESCRIPCION AS TASK_DESCRIPTION,
TAREAS.CODIGONC AS N_ID,
TAREAS.TIPONC AS ISSUE_MODULEID,
TAREAS.DESCRIPCIONASUNTO AS ISSUE_DESCRIPTION,
TAREAS.TASK_DELAYED_END_CLASS,
TAREAS.FECHA,
TAREAS.FECHALIMITE,
TAREAS.CUMPLIMIENTO,
TAREAS.USUARIO_CUMPLIMIENTO,
TAREAS.TASKCATEGORY,
TAREAS.ORDEN_CATEGORIA_ESTADO_TAREA,
TAREAS.MANDARENFECHA,
TAREAS.MODULE_DESC,

IKI_MASTERID_TARGET

FROM VISTA_TASKSCATEGORIES TAREAS
JOIN VISTA_IKI_SOURCE_TARGET_RELS ON VISTA_IKI_SOURCE_TARGET_RELS.IKI_MASTERID_SOURCE=TAREAS.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_NAXCHARTS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_NAXCHARTS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_NAXCHARTS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_NAXCHARTS]
AS
SELECT     dbo.IKI_NAXCHARTS.G_ID, dbo.IKI_NAXCHARTS.ROL AS RELATION_DESCRIPTION, dbo.IKI_NAXCHARTS.IKI_DATE, dbo.IKI_NAXCHARTS.IKI_USER, 
                      dbo.IKI_NAXCHARTS.IKI_MASTERID, dbo.NAXCHARTS.[DESCRIPTION] AS NAXCHART_DESCRIPTION, 'Images/i/chart.png' AS NAXCHART_ICON                      
FROM         dbo.NAXCHARTS INNER JOIN
                      dbo.IKI_NAXCHARTS ON dbo.NAXCHARTS.NAXCHARTSID = dbo.IKI_NAXCHARTS.G_ID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_ORGCHART].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_ORGCHART]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_ORGCHART] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_ORGCHART]
AS
SELECT        dbo.IKI_ORGCHART.IKI_MASTERID, dbo.IKI_ORGCHART.O_ID, dbo.IKI_ORGCHART.IKI_DATE, dbo.IKI_ORGCHART.IKI_USER, 
                         dbo.IKI_ORGCHART.ROL AS RELATION_DESCRIPTION, 
                         CASE O.TIPO WHEN 0 THEN 'images/org_sector.gif' WHEN 1 THEN 'images/org_rank.gif' WHEN 2 THEN 'images/org_sectorex.gif' WHEN 4 THEN 'Images/org_multiple_rank.gif'
                          END AS ORGCHART_ICON, CASE WHEN LEN(O.ORGANIGRAMA_DESC) 
                         > 0 THEN O.ORGANIGRAMA_DESC + ': ' + O.DESCRIPCION ELSE O.DESCRIPCION END AS ORGCHART_DESCRIPTION, CASE WHEN O.USUARIO IS NULL 
                         THEN 'N/A' ELSE O.USUARIO END AS ORGCHART_USER, O.TIPO AS ORGCHART_TYPE, dbo.IKI_ORGCHART.IKI_ORGCHARTID
FROM            dbo.VISTA_ORGANIGRAMA_NODES_SELECT AS O INNER JOIN
                         dbo.IKI_ORGCHART ON O.CODIGO = dbo.IKI_ORGCHART.O_ID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_ORGCHART_TO].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_ORGCHART_TO]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_ORGCHART_TO] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_ORGCHART_TO]
AS
SELECT        O.IKI_MASTERID, O.CODIGO AS O_ID, dbo.VISTA_IKI_SOURCE_TARGET_RELS.IKI_DATE, dbo.VISTA_IKI_SOURCE_TARGET_RELS.IKI_USER, 
                         dbo.VISTA_IKI_SOURCE_TARGET_RELS.ROL AS RELATION_DESCRIPTION, 
                         CASE O.TIPO WHEN 0 THEN 'images/org_sector.gif' WHEN 1 THEN 'images/org_rank.gif' WHEN 2 THEN 'images/org_sectorex.gif' WHEN 4 THEN 'Images/org_multiple_rank.gif'
                          END AS ORGCHART_ICON, CASE WHEN LEN(O.ORGANIGRAMA_DESC) 
                         > 0 THEN O.ORGANIGRAMA_DESC + ': ' + O.DESCRIPCION ELSE O.DESCRIPCION END AS ORGCHART_DESCRIPTION, CASE WHEN O.USUARIO IS NULL 
                         THEN 'N/A' ELSE O.USUARIO END AS ORGCHART_USER, O.TIPO AS ORGCHART_TYPE, NULL AS IKI_ORGCHARTID, 
                         dbo.VISTA_IKI_SOURCE_TARGET_RELS.IKI_MASTERID_TARGET
FROM            dbo.VISTA_ORGANIGRAMA_NODES_SELECT AS O INNER JOIN
                         dbo.VISTA_IKI_SOURCE_TARGET_RELS ON dbo.VISTA_IKI_SOURCE_TARGET_RELS.IKI_MASTERID_SOURCE = O.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_PROCNODES].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_PROCNODES]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_PROCNODES] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_PROCNODES]
AS

SELECT     
dbo.IKI_PROCNODES.IKI_MASTERID, 
dbo.IKI_PROCNODES.P_ID, 
dbo.IKI_PROCNODES.IKI_DATE, 
dbo.IKI_PROCNODES.IKI_USER, 
dbo.IKI_PROCNODES.ROL AS RELATION_DESCRIPTION,
VISTA_PROC_NODES.DESCRIPTION AS PROCNODE_DESCRIPTION,
VISTA_PROC_NODES.NODEIMG AS PROCNODE_NODEIMG,
dbo.CONCAT4('P-' , LTRIM(STR(PROC_NODESID)) , ' ' , DESCRIPTION) AS FULLDESCRIPTION,
VISTA_PROC_NODES.NODETYPE,
VISTA_PROC_NODES.LOCATION,
VISTA_PROC_NODES.RESPONSIBLE_RANK,
VISTA_PROC_NODES.NODEIMG



FROM         dbo.VISTA_PROC_NODES INNER JOIN
                      dbo.IKI_PROCNODES ON dbo.VISTA_PROC_NODES.PROC_NODESID = dbo.IKI_PROCNODES.P_ID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_PROCNODES_TO].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_PROCNODES_TO]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_PROCNODES_TO] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_PROCNODES_TO]
AS

SELECT 
VISTA_PROC_NODES.IKI_MASTERID, 
VISTA_PROC_NODES.PROC_NODESID as P_ID, 
VISTA_IKI_SOURCE_TARGET_RELS.IKI_DATE, 
VISTA_IKI_SOURCE_TARGET_RELS.IKI_USER, 
VISTA_IKI_SOURCE_TARGET_RELS.ROL AS RELATION_DESCRIPTION,
VISTA_PROC_NODES.DESCRIPTION AS PROCNODE_DESCRIPTION,
VISTA_PROC_NODES.NODEIMG AS PROCNODE_NODEIMG,
dbo.CONCAT4('P-' , LTRIM(STR(PROC_NODESID)) , ' ' , DESCRIPTION) AS FULLDESCRIPTION ,
VISTA_PROC_NODES.NODETYPE,
VISTA_PROC_NODES.LOCATION,
VISTA_PROC_NODES.RESPONSIBLE_RANK,
VISTA_PROC_NODES.NODEIMG
,IKI_MASTERID_TARGET

FROM         dbo.VISTA_PROC_NODES
JOIN VISTA_IKI_SOURCE_TARGET_RELS ON VISTA_IKI_SOURCE_TARGET_RELS.IKI_MASTERID_SOURCE=VISTA_PROC_NODES.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_PROCPLANS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_PROCPLANS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_PROCPLANS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_PROCPLANS]
AS

SELECT     
IKI_PROCPLANS.IKI_MASTERID, 
PROC_PLANS.PROC_PLANSID AS PP_ID, 
IKI_PROCPLANS.IKI_DATE, 
IKI_PROCPLANS.IKI_USER, 
IKI_PROCPLANS.ROL AS RELATION_DESCRIPTION,
PROC_PLANS.[DESCRIPTION] AS PROCPLAN_DESCRIPTION,
dbo.CONCAT4('PP-' , LTRIM(STR(PROC_PLANS.PROC_PLANSID)) , ' ' , PROC_PLANS.[DESCRIPTION]) AS FULLDESCRIPTION


FROM         PROC_PLANS INNER JOIN
                      dbo.IKI_PROCPLANS ON PROC_PLANS.PROC_PLANSID = dbo.IKI_PROCPLANS.PPLAN_ID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_PROCPLANS_TO].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_PROCPLANS_TO]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_PROCPLANS_TO] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_PROCPLANS_TO]
AS

SELECT 
PROC_PLANS.IKI_MASTERID, 
PROC_PLANS.PROC_PLANSID as PP_ID, 
VISTA_IKI_SOURCE_TARGET_RELS.IKI_DATE, 
VISTA_IKI_SOURCE_TARGET_RELS.IKI_USER, 
VISTA_IKI_SOURCE_TARGET_RELS.ROL AS RELATION_DESCRIPTION,
PROC_PLANS.[DESCRIPTION] AS PROCPLAN_DESCRIPTION,
dbo.CONCAT4('PP-' , LTRIM(STR(PROC_PLANS.PROC_PLANSID)) , ' ' , PROC_PLANS.[DESCRIPTION]) AS FULLDESCRIPTION 
,IKI_MASTERID_TARGET

FROM         PROC_PLANS
JOIN VISTA_IKI_SOURCE_TARGET_RELS ON VISTA_IKI_SOURCE_TARGET_RELS.IKI_MASTERID_SOURCE=PROC_PLANS.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_SOURCE_TARGET_RELS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_SOURCE_TARGET_RELS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_SOURCE_TARGET_RELS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_SOURCE_TARGET_RELS]
AS

--NAXCHARTS
SELECT  
'G' AS SOURCE_ENTITY_TYPE, 
IKI.G_ID  AS SOURCE_ENTITY_ID,
dbo.[iki_ParticleFromTable](IKI_MASTER.IKI_FORTABLE) AS TARGET_ENTITY_TYPE
,NULL AS IKI_MASTERID_TARGET, 
IKI.IKI_MASTERID AS IKI_MASTERID_SOURCE ,
IKI.IKI_USER, 
IKI.IKI_DATE,IKI.ROL
FROM IKI_NAXCHARTS IKI
--JOIN  NAXCHARTS SOURCE_ENTITY ON SOURCE_ENTITY.NAXCHARTSID=IKI.G_ID
JOIN IKI_MASTER ON IKI_MASTER.IKI_MASTERID=IKI.IKI_MASTERID

UNION

--IKIFILES
SELECT  
'F' AS SOURCE_ENTITY_TYPE, 
IKI.F_ID  AS SOURCE_ENTITY_UID,
dbo.[iki_ParticleFromTable](IKI_MASTER.IKI_FORTABLE) AS TARGET_ENTITY_TYPE
,NULL AS IKI_MASTERID_TARGET, 
IKI.IKI_MASTERID AS  IKI_MASTERID_SOURCE,
IKI.IKI_USER, IKI.IKI_DATE,IKI.ROL
FROM IKI_FILES IKI
--JOIN  IKFILES SOURCE_ENTITY ON SOURCE_ENTITY.IKFILESID=IKI.F_ID
JOIN IKI_MASTER ON IKI_MASTER.IKI_MASTERID=IKI.IKI_MASTERID


UNION

--INDICADORES
SELECT  
'I' AS SOURCE_ENTITY_TYPE, 
IKI.I_ID  AS SOURCE_ENTITY_UID,
dbo.[iki_ParticleFromTable](IKI_MASTER.IKI_FORTABLE) AS TARGET_ENTITY_TYPE,
SOURCE_ENTITY.IKI_MASTERID AS IKI_MASTERID_TARGET,
IKI.IKI_MASTERID AS IKI_MASTERID_SOURCE ,
IKI.IKI_USER, 
IKI.IKI_DATE,IKI.ROL
FROM IKI_BSINDICATORS IKI
JOIN  BS_INDICATORS SOURCE_ENTITY ON SOURCE_ENTITY.BS_INDICATORSID=IKI.I_ID
JOIN IKI_MASTER ON IKI_MASTER.IKI_MASTERID=IKI.IKI_MASTERID


UNION

--STRAT PLANS
SELECT  
'SP' AS SOURCE_ENTITY_TYPE, 
IKI.SPLAN_ID AS SOURCE_ENTITY_UID,
dbo.[iki_ParticleFromTable](IKI_MASTER.IKI_FORTABLE) AS TARGET_ENTITY_TYPE, 
SOURCE_ENTITY.IKI_MASTERID AS IKI_MASTERID_TARGET, 
IKI.IKI_MASTERID AS IKI_MASTERID_SOURCE ,
IKI.IKI_USER, 
IKI.IKI_DATE,
IKI.ROL
FROM IKI_BSSTRATPLANS IKI 
JOIN  BS_STRAT_PLANS SOURCE_ENTITY ON SOURCE_ENTITY.BS_STRAT_PLANSID=IKI.SPLAN_ID
JOIN IKI_MASTER ON IKI_MASTER.IKI_MASTERID=IKI.IKI_MASTERID

UNION

--STRAT NODES
SELECT  
'S' AS SOURCE_ENTITY_TYPE, 
IKI.S_ID AS SOURCE_ENTITY_UID,
dbo.[iki_ParticleFromTable](IKI_MASTER.IKI_FORTABLE) AS TARGET_ENTITY_TYPE, 
SOURCE_ENTITY.IKI_MASTERID AS IKI_MASTERID_TARGET, 
IKI.IKI_MASTERID AS IKI_MASTERID_SOURCE ,
IKI.IKI_USER, 
IKI.IKI_DATE,
IKI.ROL
FROM IKI_BSSTRATNODES IKI
JOIN  BS_STRAT_NODES SOURCE_ENTITY ON SOURCE_ENTITY.BS_STRAT_NODESID=IKI.S_ID
JOIN IKI_MASTER ON IKI_MASTER.IKI_MASTERID=SOURCE_ENTITY.IKI_MASTERID

UNION

--DOCUMENTOS
SELECT  'D' AS SOURCE_ENTITY_TYPE, 
IKI.D_ID AS SOURCE_ENTITY_UID,
dbo.[iki_ParticleFromTable](IKI_MASTER.IKI_FORTABLE) AS TARGET_ENTITY_TYPE, 
SOURCE_ENTITY.IKI_MASTERID AS IKI_MASTERID_TARGET, 
IKI.IKI_MASTERID AS IKI_MASTERID_SOURCE,
IKI.IKI_USER, 
IKI.IKI_DATE,
IKI.ROL
FROM IKI_DOCUMENTS IKI
JOIN DOCUMENTOS SOURCE_ENTITY ON SOURCE_ENTITY.CODIGO=IKI.D_ID
JOIN IKI_MASTER ON IKI_MASTER.IKI_MASTERID=IKI.IKI_MASTERID

UNION

--PERSONAS
SELECT  'PE' AS SOURCE_ENTITY_TYPE, 
IKI.PE_ID AS SOURCE_ENTITY_UID,
dbo.[iki_ParticleFromTable](IKI_MASTER.IKI_FORTABLE) AS TARGET_ENTITY_TYPE, 
SOURCE_ENTITY.IKI_MASTERID AS IKI_MASTERID_TARGET, 
IKI.IKI_MASTERID AS IKI_MASTERID_SOURCE ,
IKI.IKI_USER, 
IKI.IKI_DATE,
IKI.ROL
FROM IKI_IKPEOPLE IKI 
JOIN PERSONAS SOURCE_ENTITY ON SOURCE_ENTITY.CODIGO=IKI.PE_ID
JOIN IKI_MASTER ON IKI_MASTER.IKI_MASTERID=IKI.IKI_MASTERID

UNION

--ASUNTOS
SELECT  'N' AS SOURCE_ENTITY_TYPE, 
IKI.N_ID AS SOURCE_ENTITY_UID,
dbo.[iki_ParticleFromTable](IKI_MASTER.IKI_FORTABLE) AS TARGET_ENTITY_TYPE, 
SOURCE_ENTITY.IKI_MASTERID AS IKI_MASTERID_TARGET, 
IKI.IKI_MASTERID AS IKI_MASTERID_SOURCE ,
IKI.IKI_USER, 
IKI.IKI_DATE,
IKI.ROL
FROM IKI_ISSUES IKI 
JOIN NCMAINPROD SOURCE_ENTITY ON SOURCE_ENTITY.CODIGO=IKI.N_ID
JOIN IKI_MASTER ON IKI_MASTER.IKI_MASTERID=IKI.IKI_MASTERID


UNION

--TAREAS ASUNTOS
SELECT  'T' AS SOURCE_ENTITY_TYPE, 
IKI.T_ID AS SOURCE_ENTITY_UID,
dbo.[iki_ParticleFromTable](IKI_MASTER.IKI_FORTABLE) AS TARGET_ENTITY_TYPE, 
SOURCE_ENTITY.IKI_MASTERID AS IKI_MASTERID_TARGET , 
IKI.IKI_MASTERID AS IKI_MASTERID_SOURCE,
IKI.IKI_USER, 
IKI.IKI_DATE,
IKI.ROL
FROM IKI_ISSUESTASKS IKI 
JOIN NCTAREAS SOURCE_ENTITY ON SOURCE_ENTITY.CODIGO=IKI.T_ID
JOIN IKI_MASTER ON IKI_MASTER.IKI_MASTERID=IKI.IKI_MASTERID


UNION

--ORG CHART
SELECT  'O' AS SOURCE_ENTITY_TYPE, 
IKI.O_ID AS SOURCE_ENTITY_UID,
dbo.[iki_ParticleFromTable](IKI_MASTER.IKI_FORTABLE) AS TARGET_ENTITY_TYPE, 
SOURCE_ENTITY.IKI_MASTERID AS IKI_MASTERID_TARGET , 
IKI.IKI_MASTERID AS IKI_MASTERID_SOURCE,
IKI.IKI_USER, 
IKI.IKI_DATE,
IKI.ROL
FROM IKI_ORGCHART IKI 
JOIN ORGANIGRAMA SOURCE_ENTITY ON SOURCE_ENTITY.CODIGO=IKI.O_ID
JOIN IKI_MASTER ON IKI_MASTER.IKI_MASTERID=IKI.IKI_MASTERID


UNION

--NODOS DE PROC
SELECT  
'P' AS SOURCE_ENTITY_TYPE, 
IKI.P_ID AS SOURCE_ENTITY_UID,
dbo.[iki_ParticleFromTable](IKI_MASTER.IKI_FORTABLE) AS TARGET_ENTITY_TYPE, 
SOURCE_ENTITY.IKI_MASTERID AS IKI_MASTERID_TARGET, 
IKI.IKI_MASTERID AS IKI_MASTERID_SOURCE ,
IKI.IKI_USER, 
IKI.IKI_DATE,
IKI.ROL
FROM IKI_PROCNODES IKI 
JOIN PROC_NODES SOURCE_ENTITY ON SOURCE_ENTITY.PROC_NODESID=IKI.P_ID
JOIN IKI_MASTER ON IKI_MASTER.IKI_MASTERID=IKI.IKI_MASTERID


UNION

--PLANES DE PROC
SELECT  
'PP' AS SOURCE_ENTITY_TYPE, 
IKI.PPLAN_ID AS SOURCE_ENTITY_UID,
dbo.[iki_ParticleFromTable](IKI_MASTER.IKI_FORTABLE) AS TARGET_ENTITY_TYPE, 
SOURCE_ENTITY.IKI_MASTERID AS IKI_MASTERID_TARGET, 
IKI.IKI_MASTERID AS IKI_MASTERID_SOURCE ,
IKI.IKI_USER, 
IKI.IKI_DATE,
IKI.ROL
FROM IKI_PROCPLANS IKI 
JOIN PROC_PLANS SOURCE_ENTITY ON SOURCE_ENTITY.PROC_PLANSID=IKI.PPLAN_ID
JOIN IKI_MASTER ON IKI_MASTER.IKI_MASTERID=IKI.IKI_MASTERID



UNION

--DIAGRAMS
SELECT  
'SVG' AS SOURCE_ENTITY_TYPE, 
IKI.SVG_ID AS SOURCE_ENTITY_UID,
dbo.[iki_ParticleFromTable](IKI_MASTER.IKI_FORTABLE) AS TARGET_ENTITY_TYPE, 
SOURCE_ENTITY.IKI_MASTERID AS IKI_MASTERID_TARGET, 
IKI.IKI_MASTERID AS IKI_MASTERID_SOURCE ,
IKI.IKI_USER, 
IKI.IKI_DATE,
IKI.ROL
FROM IKI_SVGDRAWINGS IKI 
JOIN  BS_SVG SOURCE_ENTITY ON SOURCE_ENTITY.BS_SVGID=IKI.SVG_ID
JOIN IKI_MASTER ON IKI_MASTER.IKI_MASTERID=IKI.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_SVGDRAWINGS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_SVGDRAWINGS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_SVGDRAWINGS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_SVGDRAWINGS]
AS
SELECT     dbo.IKI_SVGDRAWINGS.SVG_ID, dbo.IKI_SVGDRAWINGS.IKI_MASTERID, dbo.IKI_SVGDRAWINGS.ROL AS RELATION_DESCRIPTION, 
                      dbo.IKI_SVGDRAWINGS.IKI_DATE, dbo.IKI_SVGDRAWINGS.IKI_USER, dbo.SVG_TYPES.DESCRIPTION AS SVGDRAWING_TYPE, 
                      dbo.BS_SVG.DESCRIPTION AS SVGDRAWING_DESCRIPTION, dbo.SVG_TYPES.SVG_TYPEIMG AS SVGDRAWING_ICON
FROM         dbo.BS_SVG INNER JOIN
                      dbo.IKI_SVGDRAWINGS ON dbo.BS_SVG.BS_SVGID = dbo.IKI_SVGDRAWINGS.SVG_ID INNER JOIN
                      dbo.SVG_TYPES ON dbo.BS_SVG.SVG_TYPESID = dbo.SVG_TYPES.SVG_TYPESID
GO

GO
--SqlScripter----[dbo].[VISTA_IKI_SVGDRAWINGS_TO].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKI_SVGDRAWINGS_TO]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKI_SVGDRAWINGS_TO] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKI_SVGDRAWINGS_TO]
AS

SELECT 
BS_SVG.BS_SVGID AS SVG_ID, 
BS_SVG.IKI_MASTERID, 
VISTA_IKI_SOURCE_TARGET_RELS.ROL AS RELATION_DESCRIPTION, 
VISTA_IKI_SOURCE_TARGET_RELS.IKI_DATE, 
VISTA_IKI_SOURCE_TARGET_RELS.IKI_USER, 
dbo.SVG_TYPES.[DESCRIPTION] AS SVGDRAWING_TYPE, 
dbo.BS_SVG.[DESCRIPTION] AS SVGDRAWING_DESCRIPTION, 
dbo.SVG_TYPES.SVG_TYPEIMG AS SVGDRAWING_ICON

,IKI_MASTERID_TARGET

FROM         dbo.BS_SVG
JOIN dbo.SVG_TYPES ON dbo.BS_SVG.SVG_TYPESID = dbo.SVG_TYPES.SVG_TYPESID
JOIN VISTA_IKI_SOURCE_TARGET_RELS ON VISTA_IKI_SOURCE_TARGET_RELS.IKI_MASTERID_SOURCE=BS_SVG.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_IKROLES].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKROLES]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKROLES] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKROLES]
AS
SELECT     IKROLES_ID, IKROLES_DESC, CLASSES, L_DELETED, COMMENTS
FROM         dbo.IKROLES
GO

GO
--SqlScripter----[dbo].[VISTA_IKROLES_ASUNTOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKROLES_ASUNTOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKROLES_ASUNTOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKROLES_ASUNTOS]
AS
SELECT     R.IKROLES_ID, R.IKROLES_DESC, NCR.ISSUE_ID, NCR.ISSUE_INVOLVEMENT_LEVEL, NCR.ISSUE_INCLUDE_IN_FORUM, NCR.NCWORKGROUPS_ID, 
                      R.COMMENTS
FROM         dbo.VISTA_IKROLES AS R INNER JOIN
                      dbo.IKROLES_ASUNTOS AS NCR ON NCR.IKROLES_ID = R.IKROLES_ID
GO

GO
--SqlScripter----[dbo].[VISTA_IKROLES_ASUNTOS4TPROT].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKROLES_ASUNTOS4TPROT]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKROLES_ASUNTOS4TPROT] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKROLES_ASUNTOS4TPROT]
AS
SELECT     R.IKROLES_ID, NCR.PROTOISSUE_ID, R.IKROLES_DESC, NCR.ISSUE_ID, NCR.ISSUE_INVOLVEMENT_LEVEL, NCR.ISSUE_INCLUDE_IN_FORUM, 
                      NCR.L_UPDATE_WORKGROUP, NCR.NCWORKGROUPS_ID, NCR.TRANSACTION_UID, R.COMMENTS
FROM         dbo.VISTA_IKROLES AS R INNER JOIN
                      dbo.IKROLES_ASUNTOS4TPROT AS NCR ON NCR.IKROLES_ID = R.IKROLES_ID
GO

GO
--SqlScripter----[dbo].[VISTA_IKROLES_NCINVOLUCRADOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKROLES_NCINVOLUCRADOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKROLES_NCINVOLUCRADOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKROLES_NCINVOLUCRADOS]
AS
SELECT     R.IKROLES_ID, R.IKROLES_DESC, NCR.ISSUE_ID, NCR.POSITION_ID, dbo.VISTA_ORGANIGRAMA.DESCRIPCION AS POSITION_DESC, 
                      dbo.VISTA_ORGANIGRAMA.USUARIO AS USER_DESC, dbo.VISTA_ORGANIGRAMA.CODIGOUSUARIO AS USER_ID, dbo.VISTA_ORGANIGRAMA.EMAIL AS USER_EMAIL, 
                      NCR.NCWORKGROUPS_ID, dbo.NCWORKGROUPS.NCWORKGROUPS_DESC
FROM         dbo.VISTA_IKROLES AS R INNER JOIN
                      dbo.IKROLES_NCINVOLUCRADOS AS NCR ON NCR.IKROLES_ID = R.IKROLES_ID INNER JOIN
                      dbo.VISTA_ORGANIGRAMA ON NCR.POSITION_ID = dbo.VISTA_ORGANIGRAMA.CODIGO INNER JOIN
                      dbo.NCWORKGROUPS ON NCR.ISSUE_ID = dbo.NCWORKGROUPS.ISSUE_ID AND NCR.NCWORKGROUPS_ID = dbo.NCWORKGROUPS.NCWORKGROUPS_ID
GO

GO
--SqlScripter----[dbo].[VISTA_IKROLES_NCINVOLUCRADOS4TPROT].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKROLES_NCINVOLUCRADOS4TPROT]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKROLES_NCINVOLUCRADOS4TPROT] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKROLES_NCINVOLUCRADOS4TPROT]
AS
SELECT     NCR.ISSUE_ID, NCR.PROTOISSUE_ID, NCR.POSITION_ID, dbo.VISTA_ORGANIGRAMA.DESCRIPCION AS POSITION_DESC, 
                      dbo.VISTA_ORGANIGRAMA.USUARIO AS USER_DESC, dbo.VISTA_ORGANIGRAMA.CODIGOUSUARIO AS USER_ID, 
                      dbo.VISTA_IKROLES_ASUNTOS4TPROT.IKROLES_DESC, dbo.VISTA_IKROLES_ASUNTOS4TPROT.IKROLES_ID, 
                      dbo.VISTA_IKROLES_ASUNTOS4TPROT.ISSUE_INVOLVEMENT_LEVEL, dbo.VISTA_IKROLES_ASUNTOS4TPROT.ISSUE_INCLUDE_IN_FORUM, 
                      dbo.VISTA_ORGANIGRAMA.TIPO AS POSITION_ORGTYPE, dbo.VISTA_ORGANIGRAMA.EMAIL AS USER_EMAIL, 
                      dbo.VISTA_IKROLES_ASUNTOS4TPROT.NCWORKGROUPS_ID, NCR.TRANSACTION_UID
FROM         dbo.IKROLES_NCINVOLUCRADOS4TPROT AS NCR INNER JOIN
                      dbo.VISTA_ORGANIGRAMA ON NCR.POSITION_ID = dbo.VISTA_ORGANIGRAMA.CODIGO INNER JOIN
                      dbo.VISTA_IKROLES_ASUNTOS4TPROT ON NCR.IKROLES_ID = dbo.VISTA_IKROLES_ASUNTOS4TPROT.IKROLES_ID AND 
                      NCR.ISSUE_ID = dbo.VISTA_IKROLES_ASUNTOS4TPROT.ISSUE_ID AND NCR.PROTOISSUE_ID = dbo.VISTA_IKROLES_ASUNTOS4TPROT.PROTOISSUE_ID AND 
                      NCR.TRANSACTION_UID = dbo.VISTA_IKROLES_ASUNTOS4TPROT.TRANSACTION_UID
GO

GO
--SqlScripter----[dbo].[VISTA_IKROLES_NCTAREAS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKROLES_NCTAREAS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKROLES_NCTAREAS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKROLES_NCTAREAS]
AS
SELECT     NCTR.IKROLES_ID, R.IKROLES_DESC, NCTR.NCTASK_ID, T.CODIGONC AS ISSUE_ID, NCTR.NCWORKGROUPS_ID, R.COMMENTS
FROM         dbo.VISTA_IKROLES AS R INNER JOIN
                      dbo.IKROLES_NCTAREAS AS NCTR ON NCTR.IKROLES_ID = R.IKROLES_ID INNER JOIN
                      dbo.NCTAREAS AS T ON T.CODIGO = NCTR.NCTASK_ID
GO

GO
--SqlScripter----[dbo].[VISTA_IKROLES_NCTASKSSTEPS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKROLES_NCTASKSSTEPS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKROLES_NCTASKSSTEPS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKROLES_NCTASKSSTEPS]
AS
SELECT     
NCTR.NCTASKSSTEPS_ID,
NCTR.IKROLES_ID, 
NCTR.NCWORKGROUPS_ID,
R.IKROLES_DESC, 
T.CODIGO AS NCTASK_ID, 
T.CODIGONC AS ISSUE_ID, 
dbo.IKROLES_ASUNTOS.ISSUE_INVOLVEMENT_LEVEL, 
dbo.IKROLES_ASUNTOS.ISSUE_INCLUDE_IN_FORUM, 
R.COMMENTS
FROM         dbo.VISTA_IKROLES AS R 
INNER JOIN dbo.IKROLES_NCTASKSSTEPS AS NCTR ON NCTR.IKROLES_ID = R.IKROLES_ID 
INNER JOIN NCTASKSSTEPS ON NCTASKSSTEPS.NCTASKSSTEPS_ID=NCTR.NCTASKSSTEPS_ID
INNER JOIN dbo.NCTAREAS AS T ON T.CODIGO = NCTASKSSTEPS.NCTASKID 
INNER JOIN dbo.IKROLES_ASUNTOS ON T.CODIGONC = dbo.IKROLES_ASUNTOS.ISSUE_ID AND NCTR.IKROLES_ID = dbo.IKROLES_ASUNTOS.IKROLES_ID AND NCTR.NCWORKGROUPS_ID = dbo.IKROLES_ASUNTOS.NCWORKGROUPS_ID
GO

GO
--SqlScripter----[dbo].[VISTA_IKROLES_TPROT_TASK].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKROLES_TPROT_TASK]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKROLES_TPROT_TASK] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKROLES_TPROT_TASK]
AS
SELECT     NCTR.IKROLES_ID, R.IKROLES_DESC, NCTR.NCTASK_ID, T.CODIGONC AS ISSUE_ID, NCTR.NCWORKGROUPS_ID, 
                      dbo.IKROLES_ASUNTOS.ISSUE_INVOLVEMENT_LEVEL, dbo.IKROLES_ASUNTOS.ISSUE_INCLUDE_IN_FORUM, R.COMMENTS
FROM         dbo.VISTA_IKROLES AS R INNER JOIN
                      dbo.IKROLES_TPROT_TASK AS NCTR ON NCTR.IKROLES_ID = R.IKROLES_ID INNER JOIN
                      dbo.TPROT_TASK AS T ON T.CODIGO = NCTR.NCTASK_ID INNER JOIN
                      dbo.IKROLES_ASUNTOS ON T.CODIGONC = dbo.IKROLES_ASUNTOS.ISSUE_ID AND NCTR.IKROLES_ID = dbo.IKROLES_ASUNTOS.IKROLES_ID AND 
                      NCTR.NCWORKGROUPS_ID = dbo.IKROLES_ASUNTOS.NCWORKGROUPS_ID
GO

GO
--SqlScripter----[dbo].[VISTA_IKROLES_TPROT_TASKSSTEPS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_IKROLES_TPROT_TASKSSTEPS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_IKROLES_TPROT_TASKSSTEPS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_IKROLES_TPROT_TASKSSTEPS]
AS
SELECT     
NCTR.NCTASKSSTEPS_ID,
NCTR.IKROLES_ID, 
NCTR.NCWORKGROUPS_ID,
R.IKROLES_DESC, 
T.CODIGO AS NCTASK_ID, 
T.CODIGONC AS ISSUE_ID, 
dbo.IKROLES_ASUNTOS.ISSUE_INVOLVEMENT_LEVEL, 
dbo.IKROLES_ASUNTOS.ISSUE_INCLUDE_IN_FORUM, 
R.COMMENTS
FROM         dbo.VISTA_IKROLES AS R 
INNER JOIN dbo.IKROLES_TPROT_TASKSSTEPS AS NCTR ON NCTR.IKROLES_ID = R.IKROLES_ID 
INNER JOIN TPROT_TASKSSTEPS ON TPROT_TASKSSTEPS.NCTASKSSTEPS_ID=NCTR.NCTASKSSTEPS_ID
INNER JOIN dbo.TPROT_TASK AS T ON T.CODIGO = TPROT_TASKSSTEPS.NCTASKID 
INNER JOIN dbo.IKROLES_ASUNTOS ON T.CODIGONC = dbo.IKROLES_ASUNTOS.ISSUE_ID AND NCTR.IKROLES_ID = dbo.IKROLES_ASUNTOS.IKROLES_ID AND NCTR.NCWORKGROUPS_ID = dbo.IKROLES_ASUNTOS.NCWORKGROUPS_ID
GO

GO
--SqlScripter----[dbo].[VISTA_INSP_BS_BOARD].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_INSP_BS_BOARD]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_INSP_BS_BOARD] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_INSP_BS_BOARD]
AS
SELECT     BS_INDICATORSID, 'SC' AS MASK, 'Scoremeter' AS DESCRIPTION, 'bs_g_score.gif' AS IMAGE, 'CHART' as [TYPE], '' as EXTRA_PARAMETERS
FROM         dbo.VISTA_BS_INDICATORS
UNION
SELECT     BS_INDICATORSID, 'SM' AS MASK, 'Semáforo' AS DESCRIPTION, 'bs_g_sem.gif' AS IMAGE, 'CHART' as [TYPE], '' as EXTRA_PARAMETERS
FROM         dbo.VISTA_BS_INDICATORS 
UNION
SELECT     BS_INDICATORSID, 'ST' AS MASK, 'Tendencia' AS DESCRIPTION, 'bs_g_tend.gif' AS IMAGE, 'CHART' as [TYPE], '' as EXTRA_PARAMETERS
FROM         dbo.VISTA_BS_INDICATORS 
UNION
SELECT     BS_INDICATORSID, 'SB' AS MASK, 'Gráfico de Barras' AS DESCRIPTION, 'bs_g_bar.gif' AS IMAGE, 'CHART' as [TYPE], '' as EXTRA_PARAMETERS
FROM         dbo.VISTA_BS_INDICATORS 
UNION
SELECT     BS_INDICATORSID, 'MB' AS MASK, 'Gráfico de Múltiples Barras' AS DESCRIPTION, 'bs_g_scat.gif' AS IMAGE, 'CHART' as [TYPE], '' as EXTRA_PARAMETERS
FROM         dbo.VISTA_BS_INDICATORS 
WHERE     (RV_CALCULATION_TYPE = 2) OR
                      (RV_CALCULATION_TYPE = 3)
UNION
SELECT     BS_INDICATORSID, 'XM' AS MASK, 'Gráfico de Barras Apiladas' AS DESCRIPTION, 'bs_g_scat.gif' AS IMAGE, 'CHART' as [TYPE], '' as EXTRA_PARAMETERS
FROM         dbo.VISTA_BS_INDICATORS 
WHERE     (RV_CALCULATION_TYPE = 2)
UNION
SELECT     BS_INDICATORSID, 'STR_R' AS MASK, 'Valor Real' AS DESCRIPTION, 'bsStratEd_BoxText.gif' AS IMAGE, 'CHART' as [TYPE], '' as EXTRA_PARAMETERS
FROM         dbo.VISTA_BS_INDICATORS 
UNION
SELECT     BS_INDICATORSID, 'STR_P' AS MASK, 'Valor esperado' AS DESCRIPTION, 'bsStratEd_BoxText.gif' AS IMAGE, 'CHART' as [TYPE], '' as EXTRA_PARAMETERS
FROM         dbo.VISTA_BS_INDICATORS 
UNION
SELECT     BS_INDICATORSID, 'STR_T' AS MASK, 'Período' AS DESCRIPTION, 'bsStratEd_BoxText.gif' AS IMAGE, 'CHART' as [TYPE], '' as EXTRA_PARAMETERS
FROM         dbo.VISTA_BS_INDICATORS 
UNION
SELECT     BS_INDICATORSID, 'ITABLE' AS MASK, 'Mediciones' AS DESCRIPTION, 'IMG16x16_Factanalysis.gif' AS IMAGE, 'HTML' as [TYPE], '' as EXTRA_PARAMETERS
FROM         dbo.VISTA_BS_INDICATORS 
UNION
SELECT     BS_INDICATORSID, 'IASSESS' AS MASK, 'Valoración' AS DESCRIPTION, 'bs_actividad.gif' AS IMAGE, 'HTML' as [TYPE], '' as EXTRA_PARAMETERS
FROM         dbo.VISTA_BS_INDICATORS 


UNION
SELECT     BS_INDICATORSID, 'IPERIODHTML' AS MASK, 'Tablero de Estado' AS DESCRIPTION, 'calc.gif' AS IMAGE, 'HTML' as [TYPE], 'HTMLDEF_FILE=HTMLDef_BSIndicatorFullStatusCharts.xml' as EXTRA_PARAMETERS
FROM         dbo.VISTA_BS_INDICATORS 

UNION
SELECT     BS_INDICATORSID, 'IPERIODHTML' AS MASK, 'Registro de Estado' AS DESCRIPTION, 'IMG16x16_TaskQuestion.gif' AS IMAGE, 'HTML' as [TYPE], 'HTMLDEF_FILE=HTMLDef_BSIndicatorStatusRecordHTML.xml' as EXTRA_PARAMETERS
FROM         dbo.VISTA_BS_INDICATORS 

UNION
SELECT     BS_INDICATORSID, 'IPERIODHTML' AS MASK, 'Contenedor Semaforizado' AS DESCRIPTION, 'IMG16x16_ControlPlazos.gif' AS IMAGE, 'HTML' as [TYPE], 'HTMLDEF_FILE=HTMLDef_BSIndicatorStatusContainerHTML.xml' as EXTRA_PARAMETERS
FROM         dbo.VISTA_BS_INDICATORS 


UNION
SELECT     BS_INDICATORSID, 'ISOURCE' AS MASK, 'Indicadores Fuente' AS DESCRIPTION, 'bs_relacion.gif' AS IMAGE, 'HTML' as [TYPE], '' as EXTRA_PARAMETERS
FROM         dbo.VISTA_BS_INDICATORS 
WHERE     ((SELECT     COUNT(ID_INDICATOR_FUENTE) AS Expr1
                         FROM         dbo.VISTA_BS_INDICATORSREL_FUENTE AS REL
                         WHERE     (BS_INDICATORSID = VISTA_BS_INDICATORS.BS_INDICATORSID)) > 0)
UNION
SELECT     BS_INDICATORSID, 'ITARGET' AS MASK, 'Indicadores Destino' AS DESCRIPTION, 'bs_relacion_to.gif' AS IMAGE, 'HTML' as [TYPE], '' as EXTRA_PARAMETERS
FROM         dbo.VISTA_BS_INDICATORS 
WHERE     ((SELECT     COUNT(ID_INDICATOR_DESTINO) AS Expr1
                         FROM         dbo.VISTA_BS_INDICATORSREL_DESTINO
                         WHERE     (REL_BS_INDICATORSID = VISTA_BS_INDICATORS.BS_INDICATORSID)) > 0)
GO

GO
--SqlScripter----[dbo].[VISTA_INSP_BS_CHARTTYPES].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_INSP_BS_CHARTTYPES]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_INSP_BS_CHARTTYPES] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_INSP_BS_CHARTTYPES]
AS
SELECT     BS_INDICATORSID, '@LOAD_SCRIPT IKDISPATCH.aspx?DSPID=20003&MODE=INDICATOR&BSINDICATORID='+LTRIM(STR(BS_INDICATORSID))+'&DUMMY=' AS MASK, 'Tablero' AS DESCRIPTION, 
                      'BSStratEd_Multi.gif' AS IMAGE
FROM         VISTA_BS_INDICATORS
UNION
SELECT     BS_INDICATORSID, 'I' AS MASK, 'Scoremeter' AS DESCRIPTION, 'bs_g_score.gif' AS IMAGE
FROM         VISTA_BS_INDICATORS
UNION
SELECT     BS_INDICATORSID, 'IS' AS MASK, 'Semáforo' AS DESCRIPTION, 'bs_g_sem.gif' AS IMAGE
FROM         VISTA_BS_INDICATORS
UNION
SELECT     BS_INDICATORSID, 'IT' AS MASK, 'Tendencia' AS DESCRIPTION, 'bs_g_tend.gif' AS IMAGE
FROM         VISTA_BS_INDICATORS
UNION
SELECT     BS_INDICATORSID, 'IC' AS MASK, 'Gráfico de Barras' AS DESCRIPTION, 'bs_g_bar.gif' AS IMAGE
FROM         VISTA_BS_INDICATORS
UNION
SELECT     BS_INDICATORSID, 'IM' AS MASK, 'Gráfico de Múltiples Barras' AS DESCRIPTION, 'bs_g_scat.gif' AS IMAGE
FROM         VISTA_BS_INDICATORS
WHERE     (RV_CALCULATION_TYPE = 2 OR
                      RV_CALCULATION_TYPE = 3)
UNION
SELECT     BS_INDICATORSID, 'IX' AS MASK, 'Gráfico de Barras Apiladas' AS DESCRIPTION, 'bs_g_scat.gif' AS IMAGE
FROM         VISTA_BS_INDICATORS
WHERE     (RV_CALCULATION_TYPE = 2)
UNION
SELECT     BS_INDICATORSID, 'ITR' AS MASK, 'Valor Real' AS DESCRIPTION, 'bsStratEd_BoxText.gif' AS IMAGE
FROM         VISTA_BS_INDICATORS
UNION
SELECT     BS_INDICATORSID, 'ITP' AS MASK, 'Valor esperado' AS DESCRIPTION, 'bsStratEd_BoxText.gif' AS IMAGE
FROM         VISTA_BS_INDICATORS
UNION
SELECT     BS_INDICATORSID, 'ITT' AS MASK, 'Período' AS DESCRIPTION, 'bsStratEd_BoxText.gif' AS IMAGE
FROM         VISTA_BS_INDICATORS
GO

GO
--SqlScripter----[dbo].[VISTA_INVOLUCRADOSNCACTIVA].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_INVOLUCRADOSNCACTIVA]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_INVOLUCRADOSNCACTIVA] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_INVOLUCRADOSNCACTIVA]
AS
SELECT dbo.NCINVOLUCRADOS.CODIGOCARGO, dbo.NCINVOLUCRADOS.CODIGONC, dbo.NCINVOLUCRADOS.CODIGO, dbo.ORGANIGRAMA.DESCRIPCION AS CARGO, dbo.USUARIOS.USUARIO, dbo.USUARIOS.EMAIL, 
                  dbo.NCINVOLUCRADOS.NIVEL, dbo.USUARIOS.CODIGO AS CODIGOUSUARIO, dbo.NCMAINPROD.CODIGOFORO, dbo.ORGANIGRAMA.TIPO
FROM     dbo.CARGOSUSUARIOS INNER JOIN
                  dbo.USUARIOS ON dbo.USUARIOS.CODIGO = dbo.CARGOSUSUARIOS.CODIGOUSUARIO FULL OUTER JOIN
                  dbo.ORGANIGRAMA FULL OUTER JOIN
                  dbo.NCMAINPROD INNER JOIN
                  dbo.NCINVOLUCRADOS ON dbo.NCMAINPROD.CODIGO = dbo.NCINVOLUCRADOS.CODIGONC ON dbo.ORGANIGRAMA.CODIGO = dbo.NCINVOLUCRADOS.CODIGOCARGO ON 
                  dbo.CARGOSUSUARIOS.CODIGOCARGO = dbo.ORGANIGRAMA.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_INVOLUCRADOSTAREA].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_INVOLUCRADOSTAREA]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_INVOLUCRADOSTAREA] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_INVOLUCRADOSTAREA]
AS
SELECT     dbo.NCTAREASDESTINATARIOS.CODIGO AS NCTAREASDESTINATARIOS_CODIGO, dbo.NCTAREASDESTINATARIOS.CODIGOTAREA,
dbo.NCTAREAS.DESCRIPCION, dbo.NCTAREAS.L_CUMPLIDA, dbo.NCTAREASDESTINATARIOS.CODIGOCARGO, dbo.NCTAREAS.CODIGONC,
dbo.VISTA_INVOLUCRADOSUSUARIOS.NOMBRECARGO, dbo.VISTA_INVOLUCRADOSUSUARIOS.USUARIO, dbo.VISTA_INVOLUCRADOSUSUARIOS.TIPO,
dbo.VISTA_INVOLUCRADOSUSUARIOS.CODIGOUSUARIO, dbo.VISTA_INVOLUCRADOSUSUARIOS.EMAIL, dbo.VISTA_INVOLUCRADOSUSUARIOS.NIVEL,
dbo.VISTA_INVOLUCRADOSUSUARIOS.NOMBRECARGOFULL, dbo.NCTAREASDESTINATARIOS.INVOLMENT_METHOD,
dbo.NCTAREAS.CODIGOFORO
FROM         dbo.NCTAREASDESTINATARIOS INNER JOIN
dbo.NCTAREAS ON dbo.NCTAREASDESTINATARIOS.CODIGOTAREA = dbo.NCTAREAS.CODIGO INNER JOIN
dbo.VISTA_INVOLUCRADOSUSUARIOS ON dbo.NCTAREAS.CODIGONC = dbo.VISTA_INVOLUCRADOSUSUARIOS.CODIGONC AND
dbo.NCTAREASDESTINATARIOS.CODIGOCARGO = dbo.VISTA_INVOLUCRADOSUSUARIOS.CODIGOCARGO
GO

GO
--SqlScripter----[dbo].[VISTA_INVOLUCRADOSUSUARIOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_INVOLUCRADOSUSUARIOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_INVOLUCRADOSUSUARIOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_INVOLUCRADOSUSUARIOS]
AS
SELECT     I.CODIGONC, I.NOMBRECARGO, I.CODIGOCARGO, C.USUARIO, C.CODIGOUSUARIO, C.TIPO, CASE WHEN NOT USUARIO IS NULL AND (TIPO = 1 OR
                      TIPO = 4) THEN I.NOMBRECARGO + ' (' + USUARIO + ')' WHEN USUARIO IS NULL AND (TIPO = 1 OR
                      TIPO = 4) THEN I.NOMBRECARGO + ' (Sin usuario asociado)' ELSE I.NOMBRECARGO END AS NOMBRECARGOFULL, I.NIVEL, C.EMAIL, 
                      I.INVOLMENT_METHOD, C.L_DELETED
FROM         dbo.NCINVOLUCRADOS AS I INNER JOIN
                      dbo.VISTA_ORGANIGRAMA AS C ON I.CODIGOCARGO = C.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_MATRIZ_APROBACIONES].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_MATRIZ_APROBACIONES]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_MATRIZ_APROBACIONES] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_MATRIZ_APROBACIONES]
AS
SELECT     O.DESCRIPCION AS CARGO, S.DESCRIPCION AS AREA, C.DESCRIPCION AS OPERACION, 
                      CASE WHEN MA.L_BUDGET = 1 THEN 'En Budget' ELSE 'NO Budget' END AS BUDGET, MA.L_BUDGET, MA.MONTO_MAXIMO, 
                      MA.TBL_CATEGORIAS_APROBACIONES_ID, MA.TBL_SECTORES_ID, MA.POSITION_ID, MA.MATRIZ_APROBACIONES_ID, MA.COMENTARIOS, 
                      MA.AUTORIZAN_POSITION_IDS
FROM         dbo.MATRIZ_APROBACIONES AS MA INNER JOIN
                      dbo.VISTA_ORGANIGRAMA AS O ON O.CODIGO = MA.POSITION_ID INNER JOIN
                      dbo.TBL_AREA_CAUSAS AS S ON S.CODIGO = MA.TBL_SECTORES_ID INNER JOIN
                      dbo.TBL_CATEGORIAS_APROBACIONES AS C ON C.CODIGO = MA.TBL_CATEGORIAS_APROBACIONES_ID
GO

GO
--SqlScripter----[dbo].[VISTA_NC_WF_ETAPAS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_NC_WF_ETAPAS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_NC_WF_ETAPAS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_NC_WF_ETAPAS]
AS

SELECT 
N.CODIGO AS ISSUE_ID
,N.TIPO AS MODULE_ID
,N.DESCRIPCION AS ISSUE_DESC
,N.CATEGORIADESC AS ISSUE_CAT
,N.CATEGORIA AS ISSUE_CATID
,N.ESTADO AS ISSUE_STATUS
,N.CODIGOCARGOADMINISTRADOR AS ISSUE_COORDINATOR_POSITIONID
,ISSUES_RESPS.DESCRIPCION AS  ISSUE_COORDINATOR_POSITION
,ISSUES_RESPS.CODIGOUSUARIO AS  ISSUE_COORDINATOR_USERID
,ISSUES_RESPS.USUARIO AS  ISSUE_COORDINATOR_USER
,M.DESCRIPTION AS MODULE_DESC
,E.DESCRIPCIONCORTA AS STAGE_DESC
,E.ETAPA AS STAGE_NUMBER
,E.FECHAVENCIMIENTO AS STAGE_DEADLINE
,ISNULL(E.SYSTEM_INICIADA,0) AS  STAGE_L_STARTED
,ISNULL(E.SYSTEM_CUMPLIDA,0) AS STAGE_L_COMPLETED
,E.FECHACUMPLIMIENTO AS STAGE_ENDDATE
,EWF_RESPS.USUARIO AS STAGE_RESP_USER
,EWF_RESPS.CODIGOUSUARIO AS STAGE_RESP_USERID
,EWF_RESPS.DESCRIPCION AS STAGE_RESP_POSITION
,EWF_RESPS.CODIGO  AS STAGE_RESP_POSITIONID

,N.AVA_STATE AS ISSUE_AVA_STATE
,N.AVA_PROY_DELAY_STATE AS ISSUE_AVA_PROY_DELAY_STATE
,CASE 
    WHEN AVA_OPTIONS!=0 THEN
        dbo.CONCAT5('<a style="cursor:pointer" IKballoonHeight="145" IKballoonExpr="NCAVA-', LTRIM(STR(N.CODIGO)) ,'"> <img src="Images/bs_ind_status_Data',N.AVA_STATE,'.png" </a>') 
    ELSE
        'N/A'
END AS ISSUE_AVA_STATE_IMG,
CASE 
    WHEN AVA_OPTIONS!=0 THEN
        dbo.CONCAT5('<a style="cursor:pointer" IKballoonHeight="145" IKballoonExpr="NCAVA-', LTRIM(STR(N.CODIGO)) ,'"> <img src="Images/bs_ind_status_Data',N.AVA_PROY_DELAY_STATE,'.png" </a>') 
    ELSE
        'N/A'
END AS ISSUE_AVA_PROY_DELAY_STATE_IMG   


FROM NCETAPAS E 
JOIN NCMAINPROD N ON N.CODIGO=E.CODIGONC
JOIN XML_MODULE_DEFINITIONS M ON M.MODULEID=N.TIPO
JOIN VISTA_ORGANIGRAMA EWF_RESPS ON EWF_RESPS.CODIGO=E.CODIGO_CARGO_RESPONSABLE
JOIN VISTA_ORGANIGRAMA ISSUES_RESPS ON ISSUES_RESPS.CODIGO=N.CODIGOCARGOADMINISTRADOR

WHERE NOT E.FECHAVENCIMIENTO IS NULL
GO

GO
--SqlScripter----[dbo].[VISTA_NCINTERRELACIONES].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_NCINTERRELACIONES]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_NCINTERRELACIONES] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_NCINTERRELACIONES]
AS
SELECT     dbo.NCINTERRELACIONES.CODIGO, NCMAINPROD_ORIGEN.DESCRIPCION AS ORIGEN_DESCRIPCION,
NCMAINPROD_RELACIONADO.DESCRIPCION AS RELACIONADO_DESCRIPCION, NCMAINPROD_ORIGEN.TIPO AS ORIGEN_TIPO,
NCMAINPROD_RELACIONADO.TIPO AS RELACIONADO_TIPO, dbo.NCINTERRELACIONES.CODIGOASUNTOORIGEN,
dbo.NCINTERRELACIONES.CODIGOASUNTORELACIONADO, NCMAINPROD_ORIGEN.ESTADO AS ORIGEN_ESTADO,
NCMAINPROD_RELACIONADO.ESTADO AS RELACIONADO_ESTADO, NCESTADOS_ORIGEN.DESCRIPCION AS ORIGEN_ESTADODESC,
NCESTADOS_RELACIONADO.DESCRIPCION AS RELACIONADO_ESTADODESC
FROM         dbo.NCINTERRELACIONES INNER JOIN
dbo.NCMAINPROD NCMAINPROD_ORIGEN ON dbo.NCINTERRELACIONES.CODIGOASUNTOORIGEN = NCMAINPROD_ORIGEN.CODIGO INNER JOIN
dbo.NCMAINPROD NCMAINPROD_RELACIONADO ON
dbo.NCINTERRELACIONES.CODIGOASUNTORELACIONADO = NCMAINPROD_RELACIONADO.CODIGO INNER JOIN
dbo.NCESTADOS NCESTADOS_ORIGEN ON NCMAINPROD_ORIGEN.ESTADO = NCESTADOS_ORIGEN.CODIGO INNER JOIN
dbo.NCESTADOS NCESTADOS_RELACIONADO ON NCMAINPROD_RELACIONADO.ESTADO = NCESTADOS_RELACIONADO.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_NCMAINPROD].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_NCMAINPROD]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_NCMAINPROD] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_NCMAINPROD]
AS

SELECT 
	NCMAINPROD.* ,
	NCESTADOS.DESCRIPCION AS NCESTADOS_DESCRIPCION
FROM NCMAINPROD
JOIN NCESTADOS ON NCESTADOS.CODIGO=NCMAINPROD.ESTADO
GO

GO
--SqlScripter----[dbo].[VISTA_NCTAREAS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_NCTAREAS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_NCTAREAS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_NCTAREAS]
AS
SELECT        dbo.NCTAREAS.CODIGO AS CODIGOTAREA, dbo.NCTAREAS.CODIGONC, dbo.NCMAINPROD.TIPO AS TIPONC, dbo.NCTAREAS.ACCION, dbo.NCTAREAS.FECHA, 
                         dbo.NCTAREAS.DESCRIPCION, dbo.NCTAREAS.INSTRUCCIONES, dbo.NCTAREAS.OPCIONENVIO, dbo.NCTAREAS.FECHAACCIONSYS, 
                         dbo.NCTAREAS.ACCIONSYS, dbo.NCTAREAS.USUARIOALTA, dbo.NCTAREAS.ALTA, dbo.NCTAREAS.USUARIOBAJA, dbo.NCTAREAS.BAJA, 
                         dbo.NCTAREAS.ETAPA, dbo.NCTAREAS.FECHALIMITE, dbo.NCTAREAS.TAREARELACIONADA, dbo.NCTAREAS.CODIGOTAREACONDICIONAL, 
                         dbo.NCTAREAS.CUMPLIMIENTO, dbo.NCTAREAS.USUARIOCUMPLIMIENTO, dbo.NCTAREAS.COMENTARIOSCUMPLIMIENTO, 
                         dbo.NCTAREAS.MANDARENFECHA, dbo.NCTAREAS.TAREAMADRE, dbo.NCTAREAS.L_CUMPLIDA, dbo.NCTAREAS.L_LEIDO, 
                         dbo.NCTAREAS.L_NOTIFICADOADM, dbo.NCTAREAS.L_TIENERELACIONADOS, dbo.NCTAREAS.L_NOMOSTRAR, dbo.NCTAREAS.OPCIONVENCIMIENTO, 
                         dbo.NCTAREAS.DIASVENCIMIENTO, dbo.NCTAREAS.CARGOALTA, dbo.NCTAREAS.CODIGOCARGOALTA, dbo.NCTAREAS.CODIGOFORO, dbo.NCTAREAS.LOTE, 
                         dbo.NCTAREAS.USUARIOINICIO, dbo.NCTAREAS.COMENTARIOSINICIO, dbo.NCTAREAS.TIPO_TAREA, dbo.NCTAREAS.L_AUTOCUMPLIR, 
                         dbo.NCTAREAS.CODIGOTAREACONTRIBUYE, dbo.NCTAREAS.COSTO_ESTIMADO, dbo.NCTAREAS.COSTO_REAL, dbo.NCTAREAS.CAMPOS_VAR, 
                         dbo.NCTAREAS.L_AUTOINICIAR, dbo.NCTAREAS.L_WORKINGDAYS, dbo.NCTAREAS.DURACION, dbo.NCTAREAS.DURACION_STR, 
                         dbo.NCTAREAS.TOT_DELAY, dbo.NCTAREAS.COMENTARIOSBAJA, dbo.NCTAREAS.TASKSCATEGORIES_ID, 
                         dbo.NCMAINPROD.DESCRIPCION AS DESCRIPCIONASUNTO, dbo.NCTAREAS.IK_HTMLREPORTS_OPTIONS_ID, dbo.NCTAREAS.PRIORIDAD, 
                         dbo.NCTAREAS.IKI_MASTERID, dbo.TASKSCATEGORIES.DESCRIPTION AS TASK_CAT_DESC, dbo.NCTAREAS.AVA_OPTIONS AS TASK_AVA_OPTIONS, 
                         dbo.NCTAREAS.AVA_REAL_PERC AS TASK_AVA_REAL_PERC, dbo.NCTAREAS.AVA_PRED_PERC AS TASK_AVA_PRED_PERC
FROM            dbo.NCMAINPROD INNER JOIN
                         dbo.NCTAREAS ON dbo.NCMAINPROD.CODIGO = dbo.NCTAREAS.CODIGONC LEFT OUTER JOIN
                         dbo.TASKSCATEGORIES ON dbo.TASKSCATEGORIES.TASKSCATEGORIES_ID = dbo.NCTAREAS.TASKSCATEGORIES_ID
GO

GO
--SqlScripter----[dbo].[VISTA_NCTAREAS_CUMPLIDAS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_NCTAREAS_CUMPLIDAS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_NCTAREAS_CUMPLIDAS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_NCTAREAS_CUMPLIDAS]
AS
SELECT     T.CODIGO, N.DESCRIPCION AS DESCRIPCIONNC, T.DESCRIPCION AS DESCRIPCIONTAREA, T.CODIGONC, N.TIPO AS TIPONC,
T.MANDARENFECHA AS FEC_INIPREV, T.FECHA AS FEC_INIREAL, T.CUMPLIMIENTO AS FEC_FINREAL, T.FECHALIMITE AS FEC_FINPREV,
dbo.ik_getWorkingDays(T.MANDARENFECHA, T.FECHALIMITE)+1 AS DURACION_EST, dbo.ik_getWorkingDays(T.FECHA, T.CUMPLIMIENTO)+1
AS DURACION_REAL, dbo.ik_getWorkingDays(T.FECHALIMITE, T.CUMPLIMIENTO) AS DEMORA
FROM         dbo.NCTAREAS T INNER JOIN
dbo.NCMAINPROD N ON N.CODIGO = T.CODIGONC
WHERE     (T.L_CUMPLIDA = 1)
GO

GO
--SqlScripter----[dbo].[VISTA_NCTAREAS_DEPENDENCIES].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_NCTAREAS_DEPENDENCIES]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_NCTAREAS_DEPENDENCIES] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_NCTAREAS_DEPENDENCIES]
AS
SELECT     dbo.NCTAREAS_DEPENDENCIES.CODIGOTAREA, dbo.NCTAREAS_DEPENDENCIES.CODIGOTAREAREL, dbo.NCTAREAS.DESCRIPCION,
dbo.NCTAREAS.TIPO_TAREA
FROM         dbo.NCTAREAS_DEPENDENCIES INNER JOIN
dbo.NCTAREAS ON dbo.NCTAREAS_DEPENDENCIES.CODIGOTAREAREL = dbo.NCTAREAS.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_NCTAREASUSUARIOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_NCTAREASUSUARIOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_NCTAREASUSUARIOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_NCTAREASUSUARIOS]
AS
SELECT     dbo.NCTAREAS.CODIGO AS NCTAREAS_CODIGO, dbo.NCTAREAS.CODIGONC, dbo.NCTAREAS.FECHALIMITE,
dbo.NCTAREAS.DESCRIPCION AS NCTAREAS_DESCRIPCION, dbo.NCMAINPROD.TIPO, dbo.NCTAREASDESTINATARIOS.CODIGOCARGO,
dbo.NCTAREAS.FECHA, dbo.NCTAREAS.OPCIONVENCIMIENTO, dbo.NCTAREAS.DIASVENCIMIENTO,
dbo.NCMAINPROD.DESCRIPCION AS NCMAINPROD_DESCRIPCION, dbo.NCTAREAS.L_NOMOSTRAR, dbo.NCTAREAS.CODIGOFORO
FROM         dbo.NCMAINPROD INNER JOIN
dbo.NCTAREAS ON dbo.NCMAINPROD.CODIGO = dbo.NCTAREAS.CODIGONC INNER JOIN
dbo.NCTAREASDESTINATARIOS ON dbo.NCTAREAS.CODIGO = dbo.NCTAREASDESTINATARIOS.CODIGOTAREA
WHERE     (dbo.NCTAREAS.L_CUMPLIDA = 0) AND (dbo.NCTAREAS.FECHA IS NOT NULL)
GO

GO
--SqlScripter----[dbo].[VISTA_NCTAREASUSUARIOSMYTASKS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_NCTAREASUSUARIOSMYTASKS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_NCTAREASUSUARIOSMYTASKS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_NCTAREASUSUARIOSMYTASKS]
AS
SELECT     dbo.NCTAREAS.CODIGO AS NCTAREAS_CODIGO, dbo.NCTAREAS.CODIGONC, dbo.NCTAREAS.DESCRIPCION AS NCTAREAS_DESCRIPCION,
dbo.NCMAINPROD.TIPO, dbo.NCTAREASDESTINATARIOS.CODIGOCARGO, dbo.NCMAINPROD.DESCRIPCION AS NCMAINPROD_DESCRIPCION,
dbo.NCTAREAS.L_NOMOSTRAR, dbo.NCTAREAS.CODIGOFORO, dbo.CARGOSUSUARIOS.CODIGOUSUARIO AS CODIGOUSUARIOCOORDINADOR,
dbo.NCTAREAS.FECHALIMITE AS DIMFECVTO, dbo.NCTAREAS.L_CUMPLIDA, dbo.NCTAREAS.FECHA, dbo.NCTAREAS.MANDARENFECHA,
dbo.NCTAREAS.TIPO_TAREA
FROM         dbo.NCMAINPROD INNER JOIN
dbo.NCTAREAS ON dbo.NCMAINPROD.CODIGO = dbo.NCTAREAS.CODIGONC INNER JOIN
dbo.NCTAREASDESTINATARIOS ON dbo.NCTAREAS.CODIGO = dbo.NCTAREASDESTINATARIOS.CODIGOTAREA LEFT OUTER JOIN
dbo.CARGOSUSUARIOS ON dbo.CARGOSUSUARIOS.CODIGOCARGO = dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR
GO

GO
--SqlScripter----[dbo].[VISTA_NCTASKSSTEPS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_NCTASKSSTEPS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_NCTASKSSTEPS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_NCTASKSSTEPS]
AS
SELECT        dbo.NCTASKSSTEPS.NCTASKSSTEPS_ID, dbo.NCTASKSSTEPS.DESCRIPTION, dbo.NCTASKSSTEPS.REMARKS, dbo.NCTASKSSTEPS.L_DONE, 
                         dbo.NCTASKSSTEPS.USER_DONE, dbo.NCTASKSSTEPS.DATE_DONE, dbo.NCTASKSSTEPS.USER_CREATE, dbo.NCTASKSSTEPS.DATE_CREATE, 
                         dbo.NCTASKSSTEPS.PERC_ACCOMPLISHMENT, dbo.NCTASKSSTEPS.ORDER_NUMBER, dbo.NCTASKSSTEPS.NCTASKID, 
                         dbo.NCTASKSSTEPS.RESPONSIBLES_MODE, dbo.VISTA_NCTAREAS.CODIGONC, dbo.VISTA_NCTAREAS.TIPONC, 
                         dbo.NCTASKSSTEPS.L_ISMANDATORY, dbo.VISTA_NCTAREAS.DESCRIPCION AS NCTASK_DESC,
                          dbo.VISTA_NCTAREAS.DESCRIPCIONASUNTO
FROM            dbo.NCTASKSSTEPS INNER JOIN
                         dbo.VISTA_NCTAREAS ON dbo.NCTASKSSTEPS.NCTASKID = dbo.VISTA_NCTAREAS.CODIGOTAREA
GO

GO
--SqlScripter----[dbo].[VISTA_NCTASKSSTEPSRESPONSIBLES].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_NCTASKSSTEPSRESPONSIBLES]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_NCTASKSSTEPSRESPONSIBLES] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
/****** Objeto: vista dbo.VISTA_INVOLUCRADOSTAREA    fecha de la secuencia de comandos: 17/02/2003 12:43:53 p.m. ******/
ALTER VIEW [dbo].[VISTA_NCTASKSSTEPSRESPONSIBLES]
AS
SELECT     
NCTASKSSTEPSRESPONSIBLES.NCTASKSSTEPS_ID,
NCTASKSSTEPSRESPONSIBLES.RESPONSIBLE_RANKID AS POSITION_ID,
VISTA_ORGANIGRAMA.CODIGOUSUARIO AS [USER_ID],
VISTA_ORGANIGRAMA.USUARIO AS USER_DESC ,
VISTA_ORGANIGRAMA.DESCRIPCION AS POSITION_DESC,
CASE 
	WHEN NOT USUARIO IS NULL AND (TIPO = 1 OR TIPO = 4) THEN VISTA_ORGANIGRAMA.DESCRIPCION + ' (' + VISTA_ORGANIGRAMA.USUARIO + ')' 
	WHEN USUARIO IS NULL AND (TIPO = 1 OR TIPO = 4) THEN VISTA_ORGANIGRAMA.DESCRIPCION + ' (Sin usuario asociado)' 
	ELSE VISTA_ORGANIGRAMA.DESCRIPCION 
END AS POSITION_FULLDESC


FROM         dbo.NCTASKSSTEPSRESPONSIBLES
JOIN NCTASKSSTEPS ON NCTASKSSTEPS.NCTASKSSTEPS_ID=NCTASKSSTEPSRESPONSIBLES.NCTASKSSTEPS_ID
JOIN VISTA_ORGANIGRAMA ON VISTA_ORGANIGRAMA.CODIGO=NCTASKSSTEPSRESPONSIBLES.RESPONSIBLE_RANKID
GO

GO
--SqlScripter----[dbo].[VISTA_OBJETIVOSNUM_UNIDADES].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_OBJETIVOSNUM_UNIDADES]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_OBJETIVOSNUM_UNIDADES] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_OBJETIVOSNUM_UNIDADES]
AS
SELECT     dbo.VAR_OBJETIVOSNUM_VIEW.V_CODIGO, RTRIM(dbo.VAR_OBJETIVOSNUM_VIEW.V_DESCRIPCION)
+ ' (' + RTRIM(dbo.TBL_UNIDADES.DESCRIPCION) + ')' AS OBJNUM_DESCRIPCION
FROM         dbo.VAR_OBJETIVOSNUM_VIEW INNER JOIN
dbo.TBL_UNIDADES ON dbo.VAR_OBJETIVOSNUM_VIEW.UNIDAD = dbo.TBL_UNIDADES.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_ORGANIGRAMA].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_ORGANIGRAMA]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_ORGANIGRAMA] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
/****** Objeto: vista dbo.VISTA_ORGANIGRAMA    fecha de la secuencia de comandos: 17/02/2003 12:43:53 p.m. ******/
ALTER VIEW [dbo].[VISTA_ORGANIGRAMA]
AS
SELECT        dbo.ORGANIGRAMA.CODIGO, dbo.ORGANIGRAMA.DESCRIPCION, dbo.USUARIOS.USUARIO, dbo.USUARIOS.CODIGO AS CODIGOUSUARIO, 
                         dbo.ORGANIGRAMA.TIPO, dbo.ORGANIGRAMA.CAMINO, dbo.ORGANIGRAMA.CODIGOPADRE, dbo.ORGANIGRAMA.ORDEN, dbo.ORGANIGRAMA.CODIGORAIZ, 
                         dbo.ORGANIGRAMA.TS, dbo.ORGANIGRAMA.CODIGOLUGAR, dbo.ORGANIGRAMA.DESCRIPCIONDOCUMENTO, dbo.USUARIOS.EMAIL, 
                         dbo.USUARIOS.L_DELETED, dbo.ORGANIGRAMA.VIRTUAL, dbo.ORGANIGRAMA.INPUT_DATE, dbo.ORGANIGRAMA.IKI_MASTERID
FROM            dbo.ORGANIGRAMA LEFT OUTER JOIN
                         dbo.CARGOSUSUARIOS INNER JOIN
                         dbo.USUARIOS ON dbo.CARGOSUSUARIOS.CODIGOUSUARIO = dbo.USUARIOS.CODIGO ON 
                         dbo.ORGANIGRAMA.CODIGO = dbo.CARGOSUSUARIOS.CODIGOCARGO
GO

GO
--SqlScripter----[dbo].[VISTA_ORGANIGRAMA_COMPETENCIAS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_ORGANIGRAMA_COMPETENCIAS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_ORGANIGRAMA_COMPETENCIAS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_ORGANIGRAMA_COMPETENCIAS]
AS
SELECT     TOP 100 PERCENT CODIGO, dbo.getOrganigramaYCargo(CAMINO) + '-' + DESCRIPCION AS DESCRIPCION, TIPO
FROM         dbo.ORGANIGRAMA
ORDER BY DESCRIPCION
GO

GO
--SqlScripter----[dbo].[VISTA_ORGANIGRAMA_DEFAULT].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_ORGANIGRAMA_DEFAULT]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_ORGANIGRAMA_DEFAULT] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_ORGANIGRAMA_DEFAULT]
AS
SELECT     dbo.ORGANIGRAMA.CODIGO, dbo.ORGANIGRAMA.DESCRIPCION, dbo.USUARIOS.USUARIO, dbo.USUARIOS.CODIGO AS CODIGOUSUARIO, 
                      dbo.ORGANIGRAMA.TIPO, dbo.ORGANIGRAMA.CAMINO, dbo.ORGANIGRAMA.CODIGOPADRE, dbo.ORGANIGRAMA.ORDEN, 
                      dbo.ORGANIGRAMA.CODIGORAIZ, dbo.ORGANIGRAMA.TS, dbo.ORGANIGRAMA.CODIGOLUGAR
FROM         dbo.ORGANIGRAMA LEFT OUTER JOIN
                      dbo.CARGOSUSUARIOS INNER JOIN
                      dbo.USUARIOS ON dbo.CARGOSUSUARIOS.CODIGOUSUARIO = dbo.USUARIOS.CODIGO ON 
                      dbo.ORGANIGRAMA.CODIGO = dbo.CARGOSUSUARIOS.CODIGOCARGO
WHERE     (dbo.ORGANIGRAMA.CODIGORAIZ IN
                          (SELECT     CODIGO
                            FROM          ORGANIGRAMA
                            WHERE      CODIGORAIZ = 0 AND ORDEN = - 100000))
GO

GO
--SqlScripter----[dbo].[VISTA_ORGANIGRAMA_NODES_SELECT].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_ORGANIGRAMA_NODES_SELECT]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_ORGANIGRAMA_NODES_SELECT] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_ORGANIGRAMA_NODES_SELECT]
AS
SELECT        CASE WHEN [ROOT].CODIGORAIZ IS NULL THEN '' WHEN [ROOT].CODIGORAIZ = 0 AND [ROOT].ORDEN = - 100000 THEN '' ELSE CASE WHEN O.TIPO = 5 AND
                          ROOTVIRTUAL.CODIGORAIZ = 0 AND 
                         ROOTVIRTUAL.ORDEN = - 100000 THEN '' WHEN O.TIPO = 5 THEN ROOTVIRTUAL.DESCRIPCION ELSE [ROOT].DESCRIPCION END END AS ORGANIGRAMA_DESC,
                          CASE WHEN [ROOT].CODIGORAIZ IS NULL THEN O.CODIGO WHEN [ROOT].CODIGORAIZ = 0 AND 
                         [ROOT].ORDEN = - 100000 THEN [ROOT].CODIGO ELSE CASE WHEN O.TIPO = 5 AND ROOTVIRTUAL.CODIGORAIZ = 0 AND 
                         ROOTVIRTUAL.ORDEN = - 100000 THEN VIRTUAL.CODIGORAIZ WHEN O.TIPO = 5 THEN ROOTVIRTUAL.CODIGO ELSE [ROOT].CODIGO END END AS ORGANIGRAMA_ID,
                          O.CODIGO, O.DESCRIPCION, O.USUARIO, O.CODIGOUSUARIO, O.TIPO, O.CAMINO, O.CODIGOPADRE, O.ORDEN, O.CODIGORAIZ, O.TS, O.CODIGOLUGAR, 
                         O.DESCRIPCIONDOCUMENTO, O.EMAIL, O.L_DELETED, O.VIRTUAL, O.INPUT_DATE, O.IKI_MASTERID,O.PERSONA,O.L_IS_IKUSER
FROM            dbo.[VISTA_ORGANIGRAMA_PERSONAS] AS O LEFT OUTER JOIN
                         dbo.ORGANIGRAMA AS ROOT LEFT OUTER JOIN
                         dbo.ORGANIGRAMA AS VIRTUAL LEFT OUTER JOIN
                         dbo.ORGANIGRAMA AS ROOTVIRTUAL ON ROOTVIRTUAL.CODIGO = VIRTUAL.CODIGORAIZ ON VIRTUAL.CODIGO = ROOT.VIRTUAL ON 
                         ROOT.CODIGO = O.CODIGORAIZ
GO

GO
--SqlScripter----[dbo].[VISTA_ORGANIGRAMA_PERSONAS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_ORGANIGRAMA_PERSONAS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_ORGANIGRAMA_PERSONAS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
/****** Objeto: vista dbo.VISTA_ORGANIGRAMA    fecha de la secuencia de comandos: 17/02/2003 12:43:53 p.m. ******/
ALTER VIEW [dbo].[VISTA_ORGANIGRAMA_PERSONAS]
AS
SELECT        dbo.ORGANIGRAMA.CODIGO, dbo.ORGANIGRAMA.DESCRIPCION, dbo.IK_PEOPLE.USUARIO, dbo.IK_PEOPLE.CODIGO AS CODIGOUSUARIO, 
                         dbo.ORGANIGRAMA.TIPO, dbo.ORGANIGRAMA.CAMINO, dbo.ORGANIGRAMA.CODIGOPADRE, dbo.ORGANIGRAMA.ORDEN, dbo.ORGANIGRAMA.CODIGORAIZ, 
                         dbo.ORGANIGRAMA.TS, dbo.ORGANIGRAMA.CODIGOLUGAR, dbo.ORGANIGRAMA.DESCRIPCIONDOCUMENTO, dbo.IK_PEOPLE.EMAIL, 
                         dbo.IK_PEOPLE.L_DELETED, dbo.ORGANIGRAMA.VIRTUAL, dbo.ORGANIGRAMA.INPUT_DATE, dbo.ORGANIGRAMA.IKI_MASTERID, 
						 CASE WHEN D .APELLIDOS IS NULL AND 
                      IK_PEOPLE.L_DELETED = 0 THEN IK_PEOPLE.USUARIO WHEN D .APELLIDOS IS NULL AND 
                      IK_PEOPLE.L_DELETED = 1 THEN 'N/A - ' + IK_PEOPLE.USUARIO WHEN L_IS_IKPERSON_DELETED = 1 THEN 'N/A - ' + D .APELLIDOS + ' ' + ISNULL(D .NOMBRES, '') 
                      ELSE D .APELLIDOS + ' ' + ISNULL(D .NOMBRES, '') END AS PERSONA

						 , IK_PEOPLE.L_IS_IKUSER, D.FOTO,D.CODIGOALMACEN_FOTO 
FROM            
dbo.ORGANIGRAMA 
	LEFT OUTER JOIN dbo.CARGOSUSUARIOS  ON dbo.ORGANIGRAMA.CODIGO = dbo.CARGOSUSUARIOS.CODIGOCARGO
	--INNER JOIN dbo.PERSONAS ON dbo.CARGOSUSUARIOS.CODIGOUSUARIO = dbo.PERSONAS.CODIGO 
	LEFT JOIN dbo.IK_PEOPLE ON dbo.CARGOSUSUARIOS.CODIGOUSUARIO = dbo.IK_PEOPLE.CODIGO 
	LEFT JOIN DATOSUSUARIOS D ON D.CODIGOUSUARIO=IK_PEOPLE.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_PERSONAS_CONTACTOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_PERSONAS_CONTACTOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_PERSONAS_CONTACTOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_PERSONAS_CONTACTOS]
AS
SELECT     TOP 100 PERCENT '(' + dbo.TBL_CLIENTES.DESCRIPCION + ') ' + dbo.VAR_CONTACTO_PERSONAS.NOMBRE AS PERSONA_CONTACTO,
dbo.VAR_CONTACTO_PERSONAS.CODIGO
FROM         dbo.VAR_CONTACTO_PERSONAS INNER JOIN
dbo.VAR_CONTACTOS INNER JOIN
dbo.TBL_CLIENTES ON dbo.TBL_CLIENTES.CODIGO = dbo.VAR_CONTACTOS.CLIENTE ON
dbo.VAR_CONTACTO_PERSONAS.CODIGO_CONTACTO = dbo.VAR_CONTACTOS.CODIGONC
ORDER BY PERSONA_CONTACTO
GO

GO
--SqlScripter----[dbo].[VISTA_PERSONAS_SINACOFI].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_PERSONAS_SINACOFI]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_PERSONAS_SINACOFI] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_PERSONAS_SINACOFI]
AS

SELECT CODIGO,NOMBRES,APELLIDOS,NOMBRES+' '+APELLIDOS AS NOMBRECOMPLETO  FROM PERSONAS WHERE L_DATOS_DISPONIBLES=1 AND L_IS_IKPERSON_DELETED=0
GO

GO
--SqlScripter----[dbo].[VISTA_POSITIONSINGROUPTREE].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_POSITIONSINGROUPTREE]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_POSITIONSINGROUPTREE] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_POSITIONSINGROUPTREE]
AS
SELECT     P.DESCRIPCION, P.USUARIO, P.TIPO, PG.POSITIONID, PG.IKPOSITIONSGROUPSTREEID, P.CODIGOUSUARIO, 
                      dbo.IKPOSITIONSGROUPSTREE.PATH_INT + ',' AS PATH_INT, dbo.IKPOSITIONSGROUPSTREE.PATH_STR, 
                      dbo.IKPOSITIONSGROUPSTREE.GROUPDESCRIPTION, CASE WHEN [ROOT].CODIGORAIZ = 0 AND [ROOT].ORDEN = - 100000 THEN '' ELSE [ROOT].DESCRIPCION  + ': ' END AS ORGANIGRAMA_DESC
FROM         dbo.VISTA_ORGANIGRAMA P 
INNER JOIN ORGANIGRAMA [ROOT] ON [ROOT].CODIGO=P.CODIGORAIZ   
INNER JOIN dbo.IKPOSITIONSGROUPS PG ON P.CODIGO = PG.POSITIONID 
INNER JOIN dbo.IKPOSITIONSGROUPSTREE ON PG.IKPOSITIONSGROUPSTREEID = dbo.IKPOSITIONSGROUPSTREE.IKPOSITIONSGROUPSTREEID
GO

GO
--SqlScripter----[dbo].[VISTA_PROC_NFLOWRELS_FROM_TO].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_PROC_NFLOWRELS_FROM_TO]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_PROC_NFLOWRELS_FROM_TO] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_PROC_NFLOWRELS_FROM_TO]
AS
SELECT     PROC_NODESID_CLIENT AS PROC_NODESID, PROC_NODESID_PROVIDER AS PROC_NODESID_REL, NODEIMG_PROVIDER AS NODEIMG, PROC_FLOW_RELATIONSID, 'Proveedor' AS ROL_DESCRIPTION,
                      PROC_NODEDESCRIPTION_PROVIDER AS PROC_NODEDESCRIPTION,  
                      PROC_PLANSID_PROVIDER AS PROC_PLANSID, ELEMENT, RELATION_STRENGHT, PROC_NODE_TYPESID_PROVIDER AS PROC_NODE_TYPESID
FROM         VISTA_PROC_NODESFLOWRELATIONS
UNION ALL
SELECT     PROC_NODESID_PROVIDER AS PROC_NODESID, PROC_NODESID_CLIENT AS PROC_NODESID_REL,  NODEIMG_CLIENT AS NODEIMG, PROC_FLOW_RELATIONSID, 'Cliente' AS ROL_DESCRIPTION, 
                      PROC_NODEDESCRIPTION_CLIENT AS PROC_NODEDESCRIPTION,  
                      PROC_PLANSID_CLIENT AS PROC_PLANSID, ELEMENT, RELATION_STRENGHT, PROC_NODE_TYPESID_CLIENT AS PROC_NODE_TYPESID
FROM         VISTA_PROC_NODESFLOWRELATIONS
GO

GO
--SqlScripter----[dbo].[VISTA_PROC_NODES].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_PROC_NODES]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_PROC_NODES] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_PROC_NODES]
AS
SELECT     dbo.PROC_NODE_TYPES.DESCRIPTION AS NODETYPE, dbo.PROC_PLANS.DESCRIPTION AS PLANDESCRIPTION,
dbo.PROC_NODES.PROC_NODESID, dbo.PROC_NODES.DESCRIPTION, dbo.PROC_NODES.REMARKS, dbo.PROC_NODES.PROC_PLANSID,
dbo.PROC_NODES.PROC_NODE_TYPESID, dbo.PROC_NODES.BS_LOCATIONSID, dbo.PROC_NODES.RESPONSIBLE_RANK_ID,
dbo.ORGANIGRAMA.DESCRIPCION AS RESPONSIBLE_RANK, dbo.BS_LOCATIONS.DESCRIPTION AS LOCATION, dbo.PROC_NODE_TYPES.NODEIMG,
dbo.PROC_NODES.PROC_NODESID_PARENT, dbo.PROC_NODES.IKI_MASTERID, dbo.PROC_NODES.IK_HTMLREPORTS_OPTIONS_ID
FROM         dbo.PROC_PLANS INNER JOIN
dbo.PROC_NODES ON dbo.PROC_PLANS.PROC_PLANSID = dbo.PROC_NODES.PROC_PLANSID INNER JOIN
dbo.PROC_NODE_TYPES ON dbo.PROC_NODES.PROC_NODE_TYPESID = dbo.PROC_NODE_TYPES.PROC_NODE_TYPESID INNER JOIN
dbo.BS_LOCATIONS ON dbo.PROC_NODES.BS_LOCATIONSID = dbo.BS_LOCATIONS.BS_LOCATIONSID INNER JOIN
dbo.ORGANIGRAMA ON dbo.PROC_NODES.RESPONSIBLE_RANK_ID = dbo.ORGANIGRAMA.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_PROC_NODESCUSTOMRELS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_PROC_NODESCUSTOMRELS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_PROC_NODESCUSTOMRELS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_PROC_NODESCUSTOMRELS]
AS
SELECT     PROC_NODES_TARGET.DESCRIPTION AS PROC_NODEDESCRIPTION_TARGET, 
                      PROC_NODES_SOURCE.DESCRIPTION AS PROC_NODEDESCRIPTION_SOURCE, dbo.PROC_NODES_RELATIONS.PROC_NODESID_SOURCE, 
                      dbo.PROC_NODES_RELATIONS.PROC_NODESID_TARGET, dbo.PROC_NODES_RELATIONS_STRENGTH.DESCRIPTION AS RELATION_STRENGHT, 
                      dbo.PROC_RELATIONS_TYPES.DESCRIPTION_FWD AS RELATION_FWD, dbo.PROC_RELATIONS_TYPES.DESCRIPTION_BACK AS RELATION_BACK, 
                      PROC_NODES_SOURCE.PROC_PLANSID AS PROC_PLANSID_SOURCE, PROC_NODES_TARGET.PROC_PLANSID AS PROC_PLANSID_TARGET, 
                      dbo.PROC_NODES_RELATIONS.PROC_RELATIONS_TYPESID, dbo.PROC_NODES_RELATIONS.PROC_NODES_RELS_STRENGTHID, 
                      dbo.PROC_NODES_RELATIONS.PROC_NODES_RELATIONSID, PROC_NODE_TYPES_TARGET.DESCRIPTION AS NODETYPE_TARGET, 
                      PROC_NODE_TYPES_TARGET.NODEIMG AS NODEIMG_TARGET, PROC_NODE_TYPES_SOURCE.DESCRIPTION AS NODETYPE_SOURCE, 
                      PROC_NODE_TYPES_SOURCE.NODEIMG AS NODEIMG_SOURCE, 
                      PROC_NODES_TARGET.PROC_NODE_TYPESID AS PROC_NODE_TYPESID_TARGET, 
                      PROC_NODES_SOURCE.PROC_NODE_TYPESID AS PROC_NODE_TYPESID_SOURCE
FROM         dbo.PROC_NODES_RELATIONS INNER JOIN
                      dbo.PROC_RELATIONS_TYPES ON 
                      dbo.PROC_NODES_RELATIONS.PROC_RELATIONS_TYPESID = dbo.PROC_RELATIONS_TYPES.PROC_RELATIONS_TYPESID INNER JOIN
                      dbo.PROC_NODES_RELATIONS_STRENGTH ON 
                      dbo.PROC_NODES_RELATIONS.PROC_NODES_RELS_STRENGTHID = dbo.PROC_NODES_RELATIONS_STRENGTH.PROC_NODES_RELS_STRENGTHID
                       INNER JOIN
                      dbo.PROC_NODES PROC_NODES_SOURCE ON 
                      dbo.PROC_NODES_RELATIONS.PROC_NODESID_SOURCE = PROC_NODES_SOURCE.PROC_NODESID INNER JOIN
                      dbo.PROC_NODES PROC_NODES_TARGET ON 
                      dbo.PROC_NODES_RELATIONS.PROC_NODESID_TARGET = PROC_NODES_TARGET.PROC_NODESID INNER JOIN
                      dbo.PROC_NODE_TYPES PROC_NODE_TYPES_TARGET ON 
                      PROC_NODES_TARGET.PROC_NODE_TYPESID = PROC_NODE_TYPES_TARGET.PROC_NODE_TYPESID INNER JOIN
                      dbo.PROC_NODE_TYPES PROC_NODE_TYPES_SOURCE ON 
                      PROC_NODES_SOURCE.PROC_NODE_TYPESID = PROC_NODE_TYPES_SOURCE.PROC_NODE_TYPESID
GO

GO
--SqlScripter----[dbo].[VISTA_PROC_NODESFLOWRELATIONS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_PROC_NODESFLOWRELATIONS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_PROC_NODESFLOWRELATIONS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_PROC_NODESFLOWRELATIONS]
AS
SELECT     PROC_NODES_CLIENTS.DESCRIPTION AS PROC_NODEDESCRIPTION_CLIENT, 
                      PROC_NODES_PROVIDERS.DESCRIPTION AS PROC_NODEDESCRIPTION_PROVIDER, 
                      dbo.PROC_FLOW_RELATIONS.PROC_NODESID_SOURCE AS PROC_NODESID_PROVIDER, 
                      dbo.PROC_FLOW_RELATIONS.PROC_NODESID_TARGET AS PROC_NODESID_CLIENT, 
                      dbo.PROC_FLOW_RELATIONS_ELEMENTS.DESCRIPTION AS ELEMENT, 
                      dbo.PROC_NODES_RELATIONS_STRENGTH.DESCRIPTION AS RELATION_STRENGHT, 
                      PROC_NODES_CLIENTS.PROC_PLANSID AS PROC_PLANSID_CLIENT, PROC_NODES_PROVIDERS.PROC_PLANSID AS PROC_PLANSID_PROVIDER, 
                      dbo.PROC_FLOW_RELATIONS.PROC_FLOW_RELATIONSID, PROC_NODE_TYPES_CLIENTS.DESCRIPTION AS NODETYPE_CLIENT, 
                      PROC_NODE_TYPES_CLIENTS.NODEIMG AS NODEIMG_CLIENT, PROC_NODE_TYPES_PROVIDERS.DESCRIPTION AS NODETYPE_PROVIDER, 
                      PROC_NODE_TYPES_PROVIDERS.NODEIMG AS NODEIMG_PROVIDER, 
                      PROC_NODES_CLIENTS.PROC_NODE_TYPESID AS PROC_NODE_TYPESID_CLIENT, 
                      PROC_NODES_PROVIDERS.PROC_NODE_TYPESID AS PROC_NODE_TYPESID_PROVIDER
FROM         dbo.PROC_FLOW_RELATIONS INNER JOIN
                      dbo.PROC_NODES PROC_NODES_PROVIDERS ON 
                      dbo.PROC_FLOW_RELATIONS.PROC_NODESID_SOURCE = PROC_NODES_PROVIDERS.PROC_NODESID INNER JOIN
                      dbo.PROC_NODES_RELATIONS_STRENGTH ON 
                      dbo.PROC_FLOW_RELATIONS.PROC_NODES_RELS_STRENGTHID = dbo.PROC_NODES_RELATIONS_STRENGTH.PROC_NODES_RELS_STRENGTHID
                       INNER JOIN
                      dbo.PROC_NODES PROC_NODES_CLIENTS ON 
                      dbo.PROC_FLOW_RELATIONS.PROC_NODESID_TARGET = PROC_NODES_CLIENTS.PROC_NODESID INNER JOIN
                      dbo.PROC_NODE_TYPES PROC_NODE_TYPES_CLIENTS ON 
                      PROC_NODES_CLIENTS.PROC_NODE_TYPESID = PROC_NODE_TYPES_CLIENTS.PROC_NODE_TYPESID INNER JOIN
                      dbo.PROC_NODE_TYPES PROC_NODE_TYPES_PROVIDERS ON 
                      PROC_NODES_PROVIDERS.PROC_NODE_TYPESID = PROC_NODE_TYPES_PROVIDERS.PROC_NODE_TYPESID LEFT OUTER JOIN
                      dbo.PROC_FLOW_RELATIONS_ELEMENTS ON 
                      dbo.PROC_FLOW_RELATIONS.PROC_FLOW_RELS_ELEMENTSID = dbo.PROC_FLOW_RELATIONS_ELEMENTS.PROC_FLOW_RELS_ELEMENTSID
GO

GO
--SqlScripter----[dbo].[VISTA_PROC_OPTIONS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_PROC_OPTIONS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_PROC_OPTIONS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_PROC_OPTIONS]
AS
SELECT     dbo.VISTA_PROCPLANS_OPTIONS.PROC_PLANSID, dbo.VISTA_PROCPLANS_OPTIONS.SEC_LEVEL AS PLAN_SEC_LEVEL,
dbo.VISTA_PROCPLANS_OPTIONS.USUARIO AS PLAN_USUARIO, dbo.VISTA_PROCPLANS_OPTIONS.L_WEBGROUP AS PLAN_L_WEBGROUP,
dbo.VISTA_PROCPLANS_OPTIONS.USERID AS PLAN_USERID, dbo.VISTA_PROCNODES_OPTIONS.PROC_NODESID,
dbo.VISTA_PROCPLANS_OPTIONS.DESCRIPTION AS PLAN_DESCRIPTION, dbo.VISTA_PROCNODES_OPTIONS.DESCRIPTION AS NODE_DESCRIPTION,
dbo.VISTA_PROCNODES_OPTIONS.USERID AS NODE_USERID, dbo.VISTA_PROCNODES_OPTIONS.SEC_LEVEL AS NODE_SEC_LEVEL,
dbo.VISTA_PROCNODES_OPTIONS.USUARIO AS NODE_USUARIO, dbo.VISTA_PROCNODES_OPTIONS.L_WEBGROUP AS NODE_L_WEBGROUP,
dbo.VISTA_PROCPLANS_OPTIONS.PROC_PLANS_OPTIONSID
FROM         dbo.VISTA_PROCPLANS_OPTIONS FULL OUTER JOIN
dbo.VISTA_PROCNODES_OPTIONS ON dbo.VISTA_PROCPLANS_OPTIONS.PROC_PLANSID = dbo.VISTA_PROCNODES_OPTIONS.PROC_PLANSID
GO

GO
--SqlScripter----[dbo].[VISTA_PROCNODES_INDICATORS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_PROCNODES_INDICATORS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_PROCNODES_INDICATORS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_PROCNODES_INDICATORS]
AS
SELECT     dbo.VISTA_IKI_BSINDICATORS.I_ID AS BS_INDICATORSID, dbo.VISTA_IKI_BSINDICATORS.BSINDICATOR_DESCRIPTION AS DESCRIPTION,
dbo.VISTA_IKI_BSINDICATORS.BSINDICATOR_LOCATION AS LOCATION, dbo.PROC_NODES.PROC_NODESID,
dbo.PROC_NODES.PROC_PLANSID
FROM         dbo.PROC_NODES INNER JOIN
dbo.VISTA_IKI_BSINDICATORS ON dbo.PROC_NODES.IKI_MASTERID = dbo.VISTA_IKI_BSINDICATORS.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_PROCNODES_ISSUES].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_PROCNODES_ISSUES]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_PROCNODES_ISSUES] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_PROCNODES_ISSUES]
AS
SELECT     dbo.VISTA_IKI_ISSUES.N_ID AS ISSUE_NCPCODE, dbo.VISTA_IKI_ISSUES.ISSUE_MODULEID, dbo.VISTA_IKI_ISSUES.ISSUE_DESCRIPTION,
dbo.PROC_NODES.PROC_NODESID, dbo.PROC_NODES.PROC_PLANSID, dbo.VISTA_IKI_ISSUES.ISSUE_ICON
FROM         dbo.PROC_NODES INNER JOIN
dbo.VISTA_IKI_ISSUES ON dbo.PROC_NODES.IKI_MASTERID = dbo.VISTA_IKI_ISSUES.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_PROCNODES_OPTIONS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_PROCNODES_OPTIONS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_PROCNODES_OPTIONS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_PROCNODES_OPTIONS]
AS
SELECT     dbo.PROC_NODES.PROC_NODESID, dbo.PROC_NODES.DESCRIPTION, dbo.PROC_NODES_OPTIONS.USERID,
dbo.PROC_NODES_OPTIONS.SEC_LEVEL, dbo.USUARIOS.USUARIO, dbo.USUARIOS.L_WEBGROUP, dbo.PROC_NODES.PROC_PLANSID,
dbo.PROC_NODES_OPTIONS.PROC_NODES_OPTIONSID, dbo.PROC_NODES_OPTIONS.SHOWINMYTASKS
FROM         dbo.PROC_NODES INNER JOIN
dbo.PROC_NODES_OPTIONS ON dbo.PROC_NODES.PROC_NODESID = dbo.PROC_NODES_OPTIONS.PROC_NODESID INNER JOIN
dbo.USUARIOS ON dbo.PROC_NODES_OPTIONS.USERID = dbo.USUARIOS.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_PROCNODES_ORGCHART].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_PROCNODES_ORGCHART]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_PROCNODES_ORGCHART] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_PROCNODES_ORGCHART]
AS
SELECT        dbo.VISTA_IKI_ORGCHART.O_ID, dbo.VISTA_IKI_ORGCHART.ORGCHART_DESCRIPTION, dbo.PROC_NODES.PROC_NODESID, 
                         dbo.PROC_NODES.PROC_PLANSID, dbo.VISTA_IKI_ORGCHART.RELATION_DESCRIPTION AS ORGCHART_RELATION_DESCRIPTION, 
                         dbo.VISTA_IKI_ORGCHART.IKI_ORGCHARTID
FROM            dbo.PROC_NODES INNER JOIN
                         dbo.VISTA_IKI_ORGCHART ON dbo.PROC_NODES.IKI_MASTERID = dbo.VISTA_IKI_ORGCHART.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_PROCPLANS_DOCUMENTS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_PROCPLANS_DOCUMENTS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_PROCPLANS_DOCUMENTS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_PROCPLANS_DOCUMENTS]
AS
SELECT     dbo.DOCUMENTOS.CODIGO AS CODIGODOCUMENTO, dbo.DOCUMENTOS.ESTADO, dbo.DOCUMENTOS.CODIGOISO, dbo.DOCUMENTOS.NOMBRE,
dbo.DOCUMENTOS.REVISION, dbo.PROC_PLANS.PROC_PLANSID, dbo.DOCUMENTOS.C_REVISION
FROM         dbo.DOCUMENTOS INNER JOIN
dbo.IKI_DOCUMENTS ON dbo.DOCUMENTOS.CODIGO = dbo.IKI_DOCUMENTS.D_ID INNER JOIN
dbo.PROC_PLANS ON dbo.IKI_DOCUMENTS.IKI_MASTERID = dbo.PROC_PLANS.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_PROCPLANS_OPTIONS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_PROCPLANS_OPTIONS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_PROCPLANS_OPTIONS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_PROCPLANS_OPTIONS]
AS
SELECT     dbo.PROC_PLANS.PROC_PLANSID, dbo.PROC_PLANS.DESCRIPTION, dbo.PROC_PLANS_OPTIONS.USERID, dbo.PROC_PLANS_OPTIONS.SEC_LEVEL,
dbo.USUARIOS.USUARIO, dbo.USUARIOS.L_WEBGROUP, dbo.PROC_PLANS_OPTIONS.PROC_PLANS_OPTIONSID,
dbo.PROC_PLANS_OPTIONS.SHOWINMYTASKS
FROM         dbo.PROC_PLANS INNER JOIN
dbo.PROC_PLANS_OPTIONS ON dbo.PROC_PLANS.PROC_PLANSID = dbo.PROC_PLANS_OPTIONS.PROC_PLANSID INNER JOIN
dbo.USUARIOS ON dbo.PROC_PLANS_OPTIONS.USERID = dbo.USUARIOS.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_PROCPLANS_SVGDRAWINGS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_PROCPLANS_SVGDRAWINGS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_PROCPLANS_SVGDRAWINGS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_PROCPLANS_SVGDRAWINGS]
AS
SELECT     dbo.PROC_PLANS.PROC_PLANSID, dbo.VISTA_IKI_SVGDRAWINGS.SVG_ID, dbo.VISTA_IKI_SVGDRAWINGS.SVGDRAWING_TYPE,
dbo.VISTA_IKI_SVGDRAWINGS.SVGDRAWING_DESCRIPTION, dbo.VISTA_IKI_SVGDRAWINGS.SVGDRAWING_ICON
FROM         dbo.PROC_PLANS INNER JOIN
dbo.VISTA_IKI_SVGDRAWINGS ON dbo.PROC_PLANS.IKI_MASTERID = dbo.VISTA_IKI_SVGDRAWINGS.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_PRODUCTOS_OTROS_ELEMENTOS_AFECTADOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_PRODUCTOS_OTROS_ELEMENTOS_AFECTADOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_PRODUCTOS_OTROS_ELEMENTOS_AFECTADOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_PRODUCTOS_OTROS_ELEMENTOS_AFECTADOS]
AS
SELECT     CODIGO, DESCRIPCION
                       FROM          dbo.TBL_PRODUCTOS
GO

GO
--SqlScripter----[dbo].[VISTA_QUEJAS_INCIDENTESINT].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER OFF
GO
IF OBJECT_ID('[dbo].[VISTA_QUEJAS_INCIDENTESINT]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_QUEJAS_INCIDENTESINT] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_QUEJAS_INCIDENTESINT]
AS
SELECT     dbo.VAR_QUEJAS_VIEW.V_CODIGO, dbo.VAR_QUEJAS_VIEW.V_CATEGORIA, dbo.VAR_QUEJAS_VIEW.V_CATEGORIADESC,
dbo.VAR_QUEJAS_VIEW.V_ESTADO, dbo.VAR_QUEJAS_VIEW.V_DESCRIPCION, dbo.VAR_QUEJAS_VIEW.CODIGO,
dbo.VAR_QUEJAS_VIEW.CODIGONC, dbo.VAR_QUEJAS_VIEW.FECHA AS FECHADETECCION,
dbo.VAR_QUEJAS_VIEW.SECTORDETECCION,
dbo.VAR_QUEJAS_VIEW.DESCDETECCION, dbo.VAR_QUEJAS_VIEW.SECTOROCURRENCIA,
dbo.VAR_QUEJAS_VIEW.TIPONC, -1 as SIN_ORIGEN_NC, -1 as SIN_TIPO_NC, -1 as SIN_VIENE_DE_AUDIT,
-1 as SIN_CLAUSULA_NC
FROM         dbo.VAR_QUEJAS_VIEW
WHERE dbo.VAR_QUEJAS_VIEW.CORRESPONDE = 1
UNION
SELECT                  dbo.VAR_INCIDENTESINT_VIEW.V_CODIGO, dbo.VAR_INCIDENTESINT_VIEW.V_CATEGORIA,
dbo.VAR_INCIDENTESINT_VIEW.V_CATEGORIADESC, dbo.VAR_INCIDENTESINT_VIEW.V_ESTADO ,
dbo.VAR_INCIDENTESINT_VIEW.V_DESCRIPCION, dbo.VAR_INCIDENTESINT_VIEW.CODIGO ,
dbo.VAR_INCIDENTESINT_VIEW.CODIGONC, dbo.VAR_INCIDENTESINT_VIEW.FECHA,
dbo.VAR_INCIDENTESINT_VIEW.SECTORDETECCION ,
dbo.VAR_INCIDENTESINT_VIEW.DESCDETECCION ,
dbo.VAR_INCIDENTESINT_VIEW.SECTOROCURRENCIA ,
dbo.VAR_INCIDENTESINT_VIEW.TIPONC, dbo.VAR_INCIDENTESINT_VIEW.SIN_ORIGEN_NC, dbo.VAR_INCIDENTESINT_VIEW.SIN_TIPO_NC, dbo.VAR_INCIDENTESINT_VIEW.SIN_VIENE_DE_AUDIT,
dbo.VAR_INCIDENTESINT_VIEW.SIN_CLAUSULA_NC
FROM  			dbo.VAR_INCIDENTESINT_VIEW
GO

GO
--SqlScripter----[dbo].[VISTA_QUEJAS_NCINTERNAS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER OFF
GO
IF OBJECT_ID('[dbo].[VISTA_QUEJAS_NCINTERNAS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_QUEJAS_NCINTERNAS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_QUEJAS_NCINTERNAS]
AS
SELECT     dbo.VAR_QUEJAS_VIEW.V_CODIGO, dbo.VAR_QUEJAS_VIEW.V_CATEGORIA, dbo.VAR_QUEJAS_VIEW.V_CATEGORIADESC,
dbo.VAR_QUEJAS_VIEW.V_ESTADO, dbo.VAR_QUEJAS_VIEW.V_DESCRIPCION, dbo.VAR_QUEJAS_VIEW.CODIGO,
dbo.VAR_QUEJAS_VIEW.CODIGONC, dbo.VAR_QUEJAS_VIEW.FECHA AS FECHADETECCION, dbo.VAR_QUEJAS_VIEW.SECTORDETECCION,
dbo.VAR_QUEJAS_VIEW.DESCDETECCION, dbo.VAR_QUEJAS_VIEW.SECTOROCURRENCIA,
dbo.VAR_QUEJAS_VIEW.CODIGOCAUSAPRIMARIA, dbo.VAR_QUEJAS_VIEW.CODIGOCAUSASECUNDARIA, dbo.VAR_QUEJAS_VIEW.LOTE,
dbo.VAR_QUEJAS_VIEW.TIPONC, 1 AS CARACTER , -1 as SIN_ORIGEN_NC, -1 as SIN_TIPO_NC, -1 as SIN_VIENE_DE_AUDIT
FROM         dbo.VAR_QUEJAS_VIEW
WHERE dbo.VAR_QUEJAS_VIEW.CORRESPONDE = 1
UNION ALL
SELECT                  dbo.VAR_NOCONFORMIDADES_VIEW.V_CODIGO, dbo.VAR_NOCONFORMIDADES_VIEW.V_CATEGORIA,
dbo.VAR_NOCONFORMIDADES_VIEW.V_CATEGORIADESC, dbo.VAR_NOCONFORMIDADES_VIEW.V_ESTADO ,
dbo.VAR_NOCONFORMIDADES_VIEW.V_DESCRIPCION, dbo.VAR_NOCONFORMIDADES_VIEW.CODIGO ,
dbo.VAR_NOCONFORMIDADES_VIEW.CODIGONC, dbo.VAR_NOCONFORMIDADES_VIEW.FECHADETECCION,
dbo.VAR_NOCONFORMIDADES_VIEW.SECTORDETECCION , dbo.VAR_NOCONFORMIDADES_VIEW.DESCDETECCION ,
dbo.VAR_NOCONFORMIDADES_VIEW.SECTOROCURRENCIA ,
dbo.VAR_NOCONFORMIDADES_VIEW.CODIGOCAUSAPRIMARIA, dbo.VAR_NOCONFORMIDADES_VIEW.CODIGOCAUSASECUNDARIA ,
dbo.VAR_NOCONFORMIDADES_VIEW.LOTE, dbo.VAR_NOCONFORMIDADES_VIEW.TIPONC, dbo.VAR_NOCONFORMIDADES_VIEW.CARACTER,
dbo.VAR_NOCONFORMIDADES_VIEW.SIN_ORIGEN_NC, dbo.VAR_NOCONFORMIDADES_VIEW.SIN_TIPO_NC, dbo.VAR_NOCONFORMIDADES_VIEW.SIN_VIENE_DE_AUDIT
FROM  			dbo.VAR_NOCONFORMIDADES_VIEW
GO

GO
--SqlScripter----[dbo].[VISTA_REL_BSINDICATOR_ISSUES].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_REL_BSINDICATOR_ISSUES]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_REL_BSINDICATOR_ISSUES] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_REL_BSINDICATOR_ISSUES]
AS
SELECT     dbo.VISTA_IKI_ISSUES.N_ID, dbo.VISTA_BS_INDICATORS.BS_INDICATORSID, dbo.VISTA_BS_INDICATORS.DESCRIPTION, 
                      dbo.VISTA_BS_INDICATORS.LOCATION
FROM         dbo.VISTA_BS_INDICATORS INNER JOIN
                      dbo.VISTA_IKI_ISSUES ON dbo.VISTA_BS_INDICATORS.IKI_MASTERID = dbo.VISTA_IKI_ISSUES.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_REL_BSSTRATNODE_ISSUES].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_REL_BSSTRATNODE_ISSUES]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_REL_BSSTRATNODE_ISSUES] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_REL_BSSTRATNODE_ISSUES]
AS
SELECT     dbo.VISTA_BS_STRAT_NODES.BS_STRAT_NODESID, dbo.VISTA_BS_STRAT_NODES.[DESCRIPTION], dbo.VISTA_BS_STRAT_NODES.NODEIMG,
dbo.VISTA_BS_STRAT_NODES.NODETYPE, dbo.VISTA_BS_STRAT_NODES.LOCATION, dbo.VISTA_BS_STRAT_NODES.RESPONSIBLE_RANK,
dbo.VISTA_IKI_ISSUES.N_ID
FROM         dbo.VISTA_BS_STRAT_NODES INNER JOIN
dbo.VISTA_IKI_ISSUES ON dbo.VISTA_BS_STRAT_NODES.IKI_MASTERID = dbo.VISTA_IKI_ISSUES.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_REL_BSSTRATNODE_ORG].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_REL_BSSTRATNODE_ORG]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_REL_BSSTRATNODE_ORG] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_REL_BSSTRATNODE_ORG]
AS
SELECT     dbo.BS_STRAT_NODES.BS_STRAT_PLANSID, dbo.BS_STRAT_NODES.BS_STRAT_NODESID, dbo.IKI_ORGCHART.O_ID, dbo.IKI_ORGCHART.ROL, 
                      dbo.BS_STRAT_NODES.DESCRIPTION, dbo.IKI_ORGCHART.IKI_ORGCHARTID, dbo.BS_STRAT_NODES.IKI_MASTERID
FROM         dbo.BS_STRAT_NODES INNER JOIN
                      dbo.IKI_ORGCHART ON dbo.BS_STRAT_NODES.IKI_MASTERID = dbo.IKI_ORGCHART.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_REL_BSSTRATNODE_SVGS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_REL_BSSTRATNODE_SVGS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_REL_BSSTRATNODE_SVGS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_REL_BSSTRATNODE_SVGS]
AS
SELECT     dbo.VISTA_BS_STRAT_NODES.BS_STRAT_PLANSID, dbo.VISTA_BS_STRAT_NODES.BS_STRAT_NODESID, dbo.VISTA_BS_STRAT_NODES.DESCRIPTION, dbo.VISTA_BS_STRAT_NODES.NODETYPE, 
                      dbo.VISTA_BS_STRAT_NODES.RESPONSIBLE_RANK, dbo.VISTA_BS_STRAT_NODES.LOCATION, dbo.VISTA_BS_STRAT_NODES.NODEIMG, 
                      dbo.VISTA_IKI_SVGDRAWINGS.SVG_ID,  dbo.VISTA_IKI_SVGDRAWINGS.SVGDRAWING_DESCRIPTION 
FROM         dbo.VISTA_BS_STRAT_NODES INNER JOIN
                      dbo.VISTA_IKI_SVGDRAWINGS ON dbo.VISTA_BS_STRAT_NODES.IKI_MASTERID = dbo.VISTA_IKI_SVGDRAWINGS.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_REL_DOCUMENTS_PROCNODE].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_REL_DOCUMENTS_PROCNODE]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_REL_DOCUMENTS_PROCNODE] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_REL_DOCUMENTS_PROCNODE]
AS


SELECT     

VISTA_DOCUMENTOS.CODIGO AS DOCUMENTO_CODIGO,
VISTA_DOCUMENTOS.NOMBRE AS DOCUMENTO_NOMBRE,
VISTA_DOCUMENTOS.ESTADO AS DOCUMENTO_ESTADO,
dbo.VISTA_IKI_PROCNODES.P_ID,
dbo.VISTA_IKI_PROCNODES.PROCNODE_DESCRIPTION,
dbo.VISTA_IKI_PROCNODES.PROCNODE_NODEIMG


FROM         dbo.VISTA_DOCUMENTOS INNER JOIN
	dbo.VISTA_IKI_PROCNODES ON dbo.VISTA_DOCUMENTOS.IKI_MASTERID = dbo.VISTA_IKI_PROCNODES.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_REL_INDICATOR_ORG].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_REL_INDICATOR_ORG]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_REL_INDICATOR_ORG] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_REL_INDICATOR_ORG]
AS
SELECT     dbo.BS_INDICATORS.BS_INDICATORSID, dbo.BS_INDICATORS.DESCRIPTION, dbo.IKI_ORGCHART.O_ID, dbo.IKI_ORGCHART.ROL, 
                      dbo.IKI_ORGCHART.IKI_ORGCHARTID, dbo.BS_INDICATORS.IKI_MASTERID
FROM         dbo.BS_INDICATORS INNER JOIN
                      dbo.IKI_ORGCHART ON dbo.BS_INDICATORS.IKI_MASTERID = dbo.IKI_ORGCHART.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_REL_PROCNODE_DOCUMENTS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_REL_PROCNODE_DOCUMENTS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_REL_PROCNODE_DOCUMENTS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_REL_PROCNODE_DOCUMENTS]
AS
SELECT     
dbo.VISTA_PROC_NODES.PROC_NODESID, 
dbo.VISTA_PROC_NODES.DESCRIPTION, 
dbo.VISTA_PROC_NODES.NODETYPE, 
dbo.VISTA_PROC_NODES.RESPONSIBLE_RANK, 
dbo.VISTA_PROC_NODES.LOCATION, 
dbo.VISTA_PROC_NODES.NODEIMG, 
dbo.VISTA_IKI_DOCUMENTS.D_ID,
dbo.VISTA_IKI_DOCUMENTS.DOCUMENT_STATUS

FROM         dbo.VISTA_PROC_NODES INNER JOIN
	dbo.VISTA_IKI_DOCUMENTS ON dbo.VISTA_PROC_NODES.IKI_MASTERID = dbo.VISTA_IKI_DOCUMENTS.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_REL_PROCNODE_ISSUES].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_REL_PROCNODE_ISSUES]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_REL_PROCNODE_ISSUES] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_REL_PROCNODE_ISSUES]
AS
SELECT     dbo.VISTA_PROC_NODES.PROC_NODESID, dbo.VISTA_PROC_NODES.[DESCRIPTION], dbo.VISTA_PROC_NODES.NODETYPE,
dbo.VISTA_PROC_NODES.RESPONSIBLE_RANK, dbo.VISTA_PROC_NODES.LOCATION, dbo.VISTA_PROC_NODES.NODEIMG,
dbo.VISTA_IKI_ISSUES.N_ID
FROM         dbo.VISTA_PROC_NODES INNER JOIN
dbo.VISTA_IKI_ISSUES ON dbo.VISTA_PROC_NODES.IKI_MASTERID = dbo.VISTA_IKI_ISSUES.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_REL_PROCNODE_ORG].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_REL_PROCNODE_ORG]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_REL_PROCNODE_ORG] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_REL_PROCNODE_ORG]
AS
SELECT     dbo.PROC_NODES.PROC_NODESID, dbo.PROC_NODES.PROC_PLANSID, dbo.PROC_NODES.DESCRIPTION, dbo.IKI_ORGCHART.O_ID, 
                      dbo.IKI_ORGCHART.ROL, dbo.IKI_ORGCHART.IKI_ORGCHARTID, dbo.PROC_NODES.IKI_MASTERID
FROM         dbo.PROC_NODES INNER JOIN
                      dbo.IKI_ORGCHART ON dbo.PROC_NODES.IKI_MASTERID = dbo.IKI_ORGCHART.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_REL_PROCNODE_SVGS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_REL_PROCNODE_SVGS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_REL_PROCNODE_SVGS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_REL_PROCNODE_SVGS]
AS
SELECT     dbo.VISTA_PROC_NODES.PROC_PLANSID, dbo.VISTA_PROC_NODES.PROC_NODESID, dbo.VISTA_PROC_NODES.DESCRIPTION, dbo.VISTA_PROC_NODES.NODETYPE, 
                      dbo.VISTA_PROC_NODES.RESPONSIBLE_RANK, dbo.VISTA_PROC_NODES.LOCATION, dbo.VISTA_PROC_NODES.NODEIMG, 
                      dbo.VISTA_IKI_SVGDRAWINGS.SVG_ID, dbo.VISTA_IKI_SVGDRAWINGS.SVGDRAWING_DESCRIPTION 
FROM         dbo.VISTA_PROC_NODES INNER JOIN
                      dbo.VISTA_IKI_SVGDRAWINGS ON dbo.VISTA_PROC_NODES.IKI_MASTERID = dbo.VISTA_IKI_SVGDRAWINGS.IKI_MASTERID
GO

GO
--SqlScripter----[dbo].[VISTA_RESPUESTASARCHIVOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_RESPUESTASARCHIVOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_RESPUESTASARCHIVOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_RESPUESTASARCHIVOS]
AS
SELECT     dbo.IKFOROSMENSAJES.FECHA, dbo.IKFOROSMENSAJES.CODIGOFORO, dbo.IKFOROSMENSAJES.DESCRIPCION,
dbo.IKFOROSMENSAJES.INSTRUCCIONES, dbo.IKFOROSMENSAJES.USUARIO, dbo.IKFOROSMENSAJES.CARGO,
dbo.IKFOROSMENSAJES.CODIGOCARGO, dbo.IKFOROSMENSAJES.CODIGOUSUARIO, dbo.IKFOROSMENSAJES.ALTA,
dbo.IKFOROSMENSAJES.CODIGO, dbo.IKFOROSMENSAJES.CODIGORESPUESTARELACIONADA, dbo.IKFOROSARCHIVOS.CODIGO AS CODIGOARCHIVO,
dbo.IKFOROSARCHIVOS.ARCHIVO, dbo.IKFOROSARCHIVOS.CONTENTTYPE,
dbo.IKFOROSARCHIVOS.CODIGORESPUESTARELACIONADA AS CODIGORESPUESTARELACIONADAARCHIVO
FROM         dbo.IKFOROSARCHIVOS LEFT OUTER JOIN
dbo.IKFOROSMENSAJES ON dbo.IKFOROSARCHIVOS.CODIGORESPUESTARELACIONADA = dbo.IKFOROSMENSAJES.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_SURVEYEDGROUPS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_SURVEYEDGROUPS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_SURVEYEDGROUPS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_SURVEYEDGROUPS]
AS
SELECT     SG1.CODIGOSURVEYGROUP, SG2.DESCRIPCION, SG1.CODIGOSURVEY, SG2.IKSAVEDSEARCHES_UID
FROM         dbo.SURVEYEDGROUPS AS SG1 INNER JOIN
                      dbo.SURVEYGROUPS AS SG2 ON SG1.CODIGOSURVEYGROUP = SG2.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_SURVEYUSERS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_SURVEYUSERS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_SURVEYUSERS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_SURVEYUSERS]
AS
SELECT     NULL AS CODIGOUSUARIOIK, SU.EMAIL LOGIN, SU.NOMBRE + ' (' + SU.EMAIL + ')' NOMBRECOMPLETO, SU.CODIGO CODIGOSURVEYUSER, 
                      M.CODIGOSURVEYGROUP, SU.NOMBRE NOMBRE, SU.EMAIL EMAIL, 0 L_ISIKUSER, SU.PASSWORD
FROM         SURVEYUSERS SU LEFT JOIN
                      SURVEYGROUPSMEMBERS M ON SU.CODIGO = M.CODIGOSURVEYUSER
WHERE     (SU.CODIGOUSUARIOIK IS NULL OR
                      SU.CODIGOUSUARIOIK = 0) AND (CODIGOPERSONACONTACTOS IS NULL OR
                      CODIGOPERSONACONTACTOS = 0)
UNION
SELECT     U.CODIGO AS CODIGOUSUARIOIK, U.LOGINNAME LOGIN, U.USUARIO + ' (' + U.EMAIL + ')' NOMBRECOMPLETO, SU.CODIGO CODIGOSURVEYUSER, 
                      M.CODIGOSURVEYGROUP, U.USUARIO NOMBRE, U.EMAIL EMAIL, 1 L_ISIKUSER, U.WEBPASSWORD
FROM         SURVEYUSERS SU LEFT JOIN
                      SURVEYGROUPSMEMBERS M ON SU.CODIGO = M.CODIGOSURVEYUSER JOIN
                      USUARIOS U ON SU.CODIGOUSUARIOIK = U.CODIGO AND U.L_DELETED = 0
UNION
SELECT     NULL AS CODIGOUSUARIOIK, P.CORREO LOGIN, P.NOMBRE + ' (' + ISNULL(P.CORREO,'N/A') + ')' NOMBRECOMPLETO, SU.CODIGO CODIGOSURVEYUSER, 
                      M.CODIGOSURVEYGROUP, P.NOMBRE NOMBRE, ISNULL(P.CORREO ,'N/A') AS EMAIL, 0 L_ISIKUSER, SU.PASSWORD
FROM         SURVEYUSERS SU LEFT JOIN
                      SURVEYGROUPSMEMBERS M ON SU.CODIGO = M.CODIGOSURVEYUSER JOIN
                      VAR_CONTACTO_PERSONAS P ON SU.CODIGOPERSONACONTACTOS = P.CODIGO
UNION
--SELECT     NULL AS CODIGOUSUARIOIK, 'N/A' LOGIN, 'N/A' NOMBRECOMPLETO, SU.CODIGO CODIGOSURVEYUSER, M.CODIGOSURVEYGROUP, 'N/A' NOMBRE, 
SELECT     NULL AS CODIGOUSUARIOIK, 'N/A' LOGIN, 'N/A - _' + SU.NOMBRE AS NOMBRECOMPLETO, SU.CODIGO CODIGOSURVEYUSER, M.CODIGOSURVEYGROUP, 'N/A - _' + SU.NOMBRE AS NOMBRE, 
                      'N/A' EMAIL, 0 L_ISIKUSER, NULL PASSWORD
FROM         SURVEYUSERS SU LEFT JOIN
                      SURVEYGROUPSMEMBERS M ON SU.CODIGO = M.CODIGOSURVEYUSER LEFT JOIN
                      VAR_CONTACTO_PERSONAS P ON SU.CODIGOPERSONACONTACTOS = P.CODIGO
WHERE     P.CODIGO IS NULL AND (NOT SU.CODIGOPERSONACONTACTOS IS NULL)
UNION
--SELECT     NULL AS CODIGOUSUARIOIK, 'N/A' LOGIN, 'N/A' NOMBRECOMPLETO, SU.CODIGO CODIGOSURVEYUSER, M.CODIGOSURVEYGROUP, 'N/A' NOMBRE, 
SELECT     NULL AS CODIGOUSUARIOIK, 'N/A' LOGIN, 'N/A - _' + SU.NOMBRE AS NOMBRECOMPLETO, SU.CODIGO CODIGOSURVEYUSER, M.CODIGOSURVEYGROUP, 'N/A - _' + SU.NOMBRE NOMBRE, 
                      'N/A' EMAIL, 1 L_ISIKUSER, NULL PASSWORD
FROM         SURVEYUSERS SU LEFT JOIN
                      SURVEYGROUPSMEMBERS M ON SU.CODIGO = M.CODIGOSURVEYUSER LEFT JOIN
                      USUARIOS U ON SU.CODIGOUSUARIOIK = U.CODIGO AND U.L_DELETED = 0
WHERE     U.CODIGO IS NULL AND (NOT SU.CODIGOUSUARIOIK IS NULL)
GO

GO
--SqlScripter----[dbo].[VISTA_SURVEYUSERS_EXTRADATA].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_SURVEYUSERS_EXTRADATA]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_SURVEYUSERS_EXTRADATA] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_SURVEYUSERS_EXTRADATA]
AS 
 
 SELECT SURVEYUSERS_EXTRADATA.SURVEYUSERID 
FROM  SURVEYUSERS_EXTRADATA
GO

GO
--SqlScripter----[dbo].[VISTA_SURVEYUSERS_SIMPLE].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_SURVEYUSERS_SIMPLE]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_SURVEYUSERS_SIMPLE] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_SURVEYUSERS_SIMPLE]
AS
SELECT     CASE WHEN SU.CODIGOUSUARIOIK IS NOT NULL THEN U.USUARIO WHEN SU.CODIGOPERSONACONTACTOS IS NOT NULL 
                      THEN P.NOMBRE ELSE SU.NOMBRE END AS NOMBRE, SU.EMAIL, SU.CODIGO
FROM         dbo.SURVEYUSERS AS SU LEFT OUTER JOIN
                      dbo.USUARIOS AS U ON SU.CODIGOUSUARIOIK = U.CODIGO AND U.L_DELETED = 0 LEFT OUTER JOIN
                      dbo.VAR_CONTACTO_PERSONAS AS P ON SU.CODIGOPERSONACONTACTOS = P.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_SVG_DRAWINGS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_SVG_DRAWINGS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_SVG_DRAWINGS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_SVG_DRAWINGS]
AS
SELECT        dbo.BS_SVG.BS_SVGID, dbo.BS_SVG.DESCRIPTION, dbo.BS_SVG.REMARKS, dbo.BS_SVG.[DOCUMENT], dbo.BS_SVG.SVGDOCUMENT, 
                         dbo.BS_SVG.SVG_TYPESID, dbo.SVG_TYPES.DESCRIPTION AS SVG_TYPE, dbo.SVG_TYPES.SVG_TYPEIMG, dbo.BS_SVG.LOCK_USERID, 
                         dbo.BS_SVG.LOCK_USERNAME, dbo.BS_SVG.LOCK_DATE, dbo.BS_SVG.LAST_USER, dbo.BS_SVG.LAST_DATE, dbo.BS_SVG.IKI_MASTERID
FROM            dbo.BS_SVG INNER JOIN
                         dbo.SVG_TYPES ON dbo.BS_SVG.SVG_TYPESID = dbo.SVG_TYPES.SVG_TYPESID
GO

GO
--SqlScripter----[dbo].[VISTA_TAREAS_CONTROLADAS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_TAREAS_CONTROLADAS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_TAREAS_CONTROLADAS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_TAREAS_CONTROLADAS]
AS
SELECT     dbo.VISTA_NCTAREAS.CODIGOTAREA, dbo.VISTA_NCTAREAS.DESCRIPCION, dbo.VISTA_NCTAREAS.CODIGONC, dbo.VISTA_NCTAREAS.TIPONC, 
                      dbo.VISTA_NCTAREAS.FECHALIMITE, dbo.VISTA_NCTAREAS.PRIORIDAD, dbo.VARCHILD_SEG_PLA_CLASES.TIPO_SEMAFORO, 
                      0 AS ORIGEN_PLAZOS, CASE WHEN PRIORIDAD = 0 AND TIPO_SEMAFORO = 1 THEN ROJO_PRIORIDAD_ALTA WHEN (PRIORIDAD = 1 OR
                      PRIORIDAD IS NULL) AND TIPO_SEMAFORO = 1 THEN ROJO_PRIORIDAD_MEDIA WHEN PRIORIDAD = 2 AND 
                      TIPO_SEMAFORO = 1 THEN ROJO_PRIORIDAD_BAJA WHEN PRIORIDAD = 0 AND TIPO_SEMAFORO = 2 THEN CONVERT(int, 
                      ROJO_PRIORIDAD_ALTA * dbo.VISTA_NCTAREAS.DURACION / CONVERT(decimal, 100)) WHEN (PRIORIDAD = 1 OR
                      PRIORIDAD IS NULL) AND TIPO_SEMAFORO = 2 THEN CONVERT(int, 
                      ROJO_PRIORIDAD_MEDIA * dbo.VISTA_NCTAREAS.DURACION / CONVERT(decimal, 100)) WHEN PRIORIDAD = 2 AND 
                      TIPO_SEMAFORO = 2 THEN CONVERT(int, ROJO_PRIORIDAD_BAJA * dbo.VISTA_NCTAREAS.DURACION / CONVERT(decimal, 100)) 
                      ELSE 0 END AS DIAS_ROJO, dbo.VISTA_NCTAREAS.TOT_DELAY, CASE WHEN PRIORIDAD = 0 AND 
                      TIPO_SEMAFORO = 1 THEN AMARILLO_PRIORIDAD_ALTA WHEN (PRIORIDAD = 1 OR
                      PRIORIDAD IS NULL) AND TIPO_SEMAFORO = 1 THEN AMARILLO_PRIORIDAD_MEDIA WHEN PRIORIDAD = 2 AND 
                      TIPO_SEMAFORO = 1 THEN AMARILLO_PRIORIDAD_BAJA WHEN PRIORIDAD = 0 AND TIPO_SEMAFORO = 2 THEN CONVERT(int, 
                      AMARILLO_PRIORIDAD_ALTA * dbo.VISTA_NCTAREAS.DURACION / CONVERT(decimal, 100)) WHEN (PRIORIDAD = 1 OR
                      PRIORIDAD IS NULL) AND TIPO_SEMAFORO = 2 THEN CONVERT(int, 
                      AMARILLO_PRIORIDAD_MEDIA * dbo.VISTA_NCTAREAS.DURACION / CONVERT(decimal, 100)) WHEN PRIORIDAD = 2 AND 
                      TIPO_SEMAFORO = 2 THEN CONVERT(int, AMARILLO_PRIORIDAD_BAJA * dbo.VISTA_NCTAREAS.DURACION / CONVERT(decimal, 100)) 
                      ELSE 0 END AS DIAS_AMARILLO, CASE WHEN DATEDIFF(day, dbo.VISTA_NCTAREAS.FECHALIMITE, GETDATE()) > 0 THEN DATEDIFF(day, 
                      dbo.VISTA_NCTAREAS.FECHALIMITE, GETDATE()) ELSE 0 END AS ATRASO, 
                      dbo.VARCHILD_SEG_PLA_CLASES.CODIGONC AS CODIGO_ASUNTO_CONTROLADOR, dbo.VISTA_NCTAREAS.DESCRIPCIONASUNTO, 
                      dbo.VAR_SEGUIMIENTO_PLAZOS.CTRL_TAREAS_ASUNTOS_COORD, dbo.VAR_SEGUIMIENTO_PLAZOS.CTRL_TAREAS_ASUNTOS_SUP, 
                      dbo.VAR_SEGUIMIENTO_PLAZOS.CTRL_TAREAS_RESPONSABLE
FROM         dbo.VISTA_NCTAREAS INNER JOIN
                      dbo.VARCHILD_SEG_PLA_CLASES ON 
                      dbo.VISTA_NCTAREAS.TIPONC = dbo.VARCHILD_SEG_PLA_CLASES.CODIGO_CLASE INNER JOIN
                      dbo.VAR_SEGUIMIENTO_PLAZOS ON 
                      dbo.VAR_SEGUIMIENTO_PLAZOS.CODIGONC = dbo.VARCHILD_SEG_PLA_CLASES.CODIGONC
WHERE     (dbo.VISTA_NCTAREAS.CODIGONC NOT IN
                          (SELECT     CODIGO_ASUNTO
                            FROM          dbo.VARCHILD_SEG_PLA_ASUNTOS
                            WHERE      (CODIGONC = dbo.VARCHILD_SEG_PLA_CLASES.CODIGONC))) AND (dbo.VISTA_NCTAREAS.CODIGOTAREA NOT IN
                          (SELECT     CODIGO_TAREA
                            FROM          dbo.VARCHILD_SEG_PLA_TAREAS
                            WHERE      (CODIGONC = dbo.VARCHILD_SEG_PLA_CLASES.CODIGONC))) AND (dbo.VISTA_NCTAREAS.L_CUMPLIDA = 0)
UNION
SELECT     VISTA_NCTAREAS_2.CODIGOTAREA, VISTA_NCTAREAS_2.DESCRIPCION, VISTA_NCTAREAS_2.CODIGONC, VISTA_NCTAREAS_2.TIPONC, 
                      VISTA_NCTAREAS_2.FECHALIMITE, VISTA_NCTAREAS_2.PRIORIDAD, VARCHILD_SEGUIMIENTO_PLAZOS_ASUNTOS_1.TIPO_SEMAFORO, 
                      1 AS ORIGEN_PLAZOS, CASE WHEN PRIORIDAD = 0 AND TIPO_SEMAFORO = 1 THEN ROJO_PRIORIDAD_ALTA WHEN (PRIORIDAD = 1 OR
                      PRIORIDAD IS NULL) AND TIPO_SEMAFORO = 1 THEN ROJO_PRIORIDAD_MEDIA WHEN PRIORIDAD = 2 AND 
                      TIPO_SEMAFORO = 1 THEN ROJO_PRIORIDAD_BAJA WHEN PRIORIDAD = 0 AND TIPO_SEMAFORO = 2 THEN CONVERT(int, 
                      ROJO_PRIORIDAD_ALTA * VISTA_NCTAREAS_2.DURACION / CONVERT(decimal, 100)) WHEN (PRIORIDAD = 1 OR
                      PRIORIDAD IS NULL) AND TIPO_SEMAFORO = 2 THEN CONVERT(int, ROJO_PRIORIDAD_MEDIA * VISTA_NCTAREAS_2.DURACION / CONVERT(decimal, 
                      100)) WHEN PRIORIDAD = 2 AND TIPO_SEMAFORO = 2 THEN CONVERT(int, 
                      ROJO_PRIORIDAD_BAJA * VISTA_NCTAREAS_2.DURACION / CONVERT(decimal, 100)) ELSE 0 END AS DIAS_ROJO, VISTA_NCTAREAS_2.TOT_DELAY, 
                      CASE WHEN PRIORIDAD = 0 AND TIPO_SEMAFORO = 1 THEN AMARILLO_PRIORIDAD_ALTA WHEN (PRIORIDAD = 1 OR
                      PRIORIDAD IS NULL) AND TIPO_SEMAFORO = 1 THEN AMARILLO_PRIORIDAD_MEDIA WHEN PRIORIDAD = 2 AND 
                      TIPO_SEMAFORO = 1 THEN AMARILLO_PRIORIDAD_BAJA WHEN PRIORIDAD = 0 AND TIPO_SEMAFORO = 2 THEN CONVERT(int, 
                      AMARILLO_PRIORIDAD_ALTA * VISTA_NCTAREAS_2.DURACION / CONVERT(decimal, 100)) WHEN (PRIORIDAD = 1 OR
                      PRIORIDAD IS NULL) AND TIPO_SEMAFORO = 2 THEN CONVERT(int, 
                      AMARILLO_PRIORIDAD_MEDIA * VISTA_NCTAREAS_2.DURACION / CONVERT(decimal, 100)) WHEN PRIORIDAD = 2 AND 
                      TIPO_SEMAFORO = 2 THEN CONVERT(int, AMARILLO_PRIORIDAD_BAJA * VISTA_NCTAREAS_2.DURACION / CONVERT(decimal, 100)) 
                      ELSE 0 END AS DIAS_AMARILLO, CASE WHEN DATEDIFF(day, VISTA_NCTAREAS_2.FECHALIMITE, GETDATE()) > 0 THEN DATEDIFF(day, 
                      VISTA_NCTAREAS_2.FECHALIMITE, GETDATE()) ELSE 0 END AS ATRASO, 
                      VARCHILD_SEGUIMIENTO_PLAZOS_ASUNTOS_1.CODIGONC AS CODIGO_ASUNTO_CONTROLADOR, VISTA_NCTAREAS_2.DESCRIPCIONASUNTO, 
                      VAR_SEGUIMIENTO_PLAZOS_2.CTRL_TAREAS_ASUNTOS_COORD, VAR_SEGUIMIENTO_PLAZOS_2.CTRL_TAREAS_ASUNTOS_SUP, 
                      VAR_SEGUIMIENTO_PLAZOS_2.CTRL_TAREAS_RESPONSABLE
FROM         dbo.VISTA_NCTAREAS AS VISTA_NCTAREAS_2 INNER JOIN
                      dbo.VARCHILD_SEG_PLA_ASUNTOS AS VARCHILD_SEGUIMIENTO_PLAZOS_ASUNTOS_1 ON 
                      VISTA_NCTAREAS_2.CODIGONC = VARCHILD_SEGUIMIENTO_PLAZOS_ASUNTOS_1.CODIGO_ASUNTO INNER JOIN
                      dbo.VAR_SEGUIMIENTO_PLAZOS AS VAR_SEGUIMIENTO_PLAZOS_2 ON 
                      VAR_SEGUIMIENTO_PLAZOS_2.CODIGONC = VARCHILD_SEGUIMIENTO_PLAZOS_ASUNTOS_1.CODIGONC
WHERE     (VISTA_NCTAREAS_2.CODIGOTAREA NOT IN
                          (SELECT     CODIGO_TAREA
                            FROM          dbo.VARCHILD_SEG_PLA_TAREAS AS VARCHILD_SEGUIMIENTO_PLAZOS_TAREAS_1
                            WHERE      (CODIGONC = VARCHILD_SEGUIMIENTO_PLAZOS_ASUNTOS_1.CODIGONC))) AND (VISTA_NCTAREAS_2.L_CUMPLIDA = 0)
UNION
SELECT     VISTA_NCTAREAS_1.CODIGOTAREA, VISTA_NCTAREAS_1.DESCRIPCION, VISTA_NCTAREAS_1.CODIGONC, VISTA_NCTAREAS_1.TIPONC, 
                      VISTA_NCTAREAS_1.FECHALIMITE, VISTA_NCTAREAS_1.PRIORIDAD, VARCHILD_SEGUIMIENTO_PLAZOS_TAREAS_2.TIPO_SEMAFORO, 
                      2 AS ORIGEN_PLAZOS, CASE WHEN PRIORIDAD = 0 AND TIPO_SEMAFORO = 1 THEN ROJO_PRIORIDAD_ALTA WHEN (PRIORIDAD = 1 OR
                      PRIORIDAD IS NULL) AND TIPO_SEMAFORO = 1 THEN ROJO_PRIORIDAD_MEDIA WHEN PRIORIDAD = 2 AND 
                      TIPO_SEMAFORO = 1 THEN ROJO_PRIORIDAD_BAJA WHEN PRIORIDAD = 0 AND TIPO_SEMAFORO = 2 THEN CONVERT(int, 
                      ROJO_PRIORIDAD_ALTA * VISTA_NCTAREAS_1.DURACION / CONVERT(decimal, 100)) WHEN (PRIORIDAD = 1 OR
                      PRIORIDAD IS NULL) AND TIPO_SEMAFORO = 2 THEN CONVERT(int, ROJO_PRIORIDAD_MEDIA * VISTA_NCTAREAS_1.DURACION / CONVERT(decimal, 
                      100)) WHEN PRIORIDAD = 2 AND TIPO_SEMAFORO = 2 THEN CONVERT(int, 
                      ROJO_PRIORIDAD_BAJA * VISTA_NCTAREAS_1.DURACION / CONVERT(decimal, 100)) ELSE 0 END AS DIAS_ROJO, VISTA_NCTAREAS_1.TOT_DELAY, 
                      CASE WHEN PRIORIDAD = 0 AND TIPO_SEMAFORO = 1 THEN AMARILLO_PRIORIDAD_ALTA WHEN (PRIORIDAD = 1 OR
                      PRIORIDAD IS NULL) AND TIPO_SEMAFORO = 1 THEN AMARILLO_PRIORIDAD_MEDIA WHEN PRIORIDAD = 2 AND 
                      TIPO_SEMAFORO = 1 THEN AMARILLO_PRIORIDAD_BAJA WHEN PRIORIDAD = 0 AND TIPO_SEMAFORO = 2 THEN CONVERT(int, 
                      AMARILLO_PRIORIDAD_ALTA * VISTA_NCTAREAS_1.DURACION / CONVERT(decimal, 100)) WHEN (PRIORIDAD = 1 OR
                      PRIORIDAD IS NULL) AND TIPO_SEMAFORO = 2 THEN CONVERT(int, 
                      AMARILLO_PRIORIDAD_MEDIA * VISTA_NCTAREAS_1.DURACION / CONVERT(decimal, 100)) WHEN PRIORIDAD = 2 AND 
                      TIPO_SEMAFORO = 2 THEN CONVERT(int, AMARILLO_PRIORIDAD_BAJA * VISTA_NCTAREAS_1.DURACION / CONVERT(decimal, 100)) 
                      ELSE 0 END AS DIAS_AMARILLO, CASE WHEN DATEDIFF(day, VISTA_NCTAREAS_1.FECHALIMITE, GETDATE()) > 0 THEN DATEDIFF(day, 
                      VISTA_NCTAREAS_1.FECHALIMITE, GETDATE()) ELSE 0 END AS ATRASO, 
                      VARCHILD_SEGUIMIENTO_PLAZOS_TAREAS_2.CODIGONC AS CODIGO_ASUNTO_CONTROLADOR, VISTA_NCTAREAS_1.DESCRIPCIONASUNTO, 
                      VAR_SEGUIMIENTO_PLAZOS_1.CTRL_TAREAS_ASUNTOS_COORD, VAR_SEGUIMIENTO_PLAZOS_1.CTRL_TAREAS_ASUNTOS_SUP, 
                      VAR_SEGUIMIENTO_PLAZOS_1.CTRL_TAREAS_RESPONSABLE
FROM         dbo.VISTA_NCTAREAS AS VISTA_NCTAREAS_1 INNER JOIN
                      dbo.VARCHILD_SEG_PLA_TAREAS AS VARCHILD_SEGUIMIENTO_PLAZOS_TAREAS_2 ON 
                      VISTA_NCTAREAS_1.CODIGOTAREA = VARCHILD_SEGUIMIENTO_PLAZOS_TAREAS_2.CODIGO_TAREA INNER JOIN
                      dbo.VAR_SEGUIMIENTO_PLAZOS AS VAR_SEGUIMIENTO_PLAZOS_1 ON 
                      VAR_SEGUIMIENTO_PLAZOS_1.CODIGONC = VARCHILD_SEGUIMIENTO_PLAZOS_TAREAS_2.CODIGONC
WHERE     (VISTA_NCTAREAS_1.L_CUMPLIDA = 0)
GO

GO
--SqlScripter----[dbo].[VISTA_TAREASETAPASIMPLE].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_TAREASETAPASIMPLE]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_TAREASETAPASIMPLE] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
/****** Objeto: vista dbo.VISTA_TAREASETAPASIMPLE    fecha de la secuencia de comandos: 17/02/2003 12:43:53 p.m. ******/
ALTER VIEW [dbo].[VISTA_TAREASETAPASIMPLE]
AS
SELECT     dbo.VISTA_ETAPASNC.URLIMAGEN, dbo.VISTA_ETAPASNC.DESCRIPCIONCORTA, dbo.VISTA_ETAPASNC.DESCRIPCIONLARGA, 
                      dbo.NCMAINPROD.TIPO AS MODULEID, dbo.NCMAINPROD.DESCRIPCION AS DESCRIPCIONNC, dbo.NCTAREAS.CODIGO, dbo.NCTAREAS.ACCION, 
                      dbo.NCTAREAS.FECHA, dbo.NCTAREAS.DESCRIPCION, dbo.NCTAREAS.INSTRUCCIONES, dbo.NCTAREAS.OPCIONENVIO, 
                      dbo.NCTAREAS.FECHAACCIONSYS, dbo.NCTAREAS.ACCIONSYS, dbo.NCTAREAS.CODIGONC, dbo.NCTAREAS.USUARIOALTA, dbo.NCTAREAS.ALTA, 
                      dbo.NCTAREAS.USUARIOBAJA, dbo.NCTAREAS.BAJA, dbo.NCTAREAS.ETAPA, dbo.NCTAREAS.FECHALIMITE, dbo.NCTAREAS.TAREARELACIONADA, 
                      dbo.NCTAREAS.CODIGOTAREACONDICIONAL, dbo.NCTAREAS.CUMPLIMIENTO, dbo.NCTAREAS.USUARIOCUMPLIMIENTO, 
                      dbo.NCTAREAS.COMENTARIOSCUMPLIMIENTO, dbo.NCTAREAS.MANDARENFECHA, dbo.NCTAREAS.TAREAMADRE, dbo.NCTAREAS.L_CUMPLIDA, 
                      dbo.NCTAREAS.L_LEIDO, dbo.NCTAREAS.L_NOTIFICADOADM, dbo.NCTAREAS.L_TIENERELACIONADOS, dbo.NCTAREAS.OPCIONVENCIMIENTO, 
                      dbo.NCTAREAS.DIASVENCIMIENTO, dbo.NCTAREAS.CARGOALTA, dbo.NCTAREAS.CODIGOCARGOALTA, dbo.NCTAREAS.L_NOMOSTRAR, 
                      dbo.NCTAREAS.CODIGOFORO, dbo.NCTAREAS.LOTE, dbo.NCTAREAS.USUARIOINICIO, dbo.NCTAREAS.COMENTARIOSINICIO, 
                      dbo.NCTAREAS.TIPO_TAREA, dbo.NCTAREAS.L_AUTOCUMPLIR, dbo.NCTAREAS.CODIGOTAREACONTRIBUYE, dbo.NCTAREAS.COSTO_ESTIMADO, 
                      dbo.NCTAREAS.COSTO_REAL, dbo.NCTAREAS.CAMPOS_VAR, dbo.NCTAREAS.L_AUTOINICIAR, dbo.NCTAREAS.L_WORKINGDAYS, 
                      dbo.NCTAREAS.DURACION, dbo.NCTAREAS.DURACION_STR, dbo.NCTAREAS.TASKSCATEGORIES_ID, dbo.NCTAREAS.TOT_DELAY, 
                      dbo.NCTAREAS.PSTARTDATE, dbo.NCTAREAS.PENDDATE, dbo.NCTAREAS.AVA_WEIGHT_MODE, dbo.NCTAREAS.AVA_WEIGHT_PERC, 
                      dbo.NCTAREAS.AVA_OPTIONS, dbo.NCTAREAS.AVA_REAL_PERC, dbo.NCTAREAS.AVA_PRED_PERC, 
                      dbo.NCMAINPROD.AVA_OPTIONS AS NC_AVA_OPTIONS
FROM         dbo.NCTAREAS INNER JOIN
                      dbo.VISTA_ETAPASNC ON dbo.NCTAREAS.CODIGONC = dbo.VISTA_ETAPASNC.CODIGONC AND 
                      dbo.NCTAREAS.ETAPA = dbo.VISTA_ETAPASNC.ETAPA INNER JOIN
                      dbo.NCMAINPROD ON dbo.NCTAREAS.CODIGONC = dbo.NCMAINPROD.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_TASKSCATEGORIES].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_TASKSCATEGORIES]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_TASKSCATEGORIES] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_TASKSCATEGORIES]
AS
SELECT        CASE WHEN T .L_CUMPLIDA = 0 AND T .FECHA IS NULL AND DATEDIFF(d, T .MANDARENFECHA, GETDATE()) 
                         > 0 THEN 'start_delayed' ELSE '' END AS TASK_DELAYED_START_CLASS, CASE WHEN T .L_CUMPLIDA = 0 AND DATEDIFF(d, T .FECHALIMITE, GETDATE()) 
                         > 0 THEN 'end_delayed' ELSE '' END AS TASK_DELAYED_END_CLASS, 
                         CASE WHEN T .L_CUMPLIDA = 1 THEN 'Images/Task_Done.gif' WHEN T .FECHA IS NULL 
                         THEN 'Images/Task_Pendent.gif' ELSE 'Images/Task.gif' END AS IMG_ESTADO_TAREA, 
                         CASE WHEN T .L_CUMPLIDA = 1 THEN 'Tareas de ' + CAT.DESCRIPTION + ' - Cumplidas' WHEN T .FECHA IS NULL 
                         THEN 'Tareas de ' + CAT.DESCRIPTION + ' - No iniciadas' ELSE 'Tareas de ' + CAT.DESCRIPTION + ' - En proceso' END AS CATEGORIA_ESTADO_TAREA, 
                         CASE WHEN T .L_CUMPLIDA = 1 THEN CAT.DESCRIPTION + ' 002 - Cumplidas' WHEN T .FECHA IS NULL 
                         THEN CAT.DESCRIPTION + ' 000 - No Iniciadas' ELSE + CAT.DESCRIPTION + ' 001 - En proceso' END AS ORDEN_CATEGORIA_ESTADO_TAREA, 
                         MODS.DESCRIPTION AS MODULE_DESC, CAT.DESCRIPTION AS TASKCATEGORY, T.CODIGONC, T.TIPONC, T.ACCION, T.FECHA, T.DESCRIPCION, 
                         T.INSTRUCCIONES, T.OPCIONENVIO, T.FECHAACCIONSYS, T.ACCIONSYS, T.USUARIOALTA, T.ALTA, T.USUARIOBAJA, T.BAJA, T.ETAPA, T.FECHALIMITE, 
                         T.TAREARELACIONADA, T.CODIGOTAREACONDICIONAL, T.CUMPLIMIENTO, T.USUARIOCUMPLIMIENTO, T.COMENTARIOSCUMPLIMIENTO, 
                         T.MANDARENFECHA, T.TAREAMADRE, T.L_CUMPLIDA, T.L_LEIDO, T.L_NOTIFICADOADM, T.L_TIENERELACIONADOS, T.L_NOMOSTRAR, 
                         T.OPCIONVENCIMIENTO, T.DIASVENCIMIENTO, T.CARGOALTA, T.CODIGOCARGOALTA, T.CODIGOFORO, T.LOTE, T.USUARIOINICIO, T.COMENTARIOSINICIO, 
                         T.TIPO_TAREA, T.L_AUTOCUMPLIR, T.CODIGOTAREACONTRIBUYE, T.COSTO_ESTIMADO, T.COSTO_REAL, T.CAMPOS_VAR, T.L_AUTOINICIAR, 
                         T.L_WORKINGDAYS, T.DURACION, T.DURACION_STR, T.TOT_DELAY, T.COMENTARIOSBAJA, T.TASKSCATEGORIES_ID, T.DESCRIPCIONASUNTO, 
                         T.IK_HTMLREPORTS_OPTIONS_ID, T.PRIORIDAD, ISNULL(T.USUARIOCUMPLIMIENTO, 'N/A') AS USUARIO_CUMPLIMIENTO, T.CODIGOTAREA, 
                         T.IKI_MASTERID
FROM            dbo.VISTA_NCTAREAS AS T INNER JOIN
                         dbo.TASKSCATEGORIES AS CAT ON T.TASKSCATEGORIES_ID = CAT.TASKSCATEGORIES_ID INNER JOIN
                         dbo.XML_MODULE_DEFINITIONS AS MODS ON MODS.MODULEID = T.TIPONC
WHERE        (T.L_CUMPLIDA <= 1)
GO

GO
--SqlScripter----[dbo].[VISTA_TASKSDELAYS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_TASKSDELAYS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_TASKSDELAYS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_TASKSDELAYS]
AS
SELECT     dbo.TASKSDELAYS.TASKSDELAYS_ID, dbo.TASKSDELAYS.NCTASKID, dbo.TASKSDELAYS.DELAY, dbo.TASKSDELAYS.REMARKS,
dbo.VISTA_NCTAREAS.CODIGONC, dbo.VISTA_NCTAREAS.TIPONC, dbo.TASKSDELAYS.TASKSDELAYSTYPES_ID,
dbo.TASKSDELAYSTYPES.DESCRIPTION, dbo.TASKSDELAYS.DATE_UPDATE, dbo.TASKSDELAYS.USER_UPDATE,
CASE WHEN DELAY > 0 THEN 'RED' ELSE 'GREEN' END AS DELAYCOLOR,
CASE WHEN DELAY >= 0 THEN DELAY ELSE DELAY * - 1 END AS DELAYPOSITIVE,
CASE WHEN DELAY >= 0 THEN 'Loc_Delay' ELSE 'Loc_Advance' END AS DELAYORADVANCELIT
FROM         dbo.TASKSDELAYS INNER JOIN
dbo.VISTA_NCTAREAS ON dbo.TASKSDELAYS.NCTASKID = dbo.VISTA_NCTAREAS.CODIGOTAREA INNER JOIN
dbo.TASKSDELAYSTYPES ON dbo.TASKSDELAYS.TASKSDELAYSTYPES_ID = dbo.TASKSDELAYSTYPES.TASKSDELAYSTYPES_ID
GO

GO
--SqlScripter----[dbo].[VISTA_TPROT_ARBOLINVOLUCRADOSTAREAS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_TPROT_ARBOLINVOLUCRADOSTAREAS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_TPROT_ARBOLINVOLUCRADOSTAREAS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_TPROT_ARBOLINVOLUCRADOSTAREAS]
AS

SELECT     dbo.TPROT_INVOLVED.CODIGOCARGO, dbo.ORGANIGRAMA.DESCRIPCION AS NOMBRECARGO, dbo.USUARIOS.USUARIO, dbo.TPROT_TASK.DESCRIPCION, 
                      dbo.TPROT_RESPONSIBLE.CODIGOTAREA, 0 AS L_CUMPLIDA, dbo.TPROT_INVOLVED.CODIGONC, 
                      dbo.TPROT_RESPONSIBLE.CODIGOCARGO AS CODIGOCARGODESTINATARIO, dbo.USUARIOS.CODIGO AS CODIGOUSUARIO
FROM         
dbo.TPROT_RESPONSIBLE 
INNER JOIN dbo.TPROT_TASK  ON dbo.TPROT_RESPONSIBLE.CODIGOTAREA = dbo.TPROT_TASK.CODIGO 
RIGHT OUTER JOIN dbo.TPROT_INVOLVED ON dbo.TPROT_TASK.CODIGONC = dbo.TPROT_INVOLVED.CODIGONC 
LEFT OUTER JOIN dbo.CARGOSUSUARIOS 
		INNER JOIN dbo.USUARIOS ON dbo.CARGOSUSUARIOS.CODIGOUSUARIO = dbo.USUARIOS.CODIGO 
		ON  dbo.TPROT_INVOLVED.CODIGOCARGO = dbo.CARGOSUSUARIOS.CODIGOCARGO
JOIN ORGANIGRAMA ON ORGANIGRAMA.CODIGO=TPROT_INVOLVED.CODIGOCARGO
GO

GO
--SqlScripter----[dbo].[VISTA_TPROT_INVOLVED].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_TPROT_INVOLVED]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_TPROT_INVOLVED] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_TPROT_INVOLVED]
AS
SELECT     I.CODIGO, I.CODIGONC, I.NIVEL, I.L_INCLUIR_EN_FORO, C.DESCRIPCION, I.CODIGOCARGO, USUARIO, C.CODIGOUSUARIO, TIPO,
CASE WHEN NOT USUARIO IS NULL AND (TIPO = 1 OR
TIPO = 4) THEN C.DESCRIPCION + ' (' + USUARIO + ')' WHEN USUARIO IS NULL AND (TIPO = 1 OR
TIPO = 4) THEN C.DESCRIPCION + ' (Sin usuario asociado)' ELSE C.DESCRIPCION END AS NOMBRECARGOFULL, C.EMAIL
FROM         TPROT_INVOLVED I JOIN
VISTA_ORGANIGRAMA C ON I.CODIGOCARGO = C.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_TPROT_RESPONSIBLE_TASK].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_TPROT_RESPONSIBLE_TASK]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_TPROT_RESPONSIBLE_TASK] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_TPROT_RESPONSIBLE_TASK]
AS
SELECT     dbo.TPROT_RESPONSIBLE.CODIGO AS TPROT_RESPONSIBLE_CODIGO, dbo.TPROT_RESPONSIBLE.CODIGOTAREA,
dbo.TPROT_RESPONSIBLE.CODIGOCARGO, dbo.TPROT_TASK.CODIGONC, dbo.VISTA_TPROT_INVOLVED.DESCRIPCION AS NOMBRECARGO,
dbo.VISTA_TPROT_INVOLVED.USUARIO, dbo.VISTA_TPROT_INVOLVED.CODIGOUSUARIO, dbo.VISTA_TPROT_INVOLVED.NIVEL,
dbo.VISTA_TPROT_INVOLVED.EMAIL, dbo.VISTA_TPROT_INVOLVED.TIPO, dbo.VISTA_TPROT_INVOLVED.NOMBRECARGOFULL,
dbo.TPROT_TASK.DESCRIPCION AS DESCRIPCIONTAREA
FROM         dbo.TPROT_RESPONSIBLE INNER JOIN
dbo.TPROT_TASK ON dbo.TPROT_RESPONSIBLE.CODIGOTAREA = dbo.TPROT_TASK.CODIGO INNER JOIN
dbo.VISTA_TPROT_INVOLVED ON dbo.TPROT_RESPONSIBLE.CODIGOCARGO = dbo.VISTA_TPROT_INVOLVED.CODIGOCARGO AND
dbo.TPROT_TASK.CODIGONC = dbo.VISTA_TPROT_INVOLVED.CODIGONC
GO

GO
--SqlScripter----[dbo].[VISTA_TPROT_TASKS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER OFF
GO
IF OBJECT_ID('[dbo].[VISTA_TPROT_TASKS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_TPROT_TASKS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_TPROT_TASKS]
AS
SELECT     dbo.TPROT_TASK.CODIGO AS CODIGOTAREA, dbo.TPROT_TASK.CODIGONC, dbo.NCMAINPROD.TIPO AS TIPONC, dbo.TPROT_TASK.ACCION, 
                      dbo.TPROT_TASK.FECHA, dbo.TPROT_TASK.DESCRIPCION, dbo.TPROT_TASK.INSTRUCCIONES, dbo.TPROT_TASK.OPCIONENVIO, 
                      dbo.TPROT_TASK.FECHAACCIONSYS, dbo.TPROT_TASK.ACCIONSYS, dbo.TPROT_TASK.USUARIOALTA, dbo.TPROT_TASK.ALTA, 
                      dbo.TPROT_TASK.USUARIOBAJA, dbo.TPROT_TASK.BAJA, dbo.TPROT_TASK.ETAPA, dbo.TPROT_TASK.FECHALIMITE, 
                      dbo.TPROT_TASK.TAREARELACIONADA, dbo.TPROT_TASK.CODIGOTAREACONDICIONAL, dbo.TPROT_TASK.CUMPLIMIENTO, 
                      dbo.TPROT_TASK.USUARIOCUMPLIMIENTO, dbo.TPROT_TASK.COMENTARIOSCUMPLIMIENTO, dbo.TPROT_TASK.MANDARENFECHA, 
                      dbo.TPROT_TASK.TAREAMADRE, dbo.TPROT_TASK.L_CUMPLIDA, dbo.TPROT_TASK.L_LEIDO, dbo.TPROT_TASK.L_NOTIFICADOADM, 
                      dbo.TPROT_TASK.L_TIENERELACIONADOS, dbo.TPROT_TASK.L_NOMOSTRAR, dbo.TPROT_TASK.OPCIONVENCIMIENTO, 
                      dbo.TPROT_TASK.DIASVENCIMIENTO, dbo.TPROT_TASK.CARGOALTA, dbo.TPROT_TASK.CODIGOCARGOALTA, dbo.TPROT_TASK.CODIGOFORO, 
                      dbo.TPROT_TASK.LOTE, dbo.TPROT_TASK.USUARIOINICIO, dbo.TPROT_TASK.COMENTARIOSINICIO, dbo.TPROT_TASK.TIPO_TAREA, 
                      dbo.TPROT_TASK.L_AUTOCUMPLIR, dbo.TPROT_TASK.CODIGOTAREACONTRIBUYE, dbo.TPROT_TASK.COSTO_ESTIMADO, 
                      dbo.TPROT_TASK.COSTO_REAL, dbo.TPROT_TASK.CAMPOS_VAR, dbo.TPROT_TASK.L_AUTOINICIAR, dbo.TPROT_TASK.L_WORKINGDAYS, 
                      dbo.TPROT_TASK.DURACION, dbo.TPROT_TASK.DURACION_STR, dbo.TPROT_TASK.TOT_DELAY, dbo.TPROT_TASK.COMENTARIOSBAJA, 
                      dbo.TPROT_TASK.TASKSCATEGORIES_ID, dbo.NCMAINPROD.DESCRIPCION AS DESCRIPCIONASUNTO, dbo.TPROT_TASK.PRIORIDAD, 
					  TASKSCATEGORIES.[DESCRIPTION] as TASK_CAT_DESC
FROM         dbo.NCMAINPROD INNER JOIN
                      dbo.TPROT_TASK ON dbo.NCMAINPROD.CODIGO = dbo.TPROT_TASK.CODIGONC
					  LEFT JOIN TASKSCATEGORIES ON TASKSCATEGORIES.TASKSCATEGORIES_ID=TPROT_TASK.TASKSCATEGORIES_ID
GO

GO
--SqlScripter----[dbo].[VISTA_TPROT_TASKS_ETAPAS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_TPROT_TASKS_ETAPAS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_TPROT_TASKS_ETAPAS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_TPROT_TASKS_ETAPAS]
AS
SELECT     dbo.TPROT_TASK.CODIGO, dbo.TPROT_TASK.ACCION, dbo.TPROT_TASK.FECHA, dbo.TPROT_TASK.DESCRIPCION,
dbo.TPROT_TASK.INSTRUCCIONES, dbo.TPROT_TASK.OPCIONENVIO, dbo.TPROT_TASK.FECHAACCIONSYS, dbo.TPROT_TASK.USUARIOALTA,
dbo.TPROT_TASK.ALTA, dbo.TPROT_TASK.USUARIOBAJA, dbo.TPROT_TASK.BAJA, dbo.TPROT_TASK.ETAPA, dbo.TPROT_TASK.FECHALIMITE,
dbo.TPROT_TASK.TAREARELACIONADA, dbo.TPROT_TASK.CODIGOTAREACONDICIONAL, dbo.TPROT_TASK.CUMPLIMIENTO,
dbo.TPROT_TASK.USUARIOCUMPLIMIENTO, dbo.TPROT_TASK.COMENTARIOSCUMPLIMIENTO, dbo.TPROT_TASK.MANDARENFECHA,
dbo.TPROT_TASK.TAREAMADRE, dbo.TPROT_TASK.L_CUMPLIDA, dbo.TPROT_TASK.L_LEIDO, dbo.TPROT_TASK.L_NOTIFICADOADM,
dbo.TPROT_TASK.L_TIENERELACIONADOS, dbo.TPROT_TASK.L_NOMOSTRAR, dbo.TPROT_TASK.OPCIONVENCIMIENTO,
dbo.TPROT_TASK.DIASVENCIMIENTO, dbo.TPROT_TASK.CARGOALTA, dbo.TPROT_TASK.CODIGOCARGOALTA, dbo.TPROT_TASK.LOTE,
dbo.TPROT_TASK.USUARIOINICIO, dbo.TPROT_TASK.CODIGOFORO, dbo.TPROT_TASK.COMENTARIOSINICIO, dbo.TPROT_TASK.TIPO_TAREA,
dbo.TPROT_TASK.L_AUTOCUMPLIR, dbo.TPROT_TASK.CODIGOTAREACONTRIBUYE, dbo.TPROT_TASK.COSTO_ESTIMADO,
dbo.TPROT_TASK.CAMPOS_VAR, dbo.TPROT_TASK.L_AUTOINICIAR, dbo.TPROT_TASK.COSTO_REAL, dbo.TPROT_TASK.L_WORKINGDAYS,
dbo.TPROT_TASK.DURACION, dbo.TPROT_TASK.CODIGONC, dbo.NCDEFINICIONETAPAS.URLIMAGEN,
dbo.NCDEFINICIONETAPAS.DESCRIPCIONCORTA, dbo.NCDEFINICIONETAPAS.DESCRIPCIONLARGA, dbo.NCDEFINICIONETAPAS.URLIMAGENGRANDE,
dbo.NCDEFINICIONETAPAS.L_EXCLUIDA, dbo.TPROT_TASK.DURACION_STR, dbo.VAR_TPROT.TIPONC AS MODULEID,
dbo.VAR_TPROT.VAR_TPROT_CLASS
FROM         dbo.VAR_TPROT INNER JOIN
dbo.TPROT_TASK ON dbo.VAR_TPROT.CODIGONC = dbo.TPROT_TASK.CODIGONC INNER JOIN
dbo.NCDEFINICIONETAPAS ON dbo.TPROT_TASK.ETAPA = dbo.NCDEFINICIONETAPAS.ETAPA AND
dbo.VAR_TPROT.VAR_TPROT_CLASS = dbo.NCDEFINICIONETAPAS.TIPO
GO

GO
--SqlScripter----[dbo].[VISTA_TPROT_TASKSSTEPS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_TPROT_TASKSSTEPS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_TPROT_TASKSSTEPS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_TPROT_TASKSSTEPS]
AS
SELECT     N .TIPO AS TIPONC, T .CODIGONC, S.*
FROM         dbo.TPROT_TASKSSTEPS S INNER JOIN
                      dbo.TPROT_TASK T ON T .CODIGO = S.NCTASKID INNER JOIN
                      dbo.NCMAINPROD N ON N .CODIGO = T .CODIGONC
GO

GO
--SqlScripter----[dbo].[VISTA_TPROTTASK_DEPENDENCIES].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_TPROTTASK_DEPENDENCIES]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_TPROTTASK_DEPENDENCIES] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_TPROTTASK_DEPENDENCIES]
AS
SELECT     dbo.TPROTTASK_DEPENDENCIES.CODIGOTAREA, dbo.TPROTTASK_DEPENDENCIES.CODIGOTAREAREL, dbo.TPROT_TASK.DESCRIPCION,
dbo.TPROT_TASK.TIPO_TAREA
FROM         dbo.TPROTTASK_DEPENDENCIES INNER JOIN
dbo.TPROT_TASK ON dbo.TPROTTASK_DEPENDENCIES.CODIGOTAREAREL = dbo.TPROT_TASK.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_TPROTTASKSSTEPSRESPONSIBLES].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_TPROTTASKSSTEPSRESPONSIBLES]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_TPROTTASKSSTEPSRESPONSIBLES] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_TPROTTASKSSTEPSRESPONSIBLES]
AS
SELECT     
TPROT_TASKSSTEPSRESPONSIBLES.NCTASKSSTEPS_ID,
TPROT_TASKSSTEPSRESPONSIBLES.RESPONSIBLE_RANKID AS POSITION_ID,
VISTA_ORGANIGRAMA.CODIGOUSUARIO AS [USER_ID],
VISTA_ORGANIGRAMA.USUARIO AS USER_DESC ,
VISTA_ORGANIGRAMA.DESCRIPCION AS POSITION_DESC,
CASE 
	WHEN NOT USUARIO IS NULL AND (TIPO = 1 OR TIPO = 4) THEN VISTA_ORGANIGRAMA.DESCRIPCION + ' (' + VISTA_ORGANIGRAMA.USUARIO + ')' 
	WHEN USUARIO IS NULL AND (TIPO = 1 OR TIPO = 4) THEN VISTA_ORGANIGRAMA.DESCRIPCION + ' (Sin usuario asociado)' 
	ELSE VISTA_ORGANIGRAMA.DESCRIPCION 
END AS POSITION_FULLDESC


FROM         dbo.TPROT_TASKSSTEPSRESPONSIBLES
JOIN TPROT_TASKSSTEPS ON TPROT_TASKSSTEPS.NCTASKSSTEPS_ID=TPROT_TASKSSTEPSRESPONSIBLES.NCTASKSSTEPS_ID
JOIN VISTA_ORGANIGRAMA ON VISTA_ORGANIGRAMA.CODIGO=TPROT_TASKSSTEPSRESPONSIBLES.RESPONSIBLE_RANKID
GO

GO
--SqlScripter----[dbo].[VISTA_USUARIOCOORDINADOR].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER OFF
GO
IF OBJECT_ID('[dbo].[VISTA_USUARIOCOORDINADOR]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_USUARIOCOORDINADOR] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_USUARIOCOORDINADOR]
AS
SELECT     dbo.CARGOSUSUARIOS.CODIGOUSUARIO, dbo.NCMAINPROD.CODIGO AS CODIGONC, dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR
FROM         dbo.NCMAINPROD INNER JOIN
dbo.CARGOSUSUARIOS ON dbo.NCMAINPROD.CODIGOCARGOADMINISTRADOR = dbo.CARGOSUSUARIOS.CODIGOCARGO INNER JOIN
dbo.USUARIOS ON dbo.CARGOSUSUARIOS.CODIGOUSUARIO = dbo.USUARIOS.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_USUARIOINVOLUCRADO].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_USUARIOINVOLUCRADO]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_USUARIOINVOLUCRADO] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_USUARIOINVOLUCRADO]
AS
SELECT     dbo.NCINVOLUCRADOS.CODIGONC, dbo.CARGOSUSUARIOS.CODIGOCARGO, dbo.USUARIOS.CODIGO AS CODIGOUSUARIO,
dbo.NCINVOLUCRADOS.NIVEL
FROM         dbo.NCINVOLUCRADOS INNER JOIN
dbo.CARGOSUSUARIOS ON dbo.NCINVOLUCRADOS.CODIGOCARGO = dbo.CARGOSUSUARIOS.CODIGOCARGO INNER JOIN
dbo.USUARIOS ON dbo.CARGOSUSUARIOS.CODIGOUSUARIO = dbo.USUARIOS.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_USUARIOS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_USUARIOS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_USUARIOS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_USUARIOS]
AS
SELECT     dbo.USUARIOS.CODIGO, dbo.USUARIOS.USUARIO, dbo.USUARIOS.PASSWORD, dbo.USUARIOS.EMAIL, dbo.USUARIOS.CATEGORIA, 
                      dbo.USUARIOS.LOGINNAME, dbo.IK_HTMLREPORTS_OPTIONS.HTMLREPORTFILE, 
                      dbo.IK_HTMLREPORTS_OPTIONS.DESCRIPCION AS HTMLREPORT_DESCRIPTION
FROM         dbo.USUARIOS LEFT OUTER JOIN
                      dbo.IK_HTMLREPORTS_OPTIONS ON dbo.USUARIOS.IK_HTMLREPORTS_OPTIONS_ID = dbo.IK_HTMLREPORTS_OPTIONS.CODIGO
WHERE     (dbo.USUARIOS.L_DELETED = 0) AND (dbo.USUARIOS.L_WEBGROUP = 0) AND (dbo.USUARIOS.L_GRUPO = 0)
GO

GO
--SqlScripter----[dbo].[VISTA_USUARIOSNIVELACCESO].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_USUARIOSNIVELACCESO]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_USUARIOSNIVELACCESO] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_USUARIOSNIVELACCESO]
AS
SELECT     dbo.USUARIOS.USUARIO AS UserName, dbo.NCMODULESECURITYLEVELS.NIVELACCESO AS SecurityLevel,
dbo.NCMODULESECURITYLEVELS.L_PUEDENUEVOS AS NewAllowed, dbo.NCMODULESECURITYLEVELS.CODIGOUSUARIO AS UserId,
dbo.NCSECURITYLEVELSDESCRIPTION.DESCRIPCION AS LevelDescription, dbo.NCMODULESECURITYLEVELS.CODIGOTIPONC AS ModuleId,
dbo.NCMODULESECURITYLEVELS.CODIGO AS SecId
FROM         dbo.NCMODULESECURITYLEVELS INNER JOIN
dbo.USUARIOS ON dbo.NCMODULESECURITYLEVELS.CODIGOUSUARIO = dbo.USUARIOS.CODIGO INNER JOIN
dbo.NCSECURITYLEVELSDESCRIPTION ON dbo.NCMODULESECURITYLEVELS.NIVELACCESO = dbo.NCSECURITYLEVELSDESCRIPTION.NIVEL
GO

GO
--SqlScripter----[dbo].[VISTA_USUARIOSNIVELACCESODOCS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_USUARIOSNIVELACCESODOCS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_USUARIOSNIVELACCESODOCS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_USUARIOSNIVELACCESODOCS]
AS
SELECT     dbo.USUARIOS.USUARIO AS UserName, dbo.PERMISOSDOC.NIVELACCESO AS SecurityLevel, dbo.USUARIOS.CODIGO AS UserId,
dbo.NCSECURITYLEVELSDESCRIPTION.DESCRIPCION AS LevelDescription, dbo.PERMISOSDOC.CODIGO AS SecId,
dbo.PERMISOSDOC.CODIGODOCUMENTO
FROM         dbo.PERMISOSDOC INNER JOIN
dbo.USUARIOS ON dbo.PERMISOSDOC.CODIGOUSUARIO = dbo.USUARIOS.CODIGO INNER JOIN
dbo.NCSECURITYLEVELSDESCRIPTION ON dbo.PERMISOSDOC.NIVELACCESO = dbo.NCSECURITYLEVELSDESCRIPTION.NIVEL
GO

GO
--SqlScripter----[dbo].[VISTA_VARCHILD_COSTOS_CONTROL_CAMBIOS_XT].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_VARCHILD_COSTOS_CONTROL_CAMBIOS_XT]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_VARCHILD_COSTOS_CONTROL_CAMBIOS_XT] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_VARCHILD_COSTOS_CONTROL_CAMBIOS_XT]
AS
SELECT     dbo.VARCHILD_COSTOS_CONTROL_CAMBIOS_XT.CODIGO, dbo.VARCHILD_COSTOS_CONTROL_CAMBIOS_XT.CONTROL_CAMBIOS_CODIGONC, 
                      dbo.VARCHILD_COSTOS_CONTROL_CAMBIOS_XT.TBL_CATEGORIAS_APROBACIONES_ID, 
                      dbo.VARCHILD_COSTOS_CONTROL_CAMBIOS_XT.DESCRIPCION, dbo.VARCHILD_COSTOS_CONTROL_CAMBIOS_XT.DETALLE, 
                      dbo.VARCHILD_COSTOS_CONTROL_CAMBIOS_XT.MONTO, dbo.VARCHILD_COSTOS_CONTROL_CAMBIOS_XT.L_BUDGET, 
                      dbo.TBL_CATEGORIAS_APROBACIONES.DESCRIPCION AS TBL_CATEGORIAS_APROBACIONES_DESCRIPCION, 
                      dbo.VARCHILD_COSTOS_CONTROL_CAMBIOS_XT.INPUTDATE, dbo.VARCHILD_COSTOS_CONTROL_CAMBIOS_XT.INPUTUSER
FROM         dbo.VARCHILD_COSTOS_CONTROL_CAMBIOS_XT INNER JOIN
                      dbo.TBL_CATEGORIAS_APROBACIONES ON 
                      dbo.VARCHILD_COSTOS_CONTROL_CAMBIOS_XT.TBL_CATEGORIAS_APROBACIONES_ID = dbo.TBL_CATEGORIAS_APROBACIONES.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_VARCHILD_INFORMES_CONTROL_CAMBIOS_XT].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_VARCHILD_INFORMES_CONTROL_CAMBIOS_XT]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_VARCHILD_INFORMES_CONTROL_CAMBIOS_XT] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_VARCHILD_INFORMES_CONTROL_CAMBIOS_XT]
AS
SELECT     dbo.VARCHILD_INFORMES_CONTROL_CAMBIOS_XT.CODIGO, dbo.VARCHILD_INFORMES_CONTROL_CAMBIOS_XT.CONTROL_CAMBIOS_CODIGONC, 
                      dbo.VARCHILD_INFORMES_CONTROL_CAMBIOS_XT.TIPO_INFORME_ID, dbo.VARCHILD_INFORMES_CONTROL_CAMBIOS_XT.DESCRIPCION, 
                      dbo.VARCHILD_INFORMES_CONTROL_CAMBIOS_XT.DETALLE, dbo.VARCHILD_INFORMES_CONTROL_CAMBIOS_XT.INPUTUSER, 
                      dbo.VARCHILD_INFORMES_CONTROL_CAMBIOS_XT.INPUTDATE, 
                      dbo.TBL_TIPOS_INFORMES_CONTROL_CAMBIOS_XT.DESCRIPCION AS TIPO_INFORME_DESCRIPCION
FROM         dbo.VARCHILD_INFORMES_CONTROL_CAMBIOS_XT INNER JOIN
                      dbo.TBL_TIPOS_INFORMES_CONTROL_CAMBIOS_XT ON 
                      dbo.VARCHILD_INFORMES_CONTROL_CAMBIOS_XT.TIPO_INFORME_ID = dbo.TBL_TIPOS_INFORMES_CONTROL_CAMBIOS_XT.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_VC_IMPACTOS_CTRL_CAMB_XT].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_VC_IMPACTOS_CTRL_CAMB_XT]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_VC_IMPACTOS_CTRL_CAMB_XT] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_VC_IMPACTOS_CTRL_CAMB_XT]
AS
SELECT 
	VCIMP.CODIGO,
	VCIMP.CODIGONC,
	VCIMP.INPUTDATE,
	VCIMP.INPUTUSER,
	VCIMP.COMENTARIOS, 	
	TBLIMP.DESCRIPCION AS IMPACTO_DESC ,
	VCIMP.IMPACTO
FROM VARCHILD_IMPACTOS VCIMP 
	INNER JOIN TBL_TIPO_IMPACTO_XT TBLIMP ON VCIMP.IMPACTO = TBLIMP.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_VC_PRODS_CTRL_CAMB_XT].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_VC_PRODS_CTRL_CAMB_XT]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_VC_PRODS_CTRL_CAMB_XT] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_VC_PRODS_CTRL_CAMB_XT]
AS
SELECT 
	VCPROD.CODIGO,
	VCPROD.CODIGONC,
	VCPROD.INPUTDATE,
	VCPROD.INPUTUSER,
	VCPROD.COMENTARIOS, 
	ISNULL(VCPROD.PRODUCTO_2,'N/A') AS PRODUCTO_2, 
	ISNULL(VCPROD.LOTE,'N/A') AS LOTE, 
	TBLPROD.DESCRIPCION AS PRODUCTO_DESC ,
	VCPROD.PRODUCTO 
FROM VARCHILD_PRODUCTOS VCPROD 
	INNER JOIN VISTA_PRODUCTOS_OTROS_ELEMENTOS_AFECTADOS TBLPROD ON VCPROD.PRODUCTO = TBLPROD.CODIGO
GO

GO
--SqlScripter----[dbo].[VISTA_WEBGROUPUSERS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_WEBGROUPUSERS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_WEBGROUPUSERS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_WEBGROUPUSERS]
AS
SELECT     dbo.USUARIOS.CODIGO, dbo.USUARIOS.USUARIO, dbo.USUARIOS.EMAIL, dbo.WEBGROUPMEMBERS.CODIGOGRUPO,
USUARIOS_1.USUARIO AS GRUPO
FROM         dbo.WEBGROUPMEMBERS INNER JOIN
dbo.USUARIOS ON dbo.WEBGROUPMEMBERS.CODIGOUSUARIO = dbo.USUARIOS.CODIGO INNER JOIN
dbo.USUARIOS USUARIOS_1 ON dbo.WEBGROUPMEMBERS.CODIGOGRUPO = USUARIOS_1.CODIGO
WHERE     (dbo.USUARIOS.L_DELETED <> 1)
GO

GO
--SqlScripter----[dbo].[VISTA_WF_APPROVAL_RECORDS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_WF_APPROVAL_RECORDS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_WF_APPROVAL_RECORDS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_WF_APPROVAL_RECORDS]
AS
SELECT     dbo.WF_NODE.WF_NODE_ID, dbo.WF_NODE.WF_ID, dbo.WF_NODE.WF_NODE_XMLNODE_ID, dbo.WF_NODE.WF_NODE_STATE, 
                      dbo.WF_NODE.WF_NODE_STARTDATE, dbo.WF_NODE.WF_NODE_ENDDATE, dbo.WF_NODE.WF_NODE_CREATED, 
                      dbo.WF_APPROVAL_REQUIREMENTS.WF_APPROVAL_REQUIREMENTS_DIRECTIONS, 
                      dbo.WF_APPROVAL_REQUIREMENTS.WF_APPROVAL_REQUIREMENTS_STARTDATE, 
                      dbo.WF_APPROVAL_REQUIREMENTS.WF_APPROVAL_REQUIREMENTS_ENDDATE, dbo.WF_APPROVAL_RECORDS.IKPERSON_ID, 
                      CASE WHEN dbo.WF_APPROVAL_RECORDS.WF_APPROVAL_RECORDS_APPROVED_REPORT IS NULL 
                      THEN 'N/A' ELSE dbo.WF_APPROVAL_RECORDS.WF_APPROVAL_RECORDS_APPROVED_REPORT END AS WF_APPROVAL_RECORDS_APPROVED_REPORT,
                       dbo.WF_APPROVAL_RECORDS.WF_APPROVAL_RECORDS_STATUS_ID, dbo.WF_APPROVAL_RECORDS.WF_APPROVAL_RECORDS_LEVEL, 
                      CASE WHEN dbo.WF_APPROVAL_RECORDS.WF_APPROVAL_RECORDS_APPROVEDBYUSER IS NULL 
                      THEN 'N/A' ELSE dbo.WF_APPROVAL_RECORDS.WF_APPROVAL_RECORDS_APPROVEDBYUSER END AS WF_APPROVAL_RECORDS_APPROVEDBYUSER,
                       dbo.WF_APPROVAL_RECORDS.WF_APPROVAL_RECORDS_APPROVEDDATE, 
                      CASE WHEN dbo.WF_APPROVAL_RECORDS.WF_APPROVAL_RECORDS_COMMENTSFROMAPPROVER IS NULL OR
                      LEN(CONVERT(nvarchar(10), dbo.WF_APPROVAL_RECORDS.WF_APPROVAL_RECORDS_COMMENTSFROMAPPROVER)) 
                      = 0 THEN 'N/A' ELSE dbo.WF_APPROVAL_RECORDS.WF_APPROVAL_RECORDS_COMMENTSFROMAPPROVER END AS WF_APPROVAL_RECORDS_COMMENTSFROMAPPROVER,
                       CASE WHEN dbo.WF_APPROVAL_RECORDS.WF_APPROVAL_RECORDS_COMMENTSTOAPPROVER IS NULL OR
                      LEN(CONVERT(nvarchar(10), dbo.WF_APPROVAL_RECORDS.WF_APPROVAL_RECORDS_COMMENTSTOAPPROVER)) 
                      = 0 THEN 'N/A' ELSE dbo.WF_APPROVAL_RECORDS.WF_APPROVAL_RECORDS_COMMENTSTOAPPROVER END AS WF_APPROVAL_RECORDS_COMMENTSTOAPPROVER,
                       dbo.PERSONAS.EMAIL, dbo.PERSONAS.USUARIO, dbo.PERSONAS.PERSONA, dbo.WF_APPROVAL_RECORDS.WF_APPROVAL_RECORDS_ID, 
                      dbo.WF_APPROVAL_RECORDS_STATUS.WF_APPROVAL_RECORDS_STATUS_DESCRIPTION, dbo.NCMAINPROD.CODIGO AS CODIGONC, 
                      dbo.NCMAINPROD.TIPO AS MODULEID, dbo.NCMAINPROD.DESCRIPCION AS ISSUE_DESCRIPTION, 
                      dbo.ik_wf_approval_get_record_level_description(dbo.WF_NODE.WF_NODE_ID, dbo.WF_APPROVAL_RECORDS.WF_APPROVAL_RECORDS_LEVEL) 
                      AS WF_APPROVAL_RECORDS_LEVEL_DESCRIPTION, 
                      dbo.WF_APPROVAL_REQUIREMENTS.WF_APPROVAL_REQUIREMENTS_RECORD_APPROVAL_VIEW, 
                      dbo.WF_APPROVAL_REQUIREMENTS.WF_APPROVAL_REQUIREMENTS_DESCRIPTION, dbo.NCMAINPROD.ESTADO AS ISSUE_STATUS, 
                      dbo.WF_SCHEDDATES.WF_SCHEDDATES_DATE AS WFNODE_SCHEDENDDATE
FROM         dbo.WF_NODE INNER JOIN
                      dbo.WF_APPROVAL_REQUIREMENTS ON dbo.WF_NODE.WF_NODE_ID = dbo.WF_APPROVAL_REQUIREMENTS.WF_NODE_ID INNER JOIN
                      dbo.WF_APPROVAL_RECORDS ON dbo.WF_APPROVAL_REQUIREMENTS.WF_NODE_ID = dbo.WF_APPROVAL_RECORDS.WF_NODE_ID INNER JOIN
                      dbo.PERSONAS ON dbo.WF_APPROVAL_RECORDS.IKPERSON_ID = dbo.PERSONAS.CODIGO INNER JOIN
                      dbo.WF_APPROVAL_RECORDS_STATUS ON 
                      dbo.WF_APPROVAL_RECORDS_STATUS.WF_APPROVAL_RECORDS_STATUS_ID = dbo.WF_APPROVAL_RECORDS.WF_APPROVAL_RECORDS_STATUS_ID
                       INNER JOIN
                      dbo.NCMAINPROD ON dbo.WF_NODE.WF_ID = dbo.NCMAINPROD.WF_ID LEFT OUTER JOIN
                      dbo.WF_SCHEDDATES ON dbo.WF_APPROVAL_REQUIREMENTS.WF_NODE_ID = dbo.WF_SCHEDDATES.WF_NODE_ID
GO

GO
--SqlScripter----[dbo].[VISTA_WF_APPROVAL_REQUIREMENTS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[VISTA_WF_APPROVAL_REQUIREMENTS]') IS NULL EXEC('CREATE VIEW [dbo].[VISTA_WF_APPROVAL_REQUIREMENTS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[VISTA_WF_APPROVAL_REQUIREMENTS]
AS

SELECT     dbo.WF_NODE.WF_NODE_ID, dbo.WF_NODE.WF_ID, dbo.WF_NODE.WF_NODE_XMLNODE_ID, 
                      dbo.WF_APPROVAL_REQUIREMENTS.WF_APPROVAL_REQUIREMENTS_DESCRIPTION, 
                      CASE WHEN dbo.WF_APPROVAL_REQUIREMENTS.WF_APPROVAL_REQUIREMENTS_DIRECTIONS IS NULL OR
                      LEN(CONVERT(nvarchar(10), dbo.WF_APPROVAL_REQUIREMENTS.WF_APPROVAL_REQUIREMENTS_DIRECTIONS)) 
                      = 0 THEN 'N/A' ELSE dbo.WF_APPROVAL_REQUIREMENTS.WF_APPROVAL_REQUIREMENTS_DIRECTIONS END AS WF_APPROVAL_REQUIREMENTS_DIRECTIONS,
                       dbo.WF_APPROVAL_REQUIREMENTS.WF_APPROVAL_REQUIREMENTS_STARTDATE, 
                      dbo.WF_APPROVAL_REQUIREMENTS.WF_APPROVAL_REQUIREMENTS_ENDDATE, dbo.NCMAINPROD.CODIGO AS CODIGONC, 
                      dbo.NCMAINPROD.TIPO AS MODULEID, dbo.NCMAINPROD.DESCRIPCION AS ISSUE_DESCRIPTION, 
                      dbo.WF_APPROVAL_REQUIREMENTS.WF_APPROVAL_REQUIREMENTS_RECORD_APPROVAL_VIEW, dbo.WF_NODE.WF_NODE_STARTDATE, 
                      dbo.WF_NODE.WF_NODE_ENDDATE, dbo.WF_SCHEDDATES.WF_SCHEDDATES_DATE AS WFNODE_SCHEDENDDATE
FROM         dbo.WF_NODE INNER JOIN
                      dbo.WF_APPROVAL_REQUIREMENTS ON dbo.WF_NODE.WF_NODE_ID = dbo.WF_APPROVAL_REQUIREMENTS.WF_NODE_ID INNER JOIN
                      dbo.NCMAINPROD ON dbo.WF_NODE.WF_ID = dbo.NCMAINPROD.WF_ID LEFT OUTER JOIN
                      dbo.WF_SCHEDDATES ON dbo.WF_NODE.WF_NODE_ID = dbo.WF_SCHEDDATES.WF_NODE_ID
GO

GO
--SqlScripter----[dbo].[WEBGROUPS].sql
GO
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
IF OBJECT_ID('[dbo].[WEBGROUPS]') IS NULL EXEC('CREATE VIEW [dbo].[WEBGROUPS] AS /*TEMPORARY OBJECT, DELETE AFTER ALL OBJECTS ARE CREATED*/ SELECT 0 C1')
GO
ALTER VIEW [dbo].[WEBGROUPS]
AS
SELECT     CODIGO, USUARIO AS GRUPO, GUID, DN, CASE WHEN NOT GUID IS NULL THEN 1 WHEN NOT DN IS NULL AND LEN(DN) 
                      > 0 THEN 1 ELSE 0 END AS L_IS_SYNCHRONIZED
FROM         dbo.IK_PEOPLE
WHERE     (L_WEBGROUP = 1)
GO
